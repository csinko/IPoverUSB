ARM GAS  /tmp/cchWgQj6.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_utils.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Uint2Unicode,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.weak	Uint2Unicode
  21              		.arch armv7e-m
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  25              		.fpu fpv4-sp-d16
  27              	Uint2Unicode:
  28              	.LVL0:
  29              	.LFB141:
  30              		.file 1 "USBDevice/Device/usbd_utils.c"
   1:USBDevice/Device/usbd_utils.c **** /**
   2:USBDevice/Device/usbd_utils.c ****   ******************************************************************************
   3:USBDevice/Device/usbd_utils.c ****   * @file    usbd_utils.c
   4:USBDevice/Device/usbd_utils.c ****   * @author  Benedek Kupper
   5:USBDevice/Device/usbd_utils.c ****   * @version 0.1
   6:USBDevice/Device/usbd_utils.c ****   * @date    2018-01-31
   7:USBDevice/Device/usbd_utils.c ****   * @brief   Universal Serial Bus Device Driver
   8:USBDevice/Device/usbd_utils.c ****   *          Utilities for descriptor conversion
   9:USBDevice/Device/usbd_utils.c ****   *
  10:USBDevice/Device/usbd_utils.c ****   * Copyright (c) 2018 Benedek Kupper
  11:USBDevice/Device/usbd_utils.c ****   *
  12:USBDevice/Device/usbd_utils.c ****   * Licensed under the Apache License, Version 2.0 (the "License");
  13:USBDevice/Device/usbd_utils.c ****   * you may not use this file except in compliance with the License.
  14:USBDevice/Device/usbd_utils.c ****   * You may obtain a copy of the License at
  15:USBDevice/Device/usbd_utils.c ****   *
  16:USBDevice/Device/usbd_utils.c ****   *     http://www.apache.org/licenses/LICENSE-2.0
  17:USBDevice/Device/usbd_utils.c ****   *
  18:USBDevice/Device/usbd_utils.c ****   * Unless required by applicable law or agreed to in writing, software
  19:USBDevice/Device/usbd_utils.c ****   * distributed under the License is distributed on an "AS IS" BASIS,
  20:USBDevice/Device/usbd_utils.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:USBDevice/Device/usbd_utils.c ****   * See the License for the specific language governing permissions and
  22:USBDevice/Device/usbd_utils.c ****   * limitations under the License.
  23:USBDevice/Device/usbd_utils.c ****   */
  24:USBDevice/Device/usbd_utils.c **** #include <usbd_types.h>
  25:USBDevice/Device/usbd_utils.c **** #include <usbd_utils.h>
  26:USBDevice/Device/usbd_utils.c **** 
  27:USBDevice/Device/usbd_utils.c **** /**
  28:USBDevice/Device/usbd_utils.c ****  * @ingroup USBD
ARM GAS  /tmp/cchWgQj6.s 			page 2


  29:USBDevice/Device/usbd_utils.c ****  * @addtogroup USBD_Utils USBD Utility functions
  30:USBDevice/Device/usbd_utils.c ****  * @{ */
  31:USBDevice/Device/usbd_utils.c **** 
  32:USBDevice/Device/usbd_utils.c **** /**
  33:USBDevice/Device/usbd_utils.c ****  * @brief Convert raw integers into Unicode string
  34:USBDevice/Device/usbd_utils.c ****  * @param data: address of raw data
  35:USBDevice/Device/usbd_utils.c ****  * @param unicode: Unicode string output
  36:USBDevice/Device/usbd_utils.c ****  * @param len: number of hexadecimal digits to output
  37:USBDevice/Device/usbd_utils.c ****  */
  38:USBDevice/Device/usbd_utils.c **** __weak void Uint2Unicode(const uint8_t *data, uint8_t *unicode, uint16_t len)
  39:USBDevice/Device/usbd_utils.c **** {
  31              		.loc 1 39 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  40:USBDevice/Device/usbd_utils.c ****     uint8_t i = 0;
  35              		.loc 1 40 5 view .LVU1
  41:USBDevice/Device/usbd_utils.c **** 
  42:USBDevice/Device/usbd_utils.c ****     len *= 2;
  36              		.loc 1 42 5 view .LVU2
  37              		.loc 1 42 9 is_stmt 0 view .LVU3
  38 0000 5200     		lsls	r2, r2, #1
  39              	.LVL1:
  40              		.loc 1 42 9 view .LVU4
  41 0002 1FFA82FC 		uxth	ip, r2
  42              	.LVL2:
  43:USBDevice/Device/usbd_utils.c ****     while (i < len)
  43              		.loc 1 43 5 is_stmt 1 view .LVU5
  44              		.loc 1 43 11 view .LVU6
  45 0006 BCF1000F 		cmp	ip, #0
  46 000a 32D0     		beq	.L9
  40:USBDevice/Device/usbd_utils.c ****     uint8_t i = 0;
  47              		.loc 1 40 13 is_stmt 0 view .LVU7
  48 000c 0023     		movs	r3, #0
  39:USBDevice/Device/usbd_utils.c ****     uint8_t i = 0;
  49              		.loc 1 39 1 view .LVU8
  50 000e 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
  51              	.LCFI0:
  52              		.cfi_def_cfa_offset 32
  53              		.cfi_offset 4, -32
  54              		.cfi_offset 5, -28
  55              		.cfi_offset 6, -24
  56              		.cfi_offset 7, -20
  57              		.cfi_offset 8, -16
  58              		.cfi_offset 9, -12
  59              		.cfi_offset 10, -8
  60              		.cfi_offset 14, -4
  61              	.LBB2:
  44:USBDevice/Device/usbd_utils.c ****     {
  45:USBDevice/Device/usbd_utils.c ****         uint8_t val;
  46:USBDevice/Device/usbd_utils.c **** 
  47:USBDevice/Device/usbd_utils.c ****         if ((i & 2) == 0)
  48:USBDevice/Device/usbd_utils.c ****         {
  49:USBDevice/Device/usbd_utils.c ****             val = *data >> 4;
  50:USBDevice/Device/usbd_utils.c ****         }
  51:USBDevice/Device/usbd_utils.c ****         else
  52:USBDevice/Device/usbd_utils.c ****         {
ARM GAS  /tmp/cchWgQj6.s 			page 3


  53:USBDevice/Device/usbd_utils.c ****             val = *data & 0xF;
  54:USBDevice/Device/usbd_utils.c ****             data++;
  55:USBDevice/Device/usbd_utils.c ****         }
  56:USBDevice/Device/usbd_utils.c **** 
  57:USBDevice/Device/usbd_utils.c ****         if (val < 0xA)
  58:USBDevice/Device/usbd_utils.c ****         {
  59:USBDevice/Device/usbd_utils.c ****             unicode[i] = '0' + val;
  60:USBDevice/Device/usbd_utils.c ****         }
  61:USBDevice/Device/usbd_utils.c ****         else
  62:USBDevice/Device/usbd_utils.c ****         {
  63:USBDevice/Device/usbd_utils.c ****             unicode[i] = 'A' - 10 + val;
  64:USBDevice/Device/usbd_utils.c ****         }
  65:USBDevice/Device/usbd_utils.c ****         i++;
  66:USBDevice/Device/usbd_utils.c ****         unicode[i] = 0x00;
  62              		.loc 1 66 20 view .LVU9
  63 0012 9846     		mov	r8, r3
  64              	.LVL3:
  65              	.L8:
  45:USBDevice/Device/usbd_utils.c **** 
  66              		.loc 1 45 9 is_stmt 1 view .LVU10
  47:USBDevice/Device/usbd_utils.c ****         {
  67              		.loc 1 47 9 view .LVU11
  49:USBDevice/Device/usbd_utils.c ****         }
  68              		.loc 1 49 13 view .LVU12
  53:USBDevice/Device/usbd_utils.c ****             data++;
  69              		.loc 1 53 13 view .LVU13
  70 0014 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
  47:USBDevice/Device/usbd_utils.c ****         {
  71              		.loc 1 47 12 is_stmt 0 view .LVU14
  72 0016 13F0020F 		tst	r3, #2
  65:USBDevice/Device/usbd_utils.c ****         unicode[i] = 0x00;
  73              		.loc 1 65 10 view .LVU15
  74 001a 03F10104 		add	r4, r3, #1
  67:USBDevice/Device/usbd_utils.c ****         i++;
  75              		.loc 1 67 10 view .LVU16
  76 001e 03F10207 		add	r7, r3, #2
  53:USBDevice/Device/usbd_utils.c ****             data++;
  77              		.loc 1 53 17 view .LVU17
  78 0022 02F00F05 		and	r5, r2, #15
  79              	.LVL4:
  54:USBDevice/Device/usbd_utils.c ****         }
  80              		.loc 1 54 13 is_stmt 1 view .LVU18
  49:USBDevice/Device/usbd_utils.c ****         }
  81              		.loc 1 49 17 is_stmt 0 view .LVU19
  82 0026 0CBF     		ite	eq
  83 0028 1509     		lsreq	r5, r2, #4
  84              	.LVL5:
  54:USBDevice/Device/usbd_utils.c ****         }
  85              		.loc 1 54 17 view .LVU20
  86 002a 0130     		addne	r0, r0, #1
  87              	.LVL6:
  57:USBDevice/Device/usbd_utils.c ****         {
  88              		.loc 1 57 9 is_stmt 1 view .LVU21
  59:USBDevice/Device/usbd_utils.c ****         }
  89              		.loc 1 59 13 view .LVU22
  63:USBDevice/Device/usbd_utils.c ****         }
  90              		.loc 1 63 13 view .LVU23
ARM GAS  /tmp/cchWgQj6.s 			page 4


  65:USBDevice/Device/usbd_utils.c ****         unicode[i] = 0x00;
  91              		.loc 1 65 10 is_stmt 0 view .LVU24
  92 002c 2246     		mov	r2, r4
  57:USBDevice/Device/usbd_utils.c ****         {
  93              		.loc 1 57 12 view .LVU25
  94 002e 092D     		cmp	r5, #9
  59:USBDevice/Device/usbd_utils.c ****         }
  95              		.loc 1 59 30 view .LVU26
  96 0030 05F1300E 		add	lr, r5, #48
  63:USBDevice/Device/usbd_utils.c ****         }
  97              		.loc 1 63 35 view .LVU27
  98 0034 05F13709 		add	r9, r5, #55
  66:USBDevice/Device/usbd_utils.c ****         i++;
  99              		.loc 1 66 16 view .LVU28
 100 0038 E4B2     		uxtb	r4, r4
 101 003a D2B2     		uxtb	r2, r2
 102              	.LBE2:
  43:USBDevice/Device/usbd_utils.c ****     {
 103              		.loc 1 43 11 view .LVU29
 104 003c 5FFA87FA 		uxtb	r10, r7
 105 0040 FDB2     		uxtb	r5, r7
 106              	.LVL7:
 107              	.LBB3:
  57:USBDevice/Device/usbd_utils.c ****         {
 108              		.loc 1 57 12 view .LVU30
 109 0042 0ED8     		bhi	.L5
 110              	.LBE3:
  43:USBDevice/Device/usbd_utils.c ****     {
 111              		.loc 1 43 11 view .LVU31
 112 0044 D445     		cmp	ip, r10
 113              	.LBB4:
  59:USBDevice/Device/usbd_utils.c ****         }
 114              		.loc 1 59 24 view .LVU32
 115 0046 01F803E0 		strb	lr, [r1, r3]
  65:USBDevice/Device/usbd_utils.c ****         unicode[i] = 0x00;
 116              		.loc 1 65 9 is_stmt 1 view .LVU33
 117              	.LVL8:
  66:USBDevice/Device/usbd_utils.c ****         i++;
 118              		.loc 1 66 9 view .LVU34
 119              		.loc 1 67 10 is_stmt 0 view .LVU35
 120 004a 5346     		mov	r3, r10
 121              	.LVL9:
  66:USBDevice/Device/usbd_utils.c ****         i++;
 122              		.loc 1 66 20 view .LVU36
 123 004c 01F80480 		strb	r8, [r1, r4]
 124              		.loc 1 67 9 is_stmt 1 view .LVU37
 125              	.LVL10:
 126              		.loc 1 67 9 is_stmt 0 view .LVU38
 127              	.LBE4:
  43:USBDevice/Device/usbd_utils.c ****     {
 128              		.loc 1 43 11 is_stmt 1 view .LVU39
 129 0050 E0D8     		bhi	.L8
 130              	.LVL11:
 131              	.L7:
  43:USBDevice/Device/usbd_utils.c ****     {
 132              		.loc 1 43 11 is_stmt 0 view .LVU40
 133 0052 5A1C     		adds	r2, r3, #1
ARM GAS  /tmp/cchWgQj6.s 			page 5


  68:USBDevice/Device/usbd_utils.c ****     }
  69:USBDevice/Device/usbd_utils.c **** 
  70:USBDevice/Device/usbd_utils.c ****     /* Null termination not used by USB string descriptors */
  71:USBDevice/Device/usbd_utils.c ****     unicode[i++] = '\0';
 134              		.loc 1 71 18 view .LVU41
 135 0054 0020     		movs	r0, #0
 136              	.LVL12:
 137              		.loc 1 71 18 view .LVU42
 138 0056 0B44     		add	r3, r3, r1
 139 0058 D2B2     		uxtb	r2, r2
 140              		.loc 1 71 5 is_stmt 1 view .LVU43
 141              		.loc 1 71 18 is_stmt 0 view .LVU44
 142 005a 1870     		strb	r0, [r3]
  72:USBDevice/Device/usbd_utils.c ****     unicode[i] = 0x00;
 143              		.loc 1 72 5 is_stmt 1 view .LVU45
 144              		.loc 1 72 16 is_stmt 0 view .LVU46
 145 005c 8854     		strb	r0, [r1, r2]
  73:USBDevice/Device/usbd_utils.c **** }
 146              		.loc 1 73 1 view .LVU47
 147 005e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 148              	.LVL13:
 149              	.L5:
  43:USBDevice/Device/usbd_utils.c ****     {
 150              		.loc 1 43 11 view .LVU48
 151 0062 AC45     		cmp	ip, r5
 152              	.LBB5:
  63:USBDevice/Device/usbd_utils.c ****         }
 153              		.loc 1 63 24 view .LVU49
 154 0064 01F80390 		strb	r9, [r1, r3]
  65:USBDevice/Device/usbd_utils.c ****         unicode[i] = 0x00;
 155              		.loc 1 65 9 is_stmt 1 view .LVU50
 156              	.LVL14:
  66:USBDevice/Device/usbd_utils.c ****         i++;
 157              		.loc 1 66 9 view .LVU51
  67:USBDevice/Device/usbd_utils.c ****     }
 158              		.loc 1 67 10 is_stmt 0 view .LVU52
 159 0068 FBB2     		uxtb	r3, r7
 160              	.LVL15:
  66:USBDevice/Device/usbd_utils.c ****         i++;
 161              		.loc 1 66 20 view .LVU53
 162 006a 01F80280 		strb	r8, [r1, r2]
  67:USBDevice/Device/usbd_utils.c ****     }
 163              		.loc 1 67 9 is_stmt 1 view .LVU54
 164              	.LVL16:
  67:USBDevice/Device/usbd_utils.c ****     }
 165              		.loc 1 67 9 is_stmt 0 view .LVU55
 166              	.LBE5:
  43:USBDevice/Device/usbd_utils.c ****     {
 167              		.loc 1 43 11 is_stmt 1 view .LVU56
 168 006e D1D8     		bhi	.L8
 169 0070 EFE7     		b	.L7
 170              	.LVL17:
 171              	.L9:
 172              	.LCFI1:
 173              		.cfi_def_cfa_offset 0
 174              		.cfi_restore 4
 175              		.cfi_restore 5
ARM GAS  /tmp/cchWgQj6.s 			page 6


 176              		.cfi_restore 6
 177              		.cfi_restore 7
 178              		.cfi_restore 8
 179              		.cfi_restore 9
 180              		.cfi_restore 10
 181              		.cfi_restore 14
  71:USBDevice/Device/usbd_utils.c ****     unicode[i] = 0x00;
 182              		.loc 1 71 18 is_stmt 0 view .LVU57
 183 0072 0020     		movs	r0, #0
 184              	.LVL18:
  43:USBDevice/Device/usbd_utils.c ****     {
 185              		.loc 1 43 11 view .LVU58
 186 0074 0122     		movs	r2, #1
  71:USBDevice/Device/usbd_utils.c ****     unicode[i] = 0x00;
 187              		.loc 1 71 5 is_stmt 1 view .LVU59
 188              	.LVL19:
  71:USBDevice/Device/usbd_utils.c ****     unicode[i] = 0x00;
 189              		.loc 1 71 18 is_stmt 0 view .LVU60
 190 0076 0870     		strb	r0, [r1]
  72:USBDevice/Device/usbd_utils.c **** }
 191              		.loc 1 72 5 is_stmt 1 view .LVU61
  72:USBDevice/Device/usbd_utils.c **** }
 192              		.loc 1 72 16 is_stmt 0 view .LVU62
 193 0078 8854     		strb	r0, [r1, r2]
 194 007a 7047     		bx	lr
 195              		.cfi_endproc
 196              	.LFE141:
 198              		.text
 199              	.Letext0:
 200              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 201              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 202              		.file 4 "STM32_XPD/CMSIS/Include/core_cm7.h"
 203              		.file 5 "STM32_XPD/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
ARM GAS  /tmp/cchWgQj6.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_utils.c
     /tmp/cchWgQj6.s:18     .text.Uint2Unicode:0000000000000000 $t
     /tmp/cchWgQj6.s:27     .text.Uint2Unicode:0000000000000000 Uint2Unicode

NO UNDEFINED SYMBOLS
