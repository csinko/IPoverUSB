ARM GAS  /tmp/ccJoevLK.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"pbuf.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.pbuf_free.part.0.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 70627566 		.ascii	"pbuf_free: p->ref > 0\000"
  20      5F667265 
  20      653A2070 
  20      2D3E7265 
  20      66203E20 
  21 0016 0000     		.align	2
  22              	.LC1:
  23 0018 70632D3E 		.ascii	"pc->custom_free_function != NULL\000"
  23      63757374 
  23      6F6D5F66 
  23      7265655F 
  23      66756E63 
  24 0039 000000   		.align	2
  25              	.LC2:
  26 003c 696E7661 		.ascii	"invalid pbuf type\000"
  26      6C696420 
  26      70627566 
  26      20747970 
  26      6500
  27              		.section	.text.pbuf_free.part.0,"ax",%progbits
  28              		.align	1
  29              		.p2align 2,,3
  30              		.arch armv7e-m
  31              		.syntax unified
  32              		.thumb
  33              		.thumb_func
  34              		.fpu fpv4-sp-d16
  36              	pbuf_free.part.0:
  37              	.LVL0:
  38              	.LFB143:
  39              		.file 1 "lwIP/src/core/pbuf.c"
   1:lwIP/src/core/pbuf.c **** /**
   2:lwIP/src/core/pbuf.c ****  * @file
   3:lwIP/src/core/pbuf.c ****  * Packet buffer management
   4:lwIP/src/core/pbuf.c ****  */
   5:lwIP/src/core/pbuf.c **** 
   6:lwIP/src/core/pbuf.c **** /**
   7:lwIP/src/core/pbuf.c ****  * @defgroup pbuf Packet buffers (PBUF)
ARM GAS  /tmp/ccJoevLK.s 			page 2


   8:lwIP/src/core/pbuf.c ****  * @ingroup infrastructure
   9:lwIP/src/core/pbuf.c ****  *
  10:lwIP/src/core/pbuf.c ****  * Packets are built from the pbuf data structure. It supports dynamic
  11:lwIP/src/core/pbuf.c ****  * memory allocation for packet contents or can reference externally
  12:lwIP/src/core/pbuf.c ****  * managed packet contents both in RAM and ROM. Quick allocation for
  13:lwIP/src/core/pbuf.c ****  * incoming packets is provided through pools with fixed sized pbufs.
  14:lwIP/src/core/pbuf.c ****  *
  15:lwIP/src/core/pbuf.c ****  * A packet may span over multiple pbufs, chained as a singly linked
  16:lwIP/src/core/pbuf.c ****  * list. This is called a "pbuf chain".
  17:lwIP/src/core/pbuf.c ****  *
  18:lwIP/src/core/pbuf.c ****  * Multiple packets may be queued, also using this singly linked list.
  19:lwIP/src/core/pbuf.c ****  * This is called a "packet queue".
  20:lwIP/src/core/pbuf.c ****  *
  21:lwIP/src/core/pbuf.c ****  * So, a packet queue consists of one or more pbuf chains, each of
  22:lwIP/src/core/pbuf.c ****  * which consist of one or more pbufs. CURRENTLY, PACKET QUEUES ARE
  23:lwIP/src/core/pbuf.c ****  * NOT SUPPORTED!!! Use helper structs to queue multiple packets.
  24:lwIP/src/core/pbuf.c ****  *
  25:lwIP/src/core/pbuf.c ****  * The differences between a pbuf chain and a packet queue are very
  26:lwIP/src/core/pbuf.c ****  * precise but subtle.
  27:lwIP/src/core/pbuf.c ****  *
  28:lwIP/src/core/pbuf.c ****  * The last pbuf of a packet has a ->tot_len field that equals the
  29:lwIP/src/core/pbuf.c ****  * ->len field. It can be found by traversing the list. If the last
  30:lwIP/src/core/pbuf.c ****  * pbuf of a packet has a ->next field other than NULL, more packets
  31:lwIP/src/core/pbuf.c ****  * are on the queue.
  32:lwIP/src/core/pbuf.c ****  *
  33:lwIP/src/core/pbuf.c ****  * Therefore, looping through a pbuf of a single packet, has an
  34:lwIP/src/core/pbuf.c ****  * loop end condition (tot_len == p->len), NOT (next == NULL).
  35:lwIP/src/core/pbuf.c ****  *
  36:lwIP/src/core/pbuf.c ****  * Example of custom pbuf usage: @ref zerocopyrx
  37:lwIP/src/core/pbuf.c ****  */
  38:lwIP/src/core/pbuf.c **** 
  39:lwIP/src/core/pbuf.c **** /*
  40:lwIP/src/core/pbuf.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  41:lwIP/src/core/pbuf.c ****  * All rights reserved.
  42:lwIP/src/core/pbuf.c ****  *
  43:lwIP/src/core/pbuf.c ****  * Redistribution and use in source and binary forms, with or without modification,
  44:lwIP/src/core/pbuf.c ****  * are permitted provided that the following conditions are met:
  45:lwIP/src/core/pbuf.c ****  *
  46:lwIP/src/core/pbuf.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  47:lwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer.
  48:lwIP/src/core/pbuf.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  49:lwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer in the documentation
  50:lwIP/src/core/pbuf.c ****  *    and/or other materials provided with the distribution.
  51:lwIP/src/core/pbuf.c ****  * 3. The name of the author may not be used to endorse or promote products
  52:lwIP/src/core/pbuf.c ****  *    derived from this software without specific prior written permission.
  53:lwIP/src/core/pbuf.c ****  *
  54:lwIP/src/core/pbuf.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  55:lwIP/src/core/pbuf.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  56:lwIP/src/core/pbuf.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  57:lwIP/src/core/pbuf.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  58:lwIP/src/core/pbuf.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  59:lwIP/src/core/pbuf.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  60:lwIP/src/core/pbuf.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  61:lwIP/src/core/pbuf.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  62:lwIP/src/core/pbuf.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  63:lwIP/src/core/pbuf.c ****  * OF SUCH DAMAGE.
  64:lwIP/src/core/pbuf.c ****  *
ARM GAS  /tmp/ccJoevLK.s 			page 3


  65:lwIP/src/core/pbuf.c ****  * This file is part of the lwIP TCP/IP stack.
  66:lwIP/src/core/pbuf.c ****  *
  67:lwIP/src/core/pbuf.c ****  * Author: Adam Dunkels <adam@sics.se>
  68:lwIP/src/core/pbuf.c ****  *
  69:lwIP/src/core/pbuf.c ****  */
  70:lwIP/src/core/pbuf.c **** 
  71:lwIP/src/core/pbuf.c **** #include "lwip/opt.h"
  72:lwIP/src/core/pbuf.c **** 
  73:lwIP/src/core/pbuf.c **** #include "lwip/pbuf.h"
  74:lwIP/src/core/pbuf.c **** #include "lwip/stats.h"
  75:lwIP/src/core/pbuf.c **** #include "lwip/def.h"
  76:lwIP/src/core/pbuf.c **** #include "lwip/mem.h"
  77:lwIP/src/core/pbuf.c **** #include "lwip/memp.h"
  78:lwIP/src/core/pbuf.c **** #include "lwip/sys.h"
  79:lwIP/src/core/pbuf.c **** #include "lwip/netif.h"
  80:lwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ
  81:lwIP/src/core/pbuf.c **** #include "lwip/priv/tcp_priv.h"
  82:lwIP/src/core/pbuf.c **** #endif
  83:lwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
  84:lwIP/src/core/pbuf.c **** #include "lwip/inet_chksum.h"
  85:lwIP/src/core/pbuf.c **** #endif
  86:lwIP/src/core/pbuf.c **** 
  87:lwIP/src/core/pbuf.c **** #include <string.h>
  88:lwIP/src/core/pbuf.c **** 
  89:lwIP/src/core/pbuf.c **** #define SIZEOF_STRUCT_PBUF        LWIP_MEM_ALIGN_SIZE(sizeof(struct pbuf))
  90:lwIP/src/core/pbuf.c **** /* Since the pool is created in memp, PBUF_POOL_BUFSIZE will be automatically
  91:lwIP/src/core/pbuf.c ****    aligned there. Therefore, PBUF_POOL_BUFSIZE_ALIGNED can be used here. */
  92:lwIP/src/core/pbuf.c **** #define PBUF_POOL_BUFSIZE_ALIGNED LWIP_MEM_ALIGN_SIZE(PBUF_POOL_BUFSIZE)
  93:lwIP/src/core/pbuf.c **** 
  94:lwIP/src/core/pbuf.c **** static const struct pbuf *
  95:lwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf *in, u16_t in_offset, u16_t *out_offset);
  96:lwIP/src/core/pbuf.c **** 
  97:lwIP/src/core/pbuf.c **** #if !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ
  98:lwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY()
  99:lwIP/src/core/pbuf.c **** #else /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 100:lwIP/src/core/pbuf.c **** 
 101:lwIP/src/core/pbuf.c **** #if !NO_SYS
 102:lwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 103:lwIP/src/core/pbuf.c **** #include "lwip/tcpip.h"
 104:lwIP/src/core/pbuf.c **** #define PBUF_POOL_FREE_OOSEQ_QUEUE_CALL()  do { \
 105:lwIP/src/core/pbuf.c ****   if (tcpip_try_callback(pbuf_free_ooseq_callback, NULL) != ERR_OK) { \
 106:lwIP/src/core/pbuf.c ****       SYS_ARCH_PROTECT(old_level); \
 107:lwIP/src/core/pbuf.c ****       pbuf_free_ooseq_pending = 0; \
 108:lwIP/src/core/pbuf.c ****       SYS_ARCH_UNPROTECT(old_level); \
 109:lwIP/src/core/pbuf.c ****   } } while(0)
 110:lwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 111:lwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 112:lwIP/src/core/pbuf.c **** 
 113:lwIP/src/core/pbuf.c **** volatile u8_t pbuf_free_ooseq_pending;
 114:lwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY() pbuf_pool_is_empty()
 115:lwIP/src/core/pbuf.c **** 
 116:lwIP/src/core/pbuf.c **** /**
 117:lwIP/src/core/pbuf.c ****  * Attempt to reclaim some memory from queued out-of-sequence TCP segments
 118:lwIP/src/core/pbuf.c ****  * if we run out of pool pbufs. It's better to give priority to new packets
 119:lwIP/src/core/pbuf.c ****  * if we're running out.
 120:lwIP/src/core/pbuf.c ****  *
 121:lwIP/src/core/pbuf.c ****  * This must be done in the correct thread context therefore this function
ARM GAS  /tmp/ccJoevLK.s 			page 4


 122:lwIP/src/core/pbuf.c ****  * can only be used with NO_SYS=0 and through tcpip_callback.
 123:lwIP/src/core/pbuf.c ****  */
 124:lwIP/src/core/pbuf.c **** #if !NO_SYS
 125:lwIP/src/core/pbuf.c **** static
 126:lwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 127:lwIP/src/core/pbuf.c **** void
 128:lwIP/src/core/pbuf.c **** pbuf_free_ooseq(void)
 129:lwIP/src/core/pbuf.c **** {
 130:lwIP/src/core/pbuf.c ****   struct tcp_pcb *pcb;
 131:lwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 0);
 132:lwIP/src/core/pbuf.c **** 
 133:lwIP/src/core/pbuf.c ****   for (pcb = tcp_active_pcbs; NULL != pcb; pcb = pcb->next) {
 134:lwIP/src/core/pbuf.c ****     if (pcb->ooseq != NULL) {
 135:lwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 136:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free_ooseq: freeing out-of-sequence pbufs\n")
 137:lwIP/src/core/pbuf.c ****       tcp_free_ooseq(pcb);
 138:lwIP/src/core/pbuf.c ****       return;
 139:lwIP/src/core/pbuf.c ****     }
 140:lwIP/src/core/pbuf.c ****   }
 141:lwIP/src/core/pbuf.c **** }
 142:lwIP/src/core/pbuf.c **** 
 143:lwIP/src/core/pbuf.c **** #if !NO_SYS
 144:lwIP/src/core/pbuf.c **** /**
 145:lwIP/src/core/pbuf.c ****  * Just a callback function for tcpip_callback() that calls pbuf_free_ooseq().
 146:lwIP/src/core/pbuf.c ****  */
 147:lwIP/src/core/pbuf.c **** static void
 148:lwIP/src/core/pbuf.c **** pbuf_free_ooseq_callback(void *arg)
 149:lwIP/src/core/pbuf.c **** {
 150:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 151:lwIP/src/core/pbuf.c ****   pbuf_free_ooseq();
 152:lwIP/src/core/pbuf.c **** }
 153:lwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 154:lwIP/src/core/pbuf.c **** 
 155:lwIP/src/core/pbuf.c **** /** Queue a call to pbuf_free_ooseq if not already queued. */
 156:lwIP/src/core/pbuf.c **** static void
 157:lwIP/src/core/pbuf.c **** pbuf_pool_is_empty(void)
 158:lwIP/src/core/pbuf.c **** {
 159:lwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 160:lwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 1);
 161:lwIP/src/core/pbuf.c **** #else /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 162:lwIP/src/core/pbuf.c ****   u8_t queued;
 163:lwIP/src/core/pbuf.c ****   SYS_ARCH_DECL_PROTECT(old_level);
 164:lwIP/src/core/pbuf.c ****   SYS_ARCH_PROTECT(old_level);
 165:lwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
 166:lwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 167:lwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
 168:lwIP/src/core/pbuf.c **** 
 169:lwIP/src/core/pbuf.c ****   if (!queued) {
 170:lwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 171:lwIP/src/core/pbuf.c ****     PBUF_POOL_FREE_OOSEQ_QUEUE_CALL();
 172:lwIP/src/core/pbuf.c ****   }
 173:lwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 174:lwIP/src/core/pbuf.c **** }
 175:lwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 176:lwIP/src/core/pbuf.c **** 
 177:lwIP/src/core/pbuf.c **** /* Initialize members of struct pbuf after allocation */
 178:lwIP/src/core/pbuf.c **** static void
ARM GAS  /tmp/ccJoevLK.s 			page 5


 179:lwIP/src/core/pbuf.c **** pbuf_init_alloced_pbuf(struct pbuf *p, void *payload, u16_t tot_len, u16_t len, pbuf_type type, u8_
 180:lwIP/src/core/pbuf.c **** {
 181:lwIP/src/core/pbuf.c ****   p->next = NULL;
 182:lwIP/src/core/pbuf.c ****   p->payload = payload;
 183:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 184:lwIP/src/core/pbuf.c ****   p->len = len;
 185:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 186:lwIP/src/core/pbuf.c ****   p->flags = flags;
 187:lwIP/src/core/pbuf.c ****   p->ref = 1;
 188:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 189:lwIP/src/core/pbuf.c **** }
 190:lwIP/src/core/pbuf.c **** 
 191:lwIP/src/core/pbuf.c **** /**
 192:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 193:lwIP/src/core/pbuf.c ****  * Allocates a pbuf of the given type (possibly a chain for PBUF_POOL type).
 194:lwIP/src/core/pbuf.c ****  *
 195:lwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 196:lwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 197:lwIP/src/core/pbuf.c ****  * (from the size parameter).
 198:lwIP/src/core/pbuf.c ****  *
 199:lwIP/src/core/pbuf.c ****  * @param layer header size
 200:lwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 201:lwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 202:lwIP/src/core/pbuf.c ****  * should be allocated as follows:
 203:lwIP/src/core/pbuf.c ****  *
 204:lwIP/src/core/pbuf.c ****  * - PBUF_RAM: buffer memory for pbuf is allocated as one large
 205:lwIP/src/core/pbuf.c ****  *             chunk. This includes protocol headers as well.
 206:lwIP/src/core/pbuf.c ****  * - PBUF_ROM: no buffer memory is allocated for the pbuf, even for
 207:lwIP/src/core/pbuf.c ****  *             protocol headers. Additional headers must be prepended
 208:lwIP/src/core/pbuf.c ****  *             by allocating another pbuf and chain in to the front of
 209:lwIP/src/core/pbuf.c ****  *             the ROM pbuf. It is assumed that the memory used is really
 210:lwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 211:lwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 212:lwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 213:lwIP/src/core/pbuf.c ****  * - PBUF_REF: no buffer memory is allocated for the pbuf, even for
 214:lwIP/src/core/pbuf.c ****  *             protocol headers. It is assumed that the pbuf is only
 215:lwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 216:lwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 217:lwIP/src/core/pbuf.c ****  * - PBUF_POOL: the pbuf is allocated as a pbuf chain, with pbufs from
 218:lwIP/src/core/pbuf.c ****  *              the pbuf pool that is allocated during pbuf_init().
 219:lwIP/src/core/pbuf.c ****  *
 220:lwIP/src/core/pbuf.c ****  * @return the allocated pbuf. If multiple pbufs where allocated, this
 221:lwIP/src/core/pbuf.c ****  * is the first pbuf of a pbuf chain.
 222:lwIP/src/core/pbuf.c ****  */
 223:lwIP/src/core/pbuf.c **** struct pbuf *
 224:lwIP/src/core/pbuf.c **** pbuf_alloc(pbuf_layer layer, u16_t length, pbuf_type type)
 225:lwIP/src/core/pbuf.c **** {
 226:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 227:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)layer;
 228:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 229:lwIP/src/core/pbuf.c **** 
 230:lwIP/src/core/pbuf.c ****   switch (type) {
 231:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 232:lwIP/src/core/pbuf.c ****     case PBUF_ROM:
 233:lwIP/src/core/pbuf.c ****       p = pbuf_alloc_reference(NULL, length, type);
 234:lwIP/src/core/pbuf.c ****       break;
 235:lwIP/src/core/pbuf.c ****     case PBUF_POOL: {
ARM GAS  /tmp/ccJoevLK.s 			page 6


 236:lwIP/src/core/pbuf.c ****       struct pbuf *q, *last;
 237:lwIP/src/core/pbuf.c ****       u16_t rem_len; /* remaining length */
 238:lwIP/src/core/pbuf.c ****       p = NULL;
 239:lwIP/src/core/pbuf.c ****       last = NULL;
 240:lwIP/src/core/pbuf.c ****       rem_len = length;
 241:lwIP/src/core/pbuf.c ****       do {
 242:lwIP/src/core/pbuf.c ****         u16_t qlen;
 243:lwIP/src/core/pbuf.c ****         q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 244:lwIP/src/core/pbuf.c ****         if (q == NULL) {
 245:lwIP/src/core/pbuf.c ****           PBUF_POOL_IS_EMPTY();
 246:lwIP/src/core/pbuf.c ****           /* free chain so far allocated */
 247:lwIP/src/core/pbuf.c ****           if (p) {
 248:lwIP/src/core/pbuf.c ****             pbuf_free(p);
 249:lwIP/src/core/pbuf.c ****           }
 250:lwIP/src/core/pbuf.c ****           /* bail out unsuccessfully */
 251:lwIP/src/core/pbuf.c ****           return NULL;
 252:lwIP/src/core/pbuf.c ****         }
 253:lwIP/src/core/pbuf.c ****         qlen = LWIP_MIN(rem_len, (u16_t)(PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)));
 254:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 255:lwIP/src/core/pbuf.c ****                                rem_len, qlen, type, 0);
 256:lwIP/src/core/pbuf.c ****         LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 257:lwIP/src/core/pbuf.c ****                     ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 258:lwIP/src/core/pbuf.c ****         LWIP_ASSERT("PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT",
 259:lwIP/src/core/pbuf.c ****                     (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 260:lwIP/src/core/pbuf.c ****         if (p == NULL) {
 261:lwIP/src/core/pbuf.c ****           /* allocated head of pbuf chain (into p) */
 262:lwIP/src/core/pbuf.c ****           p = q;
 263:lwIP/src/core/pbuf.c ****         } else {
 264:lwIP/src/core/pbuf.c ****           /* make previous pbuf point to this pbuf */
 265:lwIP/src/core/pbuf.c ****           last->next = q;
 266:lwIP/src/core/pbuf.c ****         }
 267:lwIP/src/core/pbuf.c ****         last = q;
 268:lwIP/src/core/pbuf.c ****         rem_len = (u16_t)(rem_len - qlen);
 269:lwIP/src/core/pbuf.c ****         offset = 0;
 270:lwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 271:lwIP/src/core/pbuf.c ****       break;
 272:lwIP/src/core/pbuf.c ****     }
 273:lwIP/src/core/pbuf.c ****     case PBUF_RAM: {
 274:lwIP/src/core/pbuf.c ****       u16_t payload_len = (u16_t)(LWIP_MEM_ALIGN_SIZE(offset) + LWIP_MEM_ALIGN_SIZE(length));
 275:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 276:lwIP/src/core/pbuf.c **** 
 277:lwIP/src/core/pbuf.c ****       /* bug #50040: Check for integer overflow when calculating alloc_len */
 278:lwIP/src/core/pbuf.c ****       if ((payload_len < LWIP_MEM_ALIGN_SIZE(length)) ||
 279:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 280:lwIP/src/core/pbuf.c ****         return NULL;
 281:lwIP/src/core/pbuf.c ****       }
 282:lwIP/src/core/pbuf.c **** 
 283:lwIP/src/core/pbuf.c ****       /* If pbuf is to be allocated in RAM, allocate memory for it. */
 284:lwIP/src/core/pbuf.c ****       p = (struct pbuf *)mem_malloc(alloc_len);
 285:lwIP/src/core/pbuf.c ****       if (p == NULL) {
 286:lwIP/src/core/pbuf.c ****         return NULL;
 287:lwIP/src/core/pbuf.c ****       }
 288:lwIP/src/core/pbuf.c ****       pbuf_init_alloced_pbuf(p, LWIP_MEM_ALIGN((void *)((u8_t *)p + SIZEOF_STRUCT_PBUF + offset)),
 289:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 290:lwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf->payload properly aligned",
 291:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 292:lwIP/src/core/pbuf.c ****       break;
ARM GAS  /tmp/ccJoevLK.s 			page 7


 293:lwIP/src/core/pbuf.c ****     }
 294:lwIP/src/core/pbuf.c ****     default:
 295:lwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: erroneous type", 0);
 296:lwIP/src/core/pbuf.c ****       return NULL;
 297:lwIP/src/core/pbuf.c ****   }
 298:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 299:lwIP/src/core/pbuf.c ****   return p;
 300:lwIP/src/core/pbuf.c **** }
 301:lwIP/src/core/pbuf.c **** 
 302:lwIP/src/core/pbuf.c **** /**
 303:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 304:lwIP/src/core/pbuf.c ****  * Allocates a pbuf for referenced data.
 305:lwIP/src/core/pbuf.c ****  * Referenced data can be volatile (PBUF_REF) or long-lived (PBUF_ROM).
 306:lwIP/src/core/pbuf.c ****  *
 307:lwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 308:lwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 309:lwIP/src/core/pbuf.c ****  * (from the size parameter).
 310:lwIP/src/core/pbuf.c ****  *
 311:lwIP/src/core/pbuf.c ****  * @param payload referenced payload
 312:lwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 313:lwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 314:lwIP/src/core/pbuf.c ****  * should be allocated as follows:
 315:lwIP/src/core/pbuf.c ****  *
 316:lwIP/src/core/pbuf.c ****  * - PBUF_ROM: It is assumed that the memory used is really
 317:lwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 318:lwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 319:lwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 320:lwIP/src/core/pbuf.c ****  * - PBUF_REF: It is assumed that the pbuf is only
 321:lwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 322:lwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 323:lwIP/src/core/pbuf.c ****  *
 324:lwIP/src/core/pbuf.c ****  * @return the allocated pbuf.
 325:lwIP/src/core/pbuf.c ****  */
 326:lwIP/src/core/pbuf.c **** struct pbuf *
 327:lwIP/src/core/pbuf.c **** pbuf_alloc_reference(void *payload, u16_t length, pbuf_type type)
 328:lwIP/src/core/pbuf.c **** {
 329:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 330:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("invalid pbuf_type", (type == PBUF_REF) || (type == PBUF_ROM));
 331:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 332:lwIP/src/core/pbuf.c ****   p = (struct pbuf *)memp_malloc(MEMP_PBUF);
 333:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 334:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 335:lwIP/src/core/pbuf.c ****                 ("pbuf_alloc_reference: Could not allocate MEMP_PBUF for PBUF_%s.\n",
 336:lwIP/src/core/pbuf.c ****                  (type == PBUF_ROM) ? "ROM" : "REF"));
 337:lwIP/src/core/pbuf.c ****     return NULL;
 338:lwIP/src/core/pbuf.c ****   }
 339:lwIP/src/core/pbuf.c ****   pbuf_init_alloced_pbuf(p, payload, length, length, type, 0);
 340:lwIP/src/core/pbuf.c ****   return p;
 341:lwIP/src/core/pbuf.c **** }
 342:lwIP/src/core/pbuf.c **** 
 343:lwIP/src/core/pbuf.c **** 
 344:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 345:lwIP/src/core/pbuf.c **** /**
 346:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 347:lwIP/src/core/pbuf.c ****  * Initialize a custom pbuf (already allocated).
 348:lwIP/src/core/pbuf.c ****  * Example of custom pbuf usage: @ref zerocopyrx
 349:lwIP/src/core/pbuf.c ****  *
ARM GAS  /tmp/ccJoevLK.s 			page 8


 350:lwIP/src/core/pbuf.c ****  * @param l header size
 351:lwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 352:lwIP/src/core/pbuf.c ****  * @param type type of the pbuf (only used to treat the pbuf accordingly, as
 353:lwIP/src/core/pbuf.c ****  *        this function allocates no memory)
 354:lwIP/src/core/pbuf.c ****  * @param p pointer to the custom pbuf to initialize (already allocated)
 355:lwIP/src/core/pbuf.c ****  * @param payload_mem pointer to the buffer that is used for payload and headers,
 356:lwIP/src/core/pbuf.c ****  *        must be at least big enough to hold 'length' plus the header size,
 357:lwIP/src/core/pbuf.c ****  *        may be NULL if set later.
 358:lwIP/src/core/pbuf.c ****  *        ATTENTION: The caller is responsible for correct alignment of this buffer!!
 359:lwIP/src/core/pbuf.c ****  * @param payload_mem_len the size of the 'payload_mem' buffer, must be at least
 360:lwIP/src/core/pbuf.c ****  *        big enough to hold 'length' plus the header size
 361:lwIP/src/core/pbuf.c ****  */
 362:lwIP/src/core/pbuf.c **** struct pbuf *
 363:lwIP/src/core/pbuf.c **** pbuf_alloced_custom(pbuf_layer l, u16_t length, pbuf_type type, struct pbuf_custom *p,
 364:lwIP/src/core/pbuf.c ****                     void *payload_mem, u16_t payload_mem_len)
 365:lwIP/src/core/pbuf.c **** {
 366:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)l;
 367:lwIP/src/core/pbuf.c ****   void *payload;
 368:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloced_custom(length=%"U16_F")\n", length));
 369:lwIP/src/core/pbuf.c **** 
 370:lwIP/src/core/pbuf.c ****   if (LWIP_MEM_ALIGN_SIZE(offset) + length > payload_mem_len) {
 371:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 372:lwIP/src/core/pbuf.c ****     return NULL;
 373:lwIP/src/core/pbuf.c ****   }
 374:lwIP/src/core/pbuf.c **** 
 375:lwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 376:lwIP/src/core/pbuf.c ****     payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 377:lwIP/src/core/pbuf.c ****   } else {
 378:lwIP/src/core/pbuf.c ****     payload = NULL;
 379:lwIP/src/core/pbuf.c ****   }
 380:lwIP/src/core/pbuf.c ****   pbuf_init_alloced_pbuf(&p->pbuf, payload, length, length, type, PBUF_FLAG_IS_CUSTOM);
 381:lwIP/src/core/pbuf.c ****   return &p->pbuf;
 382:lwIP/src/core/pbuf.c **** }
 383:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 384:lwIP/src/core/pbuf.c **** 
 385:lwIP/src/core/pbuf.c **** /**
 386:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 387:lwIP/src/core/pbuf.c ****  * Shrink a pbuf chain to a desired length.
 388:lwIP/src/core/pbuf.c ****  *
 389:lwIP/src/core/pbuf.c ****  * @param p pbuf to shrink.
 390:lwIP/src/core/pbuf.c ****  * @param new_len desired new length of pbuf chain
 391:lwIP/src/core/pbuf.c ****  *
 392:lwIP/src/core/pbuf.c ****  * Depending on the desired length, the first few pbufs in a chain might
 393:lwIP/src/core/pbuf.c ****  * be skipped and left unchanged. The new last pbuf in the chain will be
 394:lwIP/src/core/pbuf.c ****  * resized, and any remaining pbufs will be freed.
 395:lwIP/src/core/pbuf.c ****  *
 396:lwIP/src/core/pbuf.c ****  * @note If the pbuf is ROM/REF, only the ->tot_len and ->len fields are adjusted.
 397:lwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 398:lwIP/src/core/pbuf.c ****  *
 399:lwIP/src/core/pbuf.c ****  * @note Despite its name, pbuf_realloc cannot grow the size of a pbuf (chain).
 400:lwIP/src/core/pbuf.c ****  */
 401:lwIP/src/core/pbuf.c **** void
 402:lwIP/src/core/pbuf.c **** pbuf_realloc(struct pbuf *p, u16_t new_len)
 403:lwIP/src/core/pbuf.c **** {
 404:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 405:lwIP/src/core/pbuf.c ****   u16_t rem_len; /* remaining length */
 406:lwIP/src/core/pbuf.c ****   u16_t shrink;
ARM GAS  /tmp/ccJoevLK.s 			page 9


 407:lwIP/src/core/pbuf.c **** 
 408:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: p != NULL", p != NULL);
 409:lwIP/src/core/pbuf.c **** 
 410:lwIP/src/core/pbuf.c ****   /* desired length larger than current length? */
 411:lwIP/src/core/pbuf.c ****   if (new_len >= p->tot_len) {
 412:lwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 413:lwIP/src/core/pbuf.c ****     return;
 414:lwIP/src/core/pbuf.c ****   }
 415:lwIP/src/core/pbuf.c **** 
 416:lwIP/src/core/pbuf.c ****   /* the pbuf chain grows by (new_len - p->tot_len) bytes
 417:lwIP/src/core/pbuf.c ****    * (which may be negative in case of shrinking) */
 418:lwIP/src/core/pbuf.c ****   shrink = (u16_t)(p->tot_len - new_len);
 419:lwIP/src/core/pbuf.c **** 
 420:lwIP/src/core/pbuf.c ****   /* first, step over any pbufs that should remain in the chain */
 421:lwIP/src/core/pbuf.c ****   rem_len = new_len;
 422:lwIP/src/core/pbuf.c ****   q = p;
 423:lwIP/src/core/pbuf.c ****   /* should this pbuf be kept? */
 424:lwIP/src/core/pbuf.c ****   while (rem_len > q->len) {
 425:lwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 426:lwIP/src/core/pbuf.c ****     rem_len = (u16_t)(rem_len - q->len);
 427:lwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 428:lwIP/src/core/pbuf.c ****     q->tot_len = (u16_t)(q->tot_len - shrink);
 429:lwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 430:lwIP/src/core/pbuf.c ****     q = q->next;
 431:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 432:lwIP/src/core/pbuf.c ****   }
 433:lwIP/src/core/pbuf.c ****   /* we have now reached the new last pbuf (in q) */
 434:lwIP/src/core/pbuf.c ****   /* rem_len == desired length for pbuf q */
 435:lwIP/src/core/pbuf.c **** 
 436:lwIP/src/core/pbuf.c ****   /* shrink allocated memory for PBUF_RAM */
 437:lwIP/src/core/pbuf.c ****   /* (other types merely adjust their length fields */
 438:lwIP/src/core/pbuf.c ****   if (pbuf_match_allocsrc(q, PBUF_TYPE_ALLOC_SRC_MASK_STD_HEAP) && (rem_len != q->len)
 439:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 440:lwIP/src/core/pbuf.c ****       && ((q->flags & PBUF_FLAG_IS_CUSTOM) == 0)
 441:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 442:lwIP/src/core/pbuf.c ****      ) {
 443:lwIP/src/core/pbuf.c ****     /* reallocate and adjust the length of the pbuf that will be split */
 444:lwIP/src/core/pbuf.c ****     q = (struct pbuf *)mem_trim(q, (mem_size_t)(((u8_t *)q->payload - (u8_t *)q) + rem_len));
 445:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 446:lwIP/src/core/pbuf.c ****   }
 447:lwIP/src/core/pbuf.c ****   /* adjust length fields for new last pbuf */
 448:lwIP/src/core/pbuf.c ****   q->len = rem_len;
 449:lwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 450:lwIP/src/core/pbuf.c **** 
 451:lwIP/src/core/pbuf.c ****   /* any remaining pbufs in chain? */
 452:lwIP/src/core/pbuf.c ****   if (q->next != NULL) {
 453:lwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 454:lwIP/src/core/pbuf.c ****     pbuf_free(q->next);
 455:lwIP/src/core/pbuf.c ****   }
 456:lwIP/src/core/pbuf.c ****   /* q is last packet in chain */
 457:lwIP/src/core/pbuf.c ****   q->next = NULL;
 458:lwIP/src/core/pbuf.c **** 
 459:lwIP/src/core/pbuf.c **** }
 460:lwIP/src/core/pbuf.c **** 
 461:lwIP/src/core/pbuf.c **** /**
 462:lwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to reveal headers in the payload.
 463:lwIP/src/core/pbuf.c ****  * @see pbuf_add_header.
ARM GAS  /tmp/ccJoevLK.s 			page 10


 464:lwIP/src/core/pbuf.c ****  *
 465:lwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 466:lwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size.
 467:lwIP/src/core/pbuf.c ****  * @param force Allow 'header_size_increment > 0' for PBUF_REF/PBUF_ROM types
 468:lwIP/src/core/pbuf.c ****  *
 469:lwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 470:lwIP/src/core/pbuf.c ****  *
 471:lwIP/src/core/pbuf.c ****  */
 472:lwIP/src/core/pbuf.c **** static u8_t
 473:lwIP/src/core/pbuf.c **** pbuf_add_header_impl(struct pbuf *p, size_t header_size_increment, u8_t force)
 474:lwIP/src/core/pbuf.c **** {
 475:lwIP/src/core/pbuf.c ****   u16_t type_internal;
 476:lwIP/src/core/pbuf.c ****   void *payload;
 477:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 478:lwIP/src/core/pbuf.c **** 
 479:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 480:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 481:lwIP/src/core/pbuf.c ****     return 1;
 482:lwIP/src/core/pbuf.c ****   }
 483:lwIP/src/core/pbuf.c ****   if (header_size_increment == 0) {
 484:lwIP/src/core/pbuf.c ****     return 0;
 485:lwIP/src/core/pbuf.c ****   }
 486:lwIP/src/core/pbuf.c **** 
 487:lwIP/src/core/pbuf.c ****   increment_magnitude = (u16_t)header_size_increment;
 488:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 489:lwIP/src/core/pbuf.c ****   if ((u16_t)(increment_magnitude + p->tot_len) < increment_magnitude) {
 490:lwIP/src/core/pbuf.c ****     return 1;
 491:lwIP/src/core/pbuf.c ****   }
 492:lwIP/src/core/pbuf.c **** 
 493:lwIP/src/core/pbuf.c ****   type_internal = p->type_internal;
 494:lwIP/src/core/pbuf.c **** 
 495:lwIP/src/core/pbuf.c ****   /* pbuf types containing payloads? */
 496:lwIP/src/core/pbuf.c ****   if (type_internal & PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS) {
 497:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 498:lwIP/src/core/pbuf.c ****     payload = (u8_t *)p->payload - header_size_increment;
 499:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 500:lwIP/src/core/pbuf.c ****     if ((u8_t *)payload < (u8_t *)p + SIZEOF_STRUCT_PBUF) {
 501:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 502:lwIP/src/core/pbuf.c ****                    ("pbuf_add_header: failed as %p < %p (not enough space for new header size)\n",
 503:lwIP/src/core/pbuf.c ****                     (void *)payload, (void *)((u8_t *)p + SIZEOF_STRUCT_PBUF)));
 504:lwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 505:lwIP/src/core/pbuf.c ****       return 1;
 506:lwIP/src/core/pbuf.c ****     }
 507:lwIP/src/core/pbuf.c ****     /* pbuf types referring to external payloads? */
 508:lwIP/src/core/pbuf.c ****   } else {
 509:lwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 510:lwIP/src/core/pbuf.c ****     if (force) {
 511:lwIP/src/core/pbuf.c ****       payload = (u8_t *)p->payload - header_size_increment;
 512:lwIP/src/core/pbuf.c ****     } else {
 513:lwIP/src/core/pbuf.c ****       /* cannot expand payload to front (yet!)
 514:lwIP/src/core/pbuf.c ****        * bail out unsuccessfully */
 515:lwIP/src/core/pbuf.c ****       return 1;
 516:lwIP/src/core/pbuf.c ****     }
 517:lwIP/src/core/pbuf.c ****   }
 518:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_add_header: old %p new %p (%"U16_F")\n",
 519:lwIP/src/core/pbuf.c ****               (void *)p->payload, (void *)payload, increment_magnitude));
 520:lwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccJoevLK.s 			page 11


 521:lwIP/src/core/pbuf.c ****   /* modify pbuf fields */
 522:lwIP/src/core/pbuf.c ****   p->payload = payload;
 523:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 524:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 525:lwIP/src/core/pbuf.c **** 
 526:lwIP/src/core/pbuf.c **** 
 527:lwIP/src/core/pbuf.c ****   return 0;
 528:lwIP/src/core/pbuf.c **** }
 529:lwIP/src/core/pbuf.c **** 
 530:lwIP/src/core/pbuf.c **** /**
 531:lwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to reveal headers in the payload.
 532:lwIP/src/core/pbuf.c ****  *
 533:lwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 534:lwIP/src/core/pbuf.c ****  * appears in the pbuf payload.
 535:lwIP/src/core/pbuf.c ****  *
 536:lwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 537:lwIP/src/core/pbuf.c ****  *
 538:lwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 539:lwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
 540:lwIP/src/core/pbuf.c ****  *          increases the size of the pbuf. New space is on the front.
 541:lwIP/src/core/pbuf.c ****  *          If header_size_increment is 0, this function does nothing and returns successful.
 542:lwIP/src/core/pbuf.c ****  *
 543:lwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 544:lwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
 545:lwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 546:lwIP/src/core/pbuf.c ****  *
 547:lwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 548:lwIP/src/core/pbuf.c ****  *
 549:lwIP/src/core/pbuf.c ****  */
 550:lwIP/src/core/pbuf.c **** u8_t
 551:lwIP/src/core/pbuf.c **** pbuf_add_header(struct pbuf *p, size_t header_size_increment)
 552:lwIP/src/core/pbuf.c **** {
 553:lwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 0);
 554:lwIP/src/core/pbuf.c **** }
 555:lwIP/src/core/pbuf.c **** 
 556:lwIP/src/core/pbuf.c **** /**
 557:lwIP/src/core/pbuf.c ****  * Same as @ref pbuf_add_header but does not check if 'header_size > 0' is allowed.
 558:lwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 559:lwIP/src/core/pbuf.c ****  */
 560:lwIP/src/core/pbuf.c **** u8_t
 561:lwIP/src/core/pbuf.c **** pbuf_add_header_force(struct pbuf *p, size_t header_size_increment)
 562:lwIP/src/core/pbuf.c **** {
 563:lwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 1);
 564:lwIP/src/core/pbuf.c **** }
 565:lwIP/src/core/pbuf.c **** 
 566:lwIP/src/core/pbuf.c **** /**
 567:lwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide headers in the payload.
 568:lwIP/src/core/pbuf.c ****  *
 569:lwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 570:lwIP/src/core/pbuf.c ****  * disappears in the pbuf payload.
 571:lwIP/src/core/pbuf.c ****  *
 572:lwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 573:lwIP/src/core/pbuf.c ****  *
 574:lwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 575:lwIP/src/core/pbuf.c ****  * @param header_size_decrement Number of bytes to decrement header size which
 576:lwIP/src/core/pbuf.c ****  *          decreases the size of the pbuf.
 577:lwIP/src/core/pbuf.c ****  *          If header_size_decrement is 0, this function does nothing and returns successful.
ARM GAS  /tmp/ccJoevLK.s 			page 12


 578:lwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 579:lwIP/src/core/pbuf.c ****  *
 580:lwIP/src/core/pbuf.c ****  */
 581:lwIP/src/core/pbuf.c **** u8_t
 582:lwIP/src/core/pbuf.c **** pbuf_remove_header(struct pbuf *p, size_t header_size_decrement)
 583:lwIP/src/core/pbuf.c **** {
 584:lwIP/src/core/pbuf.c ****   void *payload;
 585:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 586:lwIP/src/core/pbuf.c **** 
 587:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 588:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 589:lwIP/src/core/pbuf.c ****     return 1;
 590:lwIP/src/core/pbuf.c ****   }
 591:lwIP/src/core/pbuf.c ****   if (header_size_decrement == 0) {
 592:lwIP/src/core/pbuf.c ****     return 0;
 593:lwIP/src/core/pbuf.c ****   }
 594:lwIP/src/core/pbuf.c **** 
 595:lwIP/src/core/pbuf.c ****   increment_magnitude = (u16_t)header_size_decrement;
 596:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 597:lwIP/src/core/pbuf.c ****   LWIP_ERROR("increment_magnitude <= p->len", (increment_magnitude <= p->len), return 1;);
 598:lwIP/src/core/pbuf.c **** 
 599:lwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 600:lwIP/src/core/pbuf.c ****   payload = p->payload;
 601:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(payload); /* only used in LWIP_DEBUGF below */
 602:lwIP/src/core/pbuf.c **** 
 603:lwIP/src/core/pbuf.c ****   /* increase payload pointer (guarded by length check above) */
 604:lwIP/src/core/pbuf.c ****   p->payload = (u8_t *)p->payload + header_size_decrement;
 605:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 606:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len - increment_magnitude);
 607:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 608:lwIP/src/core/pbuf.c **** 
 609:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_remove_header: old %p new %p (%"U16_F")\n",
 610:lwIP/src/core/pbuf.c ****               (void *)payload, (void *)p->payload, increment_magnitude));
 611:lwIP/src/core/pbuf.c **** 
 612:lwIP/src/core/pbuf.c ****   return 0;
 613:lwIP/src/core/pbuf.c **** }
 614:lwIP/src/core/pbuf.c **** 
 615:lwIP/src/core/pbuf.c **** static u8_t
 616:lwIP/src/core/pbuf.c **** pbuf_header_impl(struct pbuf *p, s16_t header_size_increment, u8_t force)
 617:lwIP/src/core/pbuf.c **** {
 618:lwIP/src/core/pbuf.c ****   if (header_size_increment < 0) {
 619:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 620:lwIP/src/core/pbuf.c ****   } else {
 621:lwIP/src/core/pbuf.c ****     return pbuf_add_header_impl(p, (size_t)header_size_increment, force);
 622:lwIP/src/core/pbuf.c ****   }
 623:lwIP/src/core/pbuf.c **** }
 624:lwIP/src/core/pbuf.c **** 
 625:lwIP/src/core/pbuf.c **** /**
 626:lwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 627:lwIP/src/core/pbuf.c ****  *
 628:lwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 629:lwIP/src/core/pbuf.c ****  * (dis)appears in the pbuf payload.
 630:lwIP/src/core/pbuf.c ****  *
 631:lwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 632:lwIP/src/core/pbuf.c ****  *
 633:lwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 634:lwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
ARM GAS  /tmp/ccJoevLK.s 			page 13


 635:lwIP/src/core/pbuf.c ****  * increases the size of the pbuf. New space is on the front.
 636:lwIP/src/core/pbuf.c ****  * (Using a negative value decreases the header size.)
 637:lwIP/src/core/pbuf.c ****  * If header_size_increment is 0, this function does nothing and returns successful.
 638:lwIP/src/core/pbuf.c ****  *
 639:lwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 640:lwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
 641:lwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 642:lwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 643:lwIP/src/core/pbuf.c ****  *
 644:lwIP/src/core/pbuf.c ****  */
 645:lwIP/src/core/pbuf.c **** u8_t
 646:lwIP/src/core/pbuf.c **** pbuf_header(struct pbuf *p, s16_t header_size_increment)
 647:lwIP/src/core/pbuf.c **** {
 648:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 0);
 649:lwIP/src/core/pbuf.c **** }
 650:lwIP/src/core/pbuf.c **** 
 651:lwIP/src/core/pbuf.c **** /**
 652:lwIP/src/core/pbuf.c ****  * Same as pbuf_header but does not check if 'header_size > 0' is allowed.
 653:lwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 654:lwIP/src/core/pbuf.c ****  */
 655:lwIP/src/core/pbuf.c **** u8_t
 656:lwIP/src/core/pbuf.c **** pbuf_header_force(struct pbuf *p, s16_t header_size_increment)
 657:lwIP/src/core/pbuf.c **** {
 658:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 1);
 659:lwIP/src/core/pbuf.c **** }
 660:lwIP/src/core/pbuf.c **** 
 661:lwIP/src/core/pbuf.c **** /** Similar to pbuf_header(-size) but de-refs header pbufs for (size >= p->len)
 662:lwIP/src/core/pbuf.c ****  *
 663:lwIP/src/core/pbuf.c ****  * @param q pbufs to operate on
 664:lwIP/src/core/pbuf.c ****  * @param size The number of bytes to remove from the beginning of the pbuf list.
 665:lwIP/src/core/pbuf.c ****  *             While size >= p->len, pbufs are freed.
 666:lwIP/src/core/pbuf.c ****  *        ATTENTION: this is the opposite direction as @ref pbuf_header, but
 667:lwIP/src/core/pbuf.c ****  *                   takes an u16_t not s16_t!
 668:lwIP/src/core/pbuf.c ****  * @return the new head pbuf
 669:lwIP/src/core/pbuf.c ****  */
 670:lwIP/src/core/pbuf.c **** struct pbuf *
 671:lwIP/src/core/pbuf.c **** pbuf_free_header(struct pbuf *q, u16_t size)
 672:lwIP/src/core/pbuf.c **** {
 673:lwIP/src/core/pbuf.c ****   struct pbuf *p = q;
 674:lwIP/src/core/pbuf.c ****   u16_t free_left = size;
 675:lwIP/src/core/pbuf.c ****   while (free_left && p) {
 676:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 677:lwIP/src/core/pbuf.c ****       struct pbuf *f = p;
 678:lwIP/src/core/pbuf.c ****       free_left = (u16_t)(free_left - p->len);
 679:lwIP/src/core/pbuf.c ****       p = p->next;
 680:lwIP/src/core/pbuf.c ****       f->next = 0;
 681:lwIP/src/core/pbuf.c ****       pbuf_free(f);
 682:lwIP/src/core/pbuf.c ****     } else {
 683:lwIP/src/core/pbuf.c ****       pbuf_remove_header(p, free_left);
 684:lwIP/src/core/pbuf.c ****       free_left = 0;
 685:lwIP/src/core/pbuf.c ****     }
 686:lwIP/src/core/pbuf.c ****   }
 687:lwIP/src/core/pbuf.c ****   return p;
 688:lwIP/src/core/pbuf.c **** }
 689:lwIP/src/core/pbuf.c **** 
 690:lwIP/src/core/pbuf.c **** /**
 691:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
ARM GAS  /tmp/ccJoevLK.s 			page 14


 692:lwIP/src/core/pbuf.c ****  * Dereference a pbuf chain or queue and deallocate any no-longer-used
 693:lwIP/src/core/pbuf.c ****  * pbufs at the head of this chain or queue.
 694:lwIP/src/core/pbuf.c ****  *
 695:lwIP/src/core/pbuf.c ****  * Decrements the pbuf reference count. If it reaches zero, the pbuf is
 696:lwIP/src/core/pbuf.c ****  * deallocated.
 697:lwIP/src/core/pbuf.c ****  *
 698:lwIP/src/core/pbuf.c ****  * For a pbuf chain, this is repeated for each pbuf in the chain,
 699:lwIP/src/core/pbuf.c ****  * up to the first pbuf which has a non-zero reference count after
 700:lwIP/src/core/pbuf.c ****  * decrementing. So, when all reference counts are one, the whole
 701:lwIP/src/core/pbuf.c ****  * chain is free'd.
 702:lwIP/src/core/pbuf.c ****  *
 703:lwIP/src/core/pbuf.c ****  * @param p The pbuf (chain) to be dereferenced.
 704:lwIP/src/core/pbuf.c ****  *
 705:lwIP/src/core/pbuf.c ****  * @return the number of pbufs that were de-allocated
 706:lwIP/src/core/pbuf.c ****  * from the head of the chain.
 707:lwIP/src/core/pbuf.c ****  *
 708:lwIP/src/core/pbuf.c ****  * @note MUST NOT be called on a packet queue (Not verified to work yet).
 709:lwIP/src/core/pbuf.c ****  * @note the reference counter of a pbuf equals the number of pointers
 710:lwIP/src/core/pbuf.c ****  * that refer to the pbuf (or into the pbuf).
 711:lwIP/src/core/pbuf.c ****  *
 712:lwIP/src/core/pbuf.c ****  * @internal examples:
 713:lwIP/src/core/pbuf.c ****  *
 714:lwIP/src/core/pbuf.c ****  * Assuming existing chains a->b->c with the following reference
 715:lwIP/src/core/pbuf.c ****  * counts, calling pbuf_free(a) results in:
 716:lwIP/src/core/pbuf.c ****  *
 717:lwIP/src/core/pbuf.c ****  * 1->2->3 becomes ...1->3
 718:lwIP/src/core/pbuf.c ****  * 3->3->3 becomes 2->3->3
 719:lwIP/src/core/pbuf.c ****  * 1->1->2 becomes ......1
 720:lwIP/src/core/pbuf.c ****  * 2->1->1 becomes 1->1->1
 721:lwIP/src/core/pbuf.c ****  * 1->1->1 becomes .......
 722:lwIP/src/core/pbuf.c ****  *
 723:lwIP/src/core/pbuf.c ****  */
 724:lwIP/src/core/pbuf.c **** u8_t
 725:lwIP/src/core/pbuf.c **** pbuf_free(struct pbuf *p)
  40              		.loc 1 725 1 view -0
  41              		.cfi_startproc
  42              		@ args = 0, pretend = 0, frame = 0
  43              		@ frame_needed = 0, uses_anonymous_args = 0
 726:lwIP/src/core/pbuf.c **** {
 727:lwIP/src/core/pbuf.c ****   u8_t alloc_src;
 728:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 729:lwIP/src/core/pbuf.c ****   u8_t count;
 730:lwIP/src/core/pbuf.c **** 
 731:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 732:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 733:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 734:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 735:lwIP/src/core/pbuf.c ****                 ("pbuf_free(p == NULL) was called.\n"));
 736:lwIP/src/core/pbuf.c ****     return 0;
 737:lwIP/src/core/pbuf.c ****   }
 738:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free(%p)\n", (void *)p));
 739:lwIP/src/core/pbuf.c **** 
 740:lwIP/src/core/pbuf.c ****   PERF_START;
 741:lwIP/src/core/pbuf.c **** 
 742:lwIP/src/core/pbuf.c ****   count = 0;
 743:lwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
 744:lwIP/src/core/pbuf.c ****    * obtain a zero reference count after decrementing*/
ARM GAS  /tmp/ccJoevLK.s 			page 15


 745:lwIP/src/core/pbuf.c ****   while (p != NULL) {
  44              		.loc 1 745 9 view .LVU1
 725:lwIP/src/core/pbuf.c **** {
  45              		.loc 1 725 1 is_stmt 0 view .LVU2
  46 0000 38B5     		push	{r3, r4, r5, lr}
  47              	.LCFI0:
  48              		.cfi_def_cfa_offset 16
  49              		.cfi_offset 3, -16
  50              		.cfi_offset 4, -12
  51              		.cfi_offset 5, -8
  52              		.cfi_offset 14, -4
  53              		.loc 1 745 9 view .LVU3
  54 0002 0028     		cmp	r0, #0
  55 0004 38D0     		beq	.L14
 742:lwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
  56              		.loc 1 742 9 view .LVU4
  57 0006 0024     		movs	r4, #0
  58 0008 06E0     		b	.L13
  59              	.LVL1:
  60              	.L20:
  61              	.LBB57:
  62              	.LBB58:
 746:lwIP/src/core/pbuf.c ****     LWIP_PBUF_REF_T ref;
 747:lwIP/src/core/pbuf.c ****     SYS_ARCH_DECL_PROTECT(old_level);
 748:lwIP/src/core/pbuf.c ****     /* Since decrementing ref cannot be guaranteed to be a single machine operation
 749:lwIP/src/core/pbuf.c ****      * we must protect it. We put the new ref into a local variable to prevent
 750:lwIP/src/core/pbuf.c ****      * further protection. */
 751:lwIP/src/core/pbuf.c ****     SYS_ARCH_PROTECT(old_level);
 752:lwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 753:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_free: p->ref > 0", p->ref > 0);
 754:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 755:lwIP/src/core/pbuf.c ****     ref = --(p->ref);
 756:lwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 757:lwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 758:lwIP/src/core/pbuf.c ****     if (ref == 0) {
 759:lwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 760:lwIP/src/core/pbuf.c ****       q = p->next;
 761:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 762:lwIP/src/core/pbuf.c ****       alloc_src = pbuf_get_allocsrc(p);
 763:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 764:lwIP/src/core/pbuf.c ****       /* is this a custom pbuf? */
 765:lwIP/src/core/pbuf.c ****       if ((p->flags & PBUF_FLAG_IS_CUSTOM) != 0) {
 766:lwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom *)p;
  63              		.loc 1 766 9 is_stmt 1 view .LVU5
 767:lwIP/src/core/pbuf.c ****         LWIP_ASSERT("pc->custom_free_function != NULL", pc->custom_free_function != NULL);
  64              		.loc 1 767 9 view .LVU6
  65              		.loc 1 767 9 view .LVU7
  66 000a 0369     		ldr	r3, [r0, #16]
  67 000c 63B3     		cbz	r3, .L18
  68              		.loc 1 767 9 view .LVU8
 768:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
  69              		.loc 1 768 9 view .LVU9
  70 000e 9847     		blx	r3
  71              	.LVL2:
  72              	.L8:
  73              		.loc 1 768 9 is_stmt 0 view .LVU10
  74              	.LBE58:
ARM GAS  /tmp/ccJoevLK.s 			page 16


 769:lwIP/src/core/pbuf.c ****       } else
 770:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 771:lwIP/src/core/pbuf.c ****       {
 772:lwIP/src/core/pbuf.c ****         /* is this a pbuf from the pool? */
 773:lwIP/src/core/pbuf.c ****         if (alloc_src == PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF_POOL) {
 774:lwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 775:lwIP/src/core/pbuf.c ****           /* is this a ROM or RAM referencing pbuf? */
 776:lwIP/src/core/pbuf.c ****         } else if (alloc_src == PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF) {
 777:lwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 778:lwIP/src/core/pbuf.c ****           /* type == PBUF_RAM */
 779:lwIP/src/core/pbuf.c ****         } else if (alloc_src == PBUF_TYPE_ALLOC_SRC_MASK_STD_HEAP) {
 780:lwIP/src/core/pbuf.c ****           mem_free(p);
 781:lwIP/src/core/pbuf.c ****         } else {
 782:lwIP/src/core/pbuf.c ****           /* @todo: support freeing other types */
 783:lwIP/src/core/pbuf.c ****           LWIP_ASSERT("invalid pbuf type", 0);
  75              		.loc 1 783 11 is_stmt 1 view .LVU11
 784:lwIP/src/core/pbuf.c ****         }
 785:lwIP/src/core/pbuf.c ****       }
 786:lwIP/src/core/pbuf.c ****       count++;
  76              		.loc 1 786 7 view .LVU12
  77              		.loc 1 786 12 is_stmt 0 view .LVU13
  78 0010 0134     		adds	r4, r4, #1
  79              	.LVL3:
  80              		.loc 1 786 12 view .LVU14
  81 0012 E4B2     		uxtb	r4, r4
  82              	.LVL4:
 787:lwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 788:lwIP/src/core/pbuf.c ****       p = q;
  83              		.loc 1 788 7 is_stmt 1 view .LVU15
  84              		.loc 1 788 7 is_stmt 0 view .LVU16
  85              	.LBE57:
 745:lwIP/src/core/pbuf.c ****     LWIP_PBUF_REF_T ref;
  86              		.loc 1 745 9 is_stmt 1 view .LVU17
  87 0014 C5B1     		cbz	r5, .L2
  88              	.L15:
 745:lwIP/src/core/pbuf.c ****     LWIP_PBUF_REF_T ref;
  89              		.loc 1 745 9 is_stmt 0 view .LVU18
  90 0016 2846     		mov	r0, r5
  91              	.LVL5:
  92              	.L13:
  93              	.LBB60:
 746:lwIP/src/core/pbuf.c ****     SYS_ARCH_DECL_PROTECT(old_level);
  94              		.loc 1 746 5 is_stmt 1 view .LVU19
 747:lwIP/src/core/pbuf.c ****     /* Since decrementing ref cannot be guaranteed to be a single machine operation
  95              		.loc 1 747 37 view .LVU20
 751:lwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
  96              		.loc 1 751 32 view .LVU21
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
  97              		.loc 1 753 5 view .LVU22
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
  98              		.loc 1 753 5 view .LVU23
  99 0018 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 100 001a 0BB3     		cbz	r3, .L19
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 101              		.loc 1 753 5 view .LVU24
 755:lwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 102              		.loc 1 755 5 view .LVU25
ARM GAS  /tmp/ccJoevLK.s 			page 17


 755:lwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 103              		.loc 1 755 11 is_stmt 0 view .LVU26
 104 001c 013B     		subs	r3, r3, #1
 105 001e DBB2     		uxtb	r3, r3
 755:lwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 106              		.loc 1 755 9 view .LVU27
 107 0020 8373     		strb	r3, [r0, #14]
 108              	.LVL6:
 756:lwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 109              		.loc 1 756 34 is_stmt 1 view .LVU28
 758:lwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 110              		.loc 1 758 5 view .LVU29
 758:lwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 111              		.loc 1 758 8 is_stmt 0 view .LVU30
 112 0022 8BB9     		cbnz	r3, .L2
 760:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 113              		.loc 1 760 7 is_stmt 1 view .LVU31
 765:lwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom *)p;
 114              		.loc 1 765 10 is_stmt 0 view .LVU32
 115 0024 437B     		ldrb	r3, [r0, #13]	@ zero_extendqisi2
 116              	.LVL7:
 760:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 117              		.loc 1 760 9 view .LVU33
 118 0026 0568     		ldr	r5, [r0]
 119              	.LVL8:
 761:lwIP/src/core/pbuf.c ****       alloc_src = pbuf_get_allocsrc(p);
 120              		.loc 1 761 93 is_stmt 1 view .LVU34
 762:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 121              		.loc 1 762 7 view .LVU35
 765:lwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom *)p;
 122              		.loc 1 765 7 view .LVU36
 765:lwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom *)p;
 123              		.loc 1 765 10 is_stmt 0 view .LVU37
 124 0028 9B07     		lsls	r3, r3, #30
 125 002a EED4     		bmi	.L20
 762:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 126              		.loc 1 762 17 view .LVU38
 127 002c 037B     		ldrb	r3, [r0, #12]	@ zero_extendqisi2
 128 002e 03F00F03 		and	r3, r3, #15
 773:lwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 129              		.loc 1 773 9 is_stmt 1 view .LVU39
 773:lwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 130              		.loc 1 773 12 is_stmt 0 view .LVU40
 131 0032 022B     		cmp	r3, #2
 132 0034 0AD0     		beq	.L21
 776:lwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 133              		.loc 1 776 16 is_stmt 1 view .LVU41
 776:lwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 134              		.loc 1 776 19 is_stmt 0 view .LVU42
 135 0036 012B     		cmp	r3, #1
 136 0038 0DD0     		beq	.L22
 779:lwIP/src/core/pbuf.c ****           mem_free(p);
 137              		.loc 1 779 16 is_stmt 1 view .LVU43
 779:lwIP/src/core/pbuf.c ****           mem_free(p);
 138              		.loc 1 779 19 is_stmt 0 view .LVU44
 139 003a CBB9     		cbnz	r3, .L11
 780:lwIP/src/core/pbuf.c ****         } else {
ARM GAS  /tmp/ccJoevLK.s 			page 18


 140              		.loc 1 780 11 is_stmt 1 view .LVU45
 786:lwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 141              		.loc 1 786 12 is_stmt 0 view .LVU46
 142 003c 0134     		adds	r4, r4, #1
 143              	.LVL9:
 780:lwIP/src/core/pbuf.c ****         } else {
 144              		.loc 1 780 11 view .LVU47
 145 003e FFF7FEFF 		bl	mem_free
 146              	.LVL10:
 783:lwIP/src/core/pbuf.c ****         }
 147              		.loc 1 783 11 is_stmt 1 view .LVU48
 786:lwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 148              		.loc 1 786 7 view .LVU49
 786:lwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 149              		.loc 1 786 12 is_stmt 0 view .LVU50
 150 0042 E4B2     		uxtb	r4, r4
 151              	.LVL11:
 152              		.loc 1 788 7 is_stmt 1 view .LVU51
 153              		.loc 1 788 7 is_stmt 0 view .LVU52
 154              	.LBE60:
 745:lwIP/src/core/pbuf.c ****     LWIP_PBUF_REF_T ref;
 155              		.loc 1 745 9 is_stmt 1 view .LVU53
 156 0044 002D     		cmp	r5, #0
 157 0046 E6D1     		bne	.L15
 158              	.LVL12:
 159              	.L2:
 789:lwIP/src/core/pbuf.c ****       /* p->ref > 0, this pbuf is still referenced to */
 790:lwIP/src/core/pbuf.c ****       /* (and so the remaining pbufs in chain as well) */
 791:lwIP/src/core/pbuf.c ****     } else {
 792:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: %p has ref %"U16_F", ending here.\n", 
 793:lwIP/src/core/pbuf.c ****       /* stop walking through the chain */
 794:lwIP/src/core/pbuf.c ****       p = NULL;
 795:lwIP/src/core/pbuf.c ****     }
 796:lwIP/src/core/pbuf.c ****   }
 797:lwIP/src/core/pbuf.c ****   PERF_STOP("pbuf_free");
 160              		.loc 1 797 25 view .LVU54
 798:lwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 799:lwIP/src/core/pbuf.c ****   return count;
 161              		.loc 1 799 3 view .LVU55
 800:lwIP/src/core/pbuf.c **** }
 162              		.loc 1 800 1 is_stmt 0 view .LVU56
 163 0048 2046     		mov	r0, r4
 164 004a 38BD     		pop	{r3, r4, r5, pc}
 165              	.LVL13:
 166              	.L21:
 167              	.LBB61:
 774:lwIP/src/core/pbuf.c ****           /* is this a ROM or RAM referencing pbuf? */
 168              		.loc 1 774 11 is_stmt 1 view .LVU57
 169 004c 0146     		mov	r1, r0
 170 004e 0820     		movs	r0, #8
 171              	.LVL14:
 774:lwIP/src/core/pbuf.c ****           /* is this a ROM or RAM referencing pbuf? */
 172              		.loc 1 774 11 is_stmt 0 view .LVU58
 173 0050 FFF7FEFF 		bl	memp_free
 174              	.LVL15:
 774:lwIP/src/core/pbuf.c ****           /* is this a ROM or RAM referencing pbuf? */
 175              		.loc 1 774 11 view .LVU59
ARM GAS  /tmp/ccJoevLK.s 			page 19


 176 0054 DCE7     		b	.L8
 177              	.LVL16:
 178              	.L22:
 777:lwIP/src/core/pbuf.c ****           /* type == PBUF_RAM */
 179              		.loc 1 777 11 is_stmt 1 view .LVU60
 180 0056 0146     		mov	r1, r0
 181 0058 0720     		movs	r0, #7
 182              	.LVL17:
 777:lwIP/src/core/pbuf.c ****           /* type == PBUF_RAM */
 183              		.loc 1 777 11 is_stmt 0 view .LVU61
 184 005a FFF7FEFF 		bl	memp_free
 185              	.LVL18:
 777:lwIP/src/core/pbuf.c ****           /* type == PBUF_RAM */
 186              		.loc 1 777 11 view .LVU62
 187 005e D7E7     		b	.L8
 188              	.LVL19:
 189              	.L19:
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 190              		.loc 1 753 5 is_stmt 1 view .LVU63
 191 0060 0648     		ldr	r0, .L23
 192              	.LVL20:
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 193              		.loc 1 753 5 is_stmt 0 view .LVU64
 194 0062 FFF7FEFF 		bl	printf
 195              	.LVL21:
 196              	.L4:
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 197              		.loc 1 753 5 is_stmt 1 view .LVU65
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 198              		.loc 1 753 5 view .LVU66
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 199              		.loc 1 753 5 view .LVU67
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 200              		.loc 1 753 5 view .LVU68
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 201              		.loc 1 753 5 view .LVU69
 753:lwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 202              		.loc 1 753 5 view .LVU70
 203 0066 FEE7     		b	.L4
 204              	.LVL22:
 205              	.L18:
 206              	.LBB59:
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 207              		.loc 1 767 9 view .LVU71
 208 0068 0548     		ldr	r0, .L23+4
 209              	.LVL23:
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 210              		.loc 1 767 9 is_stmt 0 view .LVU72
 211 006a FFF7FEFF 		bl	printf
 212              	.LVL24:
 213              	.L7:
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 214              		.loc 1 767 9 is_stmt 1 view .LVU73
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 215              		.loc 1 767 9 view .LVU74
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 216              		.loc 1 767 9 view .LVU75
ARM GAS  /tmp/ccJoevLK.s 			page 20


 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 217              		.loc 1 767 9 view .LVU76
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 218              		.loc 1 767 9 view .LVU77
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 219              		.loc 1 767 9 view .LVU78
 220 006e FEE7     		b	.L7
 221              	.LVL25:
 222              	.L11:
 767:lwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 223              		.loc 1 767 9 is_stmt 0 view .LVU79
 224              	.LBE59:
 783:lwIP/src/core/pbuf.c ****         }
 225              		.loc 1 783 11 is_stmt 1 view .LVU80
 783:lwIP/src/core/pbuf.c ****         }
 226              		.loc 1 783 11 view .LVU81
 783:lwIP/src/core/pbuf.c ****         }
 227              		.loc 1 783 11 view .LVU82
 228 0070 0448     		ldr	r0, .L23+8
 229              	.LVL26:
 783:lwIP/src/core/pbuf.c ****         }
 230              		.loc 1 783 11 is_stmt 0 view .LVU83
 231 0072 FFF7FEFF 		bl	printf
 232              	.LVL27:
 233              	.L12:
 783:lwIP/src/core/pbuf.c ****         }
 234              		.loc 1 783 11 is_stmt 1 view .LVU84
 783:lwIP/src/core/pbuf.c ****         }
 235              		.loc 1 783 11 view .LVU85
 783:lwIP/src/core/pbuf.c ****         }
 236              		.loc 1 783 11 view .LVU86
 783:lwIP/src/core/pbuf.c ****         }
 237              		.loc 1 783 11 view .LVU87
 783:lwIP/src/core/pbuf.c ****         }
 238              		.loc 1 783 11 view .LVU88
 783:lwIP/src/core/pbuf.c ****         }
 239              		.loc 1 783 11 view .LVU89
 240 0076 FEE7     		b	.L12
 241              	.LVL28:
 242              	.L14:
 783:lwIP/src/core/pbuf.c ****         }
 243              		.loc 1 783 11 is_stmt 0 view .LVU90
 244              	.LBE61:
 742:lwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
 245              		.loc 1 742 9 view .LVU91
 246 0078 0446     		mov	r4, r0
 247 007a E5E7     		b	.L2
 248              	.L24:
 249              		.align	2
 250              	.L23:
 251 007c 00000000 		.word	.LC0
 252 0080 18000000 		.word	.LC1
 253 0084 3C000000 		.word	.LC2
 254              		.cfi_endproc
 255              	.LFE143:
 257              		.section	.rodata.pbuf_alloc.str1.4,"aMS",%progbits,1
 258              		.align	2
ARM GAS  /tmp/ccJoevLK.s 			page 21


 259              	.LC3:
 260 0000 70627566 		.ascii	"pbuf_alloc: erroneous type\000"
 260      5F616C6C 
 260      6F633A20 
 260      6572726F 
 260      6E656F75 
 261              		.section	.text.pbuf_alloc,"ax",%progbits
 262              		.align	1
 263              		.p2align 2,,3
 264              		.global	pbuf_alloc
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu fpv4-sp-d16
 270              	pbuf_alloc:
 271              	.LVL29:
 272              	.LFB106:
 225:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 273              		.loc 1 225 1 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 226:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)layer;
 277              		.loc 1 226 3 view .LVU93
 227:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 278              		.loc 1 227 3 view .LVU94
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 279              		.loc 1 230 3 is_stmt 0 view .LVU95
 280 0000 B2F5C17F 		cmp	r2, #386
 225:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 281              		.loc 1 225 1 view .LVU96
 282 0004 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 283              	.LCFI1:
 284              		.cfi_def_cfa_offset 32
 285              		.cfi_offset 4, -32
 286              		.cfi_offset 5, -28
 287              		.cfi_offset 6, -24
 288              		.cfi_offset 7, -20
 289              		.cfi_offset 8, -16
 290              		.cfi_offset 9, -12
 291              		.cfi_offset 10, -8
 292              		.cfi_offset 14, -4
 225:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 293              		.loc 1 225 1 view .LVU97
 294 0008 0D46     		mov	r5, r1
 227:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 295              		.loc 1 227 9 view .LVU98
 296 000a 86B2     		uxth	r6, r0
 297              	.LVL30:
 228:lwIP/src/core/pbuf.c **** 
 298              		.loc 1 228 86 is_stmt 1 view .LVU99
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 299              		.loc 1 230 3 view .LVU100
 300 000c 45D0     		beq	.L39
 301 000e 9046     		mov	r8, r2
 302 0010 08D8     		bhi	.L27
 303 0012 22F04003 		bic	r3, r2, #64
ARM GAS  /tmp/ccJoevLK.s 			page 22


 304 0016 012B     		cmp	r3, #1
 305 0018 9EB2     		uxth	r6, r3
 306              	.LVL31:
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 307              		.loc 1 230 3 is_stmt 0 view .LVU101
 308 001a 2CD0     		beq	.L48
 309              	.L29:
 295:lwIP/src/core/pbuf.c ****       return NULL;
 310              		.loc 1 295 7 is_stmt 1 discriminator 1 view .LVU102
 295:lwIP/src/core/pbuf.c ****       return NULL;
 311              		.loc 1 295 7 discriminator 1 view .LVU103
 295:lwIP/src/core/pbuf.c ****       return NULL;
 312              		.loc 1 295 7 discriminator 1 view .LVU104
 313 001c 3C48     		ldr	r0, .L50
 314              	.LVL32:
 295:lwIP/src/core/pbuf.c ****       return NULL;
 315              		.loc 1 295 7 is_stmt 0 discriminator 1 view .LVU105
 316 001e FFF7FEFF 		bl	printf
 317              	.LVL33:
 318              	.L38:
 295:lwIP/src/core/pbuf.c ****       return NULL;
 319              		.loc 1 295 7 is_stmt 1 discriminator 4 view .LVU106
 295:lwIP/src/core/pbuf.c ****       return NULL;
 320              		.loc 1 295 7 discriminator 4 view .LVU107
 295:lwIP/src/core/pbuf.c ****       return NULL;
 321              		.loc 1 295 7 discriminator 4 view .LVU108
 295:lwIP/src/core/pbuf.c ****       return NULL;
 322              		.loc 1 295 7 discriminator 4 view .LVU109
 295:lwIP/src/core/pbuf.c ****       return NULL;
 323              		.loc 1 295 7 discriminator 4 view .LVU110
 295:lwIP/src/core/pbuf.c ****       return NULL;
 324              		.loc 1 295 7 discriminator 4 view .LVU111
 325 0022 FEE7     		b	.L38
 326              	.LVL34:
 327              	.L27:
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 328              		.loc 1 230 3 is_stmt 0 view .LVU112
 329 0024 B2F5207F 		cmp	r2, #640
 330 0028 F8D1     		bne	.L29
 331              	.LBB84:
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 332              		.loc 1 274 35 view .LVU113
 333 002a F31C     		adds	r3, r6, #3
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 334              		.loc 1 274 65 view .LVU114
 335 002c CA1C     		adds	r2, r1, #3
 336              	.LVL35:
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 337              		.loc 1 274 65 view .LVU115
 338 002e 0746     		mov	r7, r0
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 339              		.loc 1 274 7 is_stmt 1 view .LVU116
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 340              		.loc 1 274 65 is_stmt 0 view .LVU117
 341 0030 22F00302 		bic	r2, r2, #3
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 342              		.loc 1 274 35 view .LVU118
ARM GAS  /tmp/ccJoevLK.s 			page 23


 343 0034 23F00303 		bic	r3, r3, #3
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 344              		.loc 1 274 13 view .LVU119
 345 0038 1344     		add	r3, r3, r2
 346 003a 9BB2     		uxth	r3, r3
 347              	.LVL36:
 275:lwIP/src/core/pbuf.c **** 
 348              		.loc 1 275 7 is_stmt 1 view .LVU120
 275:lwIP/src/core/pbuf.c **** 
 349              		.loc 1 275 18 is_stmt 0 view .LVU121
 350 003c 03F11000 		add	r0, r3, #16
 351              	.LVL37:
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 352              		.loc 1 278 10 view .LVU122
 353 0040 9342     		cmp	r3, r2
 275:lwIP/src/core/pbuf.c **** 
 354              		.loc 1 275 18 view .LVU123
 355 0042 80B2     		uxth	r0, r0
 356              	.LVL38:
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 357              		.loc 1 278 7 is_stmt 1 view .LVU124
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 358              		.loc 1 278 10 is_stmt 0 view .LVU125
 359 0044 60D3     		bcc	.L37
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 360              		.loc 1 278 55 discriminator 1 view .LVU126
 361 0046 8242     		cmp	r2, r0
 362 0048 5ED8     		bhi	.L37
 284:lwIP/src/core/pbuf.c ****       if (p == NULL) {
 363              		.loc 1 284 7 is_stmt 1 view .LVU127
 284:lwIP/src/core/pbuf.c ****       if (p == NULL) {
 364              		.loc 1 284 26 is_stmt 0 view .LVU128
 365 004a FFF7FEFF 		bl	mem_malloc
 366              	.LVL39:
 285:lwIP/src/core/pbuf.c ****         return NULL;
 367              		.loc 1 285 7 is_stmt 1 view .LVU129
 285:lwIP/src/core/pbuf.c ****         return NULL;
 368              		.loc 1 285 10 is_stmt 0 view .LVU130
 369 004e 0446     		mov	r4, r0
 370 0050 70B1     		cbz	r0, .L25
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 371              		.loc 1 288 7 is_stmt 1 view .LVU131
 372              	.LVL40:
 373              	.LBB85:
 374              	.LBI85:
 179:lwIP/src/core/pbuf.c **** {
 375              		.loc 1 179 1 view .LVU132
 376              	.LBB86:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 377              		.loc 1 181 3 view .LVU133
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 378              		.loc 1 181 11 is_stmt 0 view .LVU134
 379 0052 0021     		movs	r1, #0
 380              	.LBE86:
 381              	.LBE85:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 382              		.loc 1 288 33 view .LVU135
ARM GAS  /tmp/ccJoevLK.s 			page 24


 383 0054 C319     		adds	r3, r0, r7
 384              	.LBB90:
 385              	.LBB87:
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 386              		.loc 1 185 20 view .LVU136
 387 0056 2F48     		ldr	r0, .L50+4
 388              	.LVL41:
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 389              		.loc 1 183 14 view .LVU137
 390 0058 0A46     		mov	r2, r1
 391              	.LBE87:
 392              	.LBE90:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 393              		.loc 1 288 33 view .LVU138
 394 005a 1333     		adds	r3, r3, #19
 395              	.LBB91:
 396              	.LBB88:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 397              		.loc 1 181 11 view .LVU139
 398 005c 2160     		str	r1, [r4]
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 399              		.loc 1 182 3 is_stmt 1 view .LVU140
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 400              		.loc 1 183 14 is_stmt 0 view .LVU141
 401 005e 65F30F02 		bfi	r2, r5, #0, #16
 402              	.LVL42:
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 403              		.loc 1 183 14 view .LVU142
 404              	.LBE88:
 405              	.LBE91:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 406              		.loc 1 288 33 view .LVU143
 407 0062 23F00303 		bic	r3, r3, #3
 408              	.LBB92:
 409              	.LBB89:
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 410              		.loc 1 185 20 view .LVU144
 411 0066 E060     		str	r0, [r4, #12]
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 412              		.loc 1 183 14 view .LVU145
 413 0068 65F31F42 		bfi	r2, r5, #16, #16
 414 006c C4E90132 		strd	r3, r2, [r4, #4]
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 415              		.loc 1 185 3 is_stmt 1 view .LVU146
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 416              		.loc 1 186 3 view .LVU147
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 417              		.loc 1 187 3 view .LVU148
 188:lwIP/src/core/pbuf.c **** }
 418              		.loc 1 188 3 view .LVU149
 419              	.LVL43:
 188:lwIP/src/core/pbuf.c **** }
 420              		.loc 1 188 3 is_stmt 0 view .LVU150
 421              	.LBE89:
 422              	.LBE92:
 290:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 423              		.loc 1 290 7 is_stmt 1 view .LVU151
ARM GAS  /tmp/ccJoevLK.s 			page 25


 290:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 424              		.loc 1 290 7 view .LVU152
 425              	.L25:
 290:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 426              		.loc 1 290 7 is_stmt 0 view .LVU153
 427              	.LBE84:
 300:lwIP/src/core/pbuf.c **** 
 428              		.loc 1 300 1 view .LVU154
 429 0070 2046     		mov	r0, r4
 430 0072 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 431              	.LVL44:
 432              	.L48:
 233:lwIP/src/core/pbuf.c ****       break;
 433              		.loc 1 233 7 is_stmt 1 view .LVU155
 434              	.LBB93:
 435              	.LBI93:
 327:lwIP/src/core/pbuf.c **** {
 436              		.loc 1 327 1 view .LVU156
 437              	.LBB94:
 329:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("invalid pbuf_type", (type == PBUF_REF) || (type == PBUF_ROM));
 438              		.loc 1 329 3 view .LVU157
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 439              		.loc 1 330 3 view .LVU158
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 440              		.loc 1 330 3 view .LVU159
 441              	.LBB95:
 442              	.LBI95:
 327:lwIP/src/core/pbuf.c **** {
 443              		.loc 1 327 1 view .LVU160
 444              	.LBB96:
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 445              		.loc 1 330 3 view .LVU161
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 446              		.loc 1 332 3 view .LVU162
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 447              		.loc 1 332 22 is_stmt 0 view .LVU163
 448 0076 0720     		movs	r0, #7
 449              	.LVL45:
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 450              		.loc 1 332 22 view .LVU164
 451 0078 FFF7FEFF 		bl	memp_malloc
 452              	.LVL46:
 333:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 453              		.loc 1 333 3 is_stmt 1 view .LVU165
 333:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 454              		.loc 1 333 6 is_stmt 0 view .LVU166
 455 007c 0446     		mov	r4, r0
 456 007e 0028     		cmp	r0, #0
 457 0080 F6D0     		beq	.L25
 339:lwIP/src/core/pbuf.c ****   return p;
 458              		.loc 1 339 3 is_stmt 1 view .LVU167
 459              	.LVL47:
 460              	.LBB97:
 461              	.LBI97:
 179:lwIP/src/core/pbuf.c **** {
 462              		.loc 1 179 1 view .LVU168
 463              	.LBB98:
ARM GAS  /tmp/ccJoevLK.s 			page 26


 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 464              		.loc 1 181 3 view .LVU169
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 465              		.loc 1 181 11 is_stmt 0 view .LVU170
 466 0082 0023     		movs	r3, #0
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 467              		.loc 1 183 14 view .LVU171
 468 0084 0581     		strh	r5, [r0, #8]	@ movhi
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 469              		.loc 1 184 10 view .LVU172
 470 0086 4581     		strh	r5, [r0, #10]	@ movhi
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 471              		.loc 1 185 22 view .LVU173
 472 0088 80F80C80 		strb	r8, [r0, #12]
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 473              		.loc 1 187 10 view .LVU174
 474 008c C681     		strh	r6, [r0, #14]	@ movhi
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 475              		.loc 1 186 12 view .LVU175
 476 008e 4373     		strb	r3, [r0, #13]
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 477              		.loc 1 182 14 view .LVU176
 478 0090 C0E90033 		strd	r3, r3, [r0]
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 479              		.loc 1 183 3 is_stmt 1 view .LVU177
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 480              		.loc 1 184 3 view .LVU178
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 481              		.loc 1 185 3 view .LVU179
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 482              		.loc 1 186 3 view .LVU180
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 483              		.loc 1 187 3 view .LVU181
 188:lwIP/src/core/pbuf.c **** }
 484              		.loc 1 188 3 view .LVU182
 485              	.LVL48:
 188:lwIP/src/core/pbuf.c **** }
 486              		.loc 1 188 3 is_stmt 0 view .LVU183
 487              	.LBE98:
 488              	.LBE97:
 340:lwIP/src/core/pbuf.c **** }
 489              		.loc 1 340 3 is_stmt 1 view .LVU184
 490              	.LBE96:
 491              	.LBE95:
 492              	.LBE94:
 493              	.LBE93:
 300:lwIP/src/core/pbuf.c **** 
 494              		.loc 1 300 1 is_stmt 0 view .LVU185
 495 0094 2046     		mov	r0, r4
 300:lwIP/src/core/pbuf.c **** 
 496              		.loc 1 300 1 view .LVU186
 497 0096 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 498              	.LVL49:
 499              	.L39:
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 500              		.loc 1 230 3 view .LVU187
 501 009a 4FF0000A 		mov	r10, #0
ARM GAS  /tmp/ccJoevLK.s 			page 27


 502              	.LBB99:
 503              	.LBB100:
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 504              		.loc 1 253 16 view .LVU188
 505 009e 40F2F459 		movw	r9, #1524
 506              	.LBB101:
 507              	.LBB102:
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 508              		.loc 1 185 20 view .LVU189
 509 00a2 DFF87480 		ldr	r8, .L50+8
 510              	.LBE102:
 511              	.LBE101:
 512              	.LBE100:
 513              	.LBE99:
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 514              		.loc 1 230 3 view .LVU190
 515 00a6 5746     		mov	r7, r10
 516              	.LVL50:
 517              	.L26:
 518              	.LBB123:
 241:lwIP/src/core/pbuf.c ****         u16_t qlen;
 519              		.loc 1 241 7 is_stmt 1 view .LVU191
 520              	.LBB119:
 242:lwIP/src/core/pbuf.c ****         q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 521              		.loc 1 242 9 view .LVU192
 243:lwIP/src/core/pbuf.c ****         if (q == NULL) {
 522              		.loc 1 243 9 view .LVU193
 243:lwIP/src/core/pbuf.c ****         if (q == NULL) {
 523              		.loc 1 243 28 is_stmt 0 view .LVU194
 524 00a8 0820     		movs	r0, #8
 525 00aa FFF7FEFF 		bl	memp_malloc
 526              	.LVL51:
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 527              		.loc 1 253 9 is_stmt 1 view .LVU195
 265:lwIP/src/core/pbuf.c ****         }
 528              		.loc 1 265 11 view .LVU196
 244:lwIP/src/core/pbuf.c ****           PBUF_POOL_IS_EMPTY();
 529              		.loc 1 244 9 view .LVU197
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 530              		.loc 1 253 16 is_stmt 0 view .LVU198
 531 00ae F31C     		adds	r3, r6, #3
 532              	.LBB110:
 533              	.LBB103:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 534              		.loc 1 181 11 view .LVU199
 535 00b0 0021     		movs	r1, #0
 536              	.LBE103:
 537              	.LBE110:
 244:lwIP/src/core/pbuf.c ****           PBUF_POOL_IS_EMPTY();
 538              		.loc 1 244 12 view .LVU200
 539 00b2 0446     		mov	r4, r0
 540 00b4 18B3     		cbz	r0, .L49
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 541              		.loc 1 253 16 view .LVU201
 542 00b6 23F00303 		bic	r3, r3, #3
 254:lwIP/src/core/pbuf.c ****                                rem_len, qlen, type, 0);
 543              		.loc 1 254 35 view .LVU202
ARM GAS  /tmp/ccJoevLK.s 			page 28


 544 00ba 8219     		adds	r2, r0, r6
 545              	.LBB111:
 546              	.LBB104:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 547              		.loc 1 181 11 view .LVU203
 548 00bc 0160     		str	r1, [r0]
 549              	.LBE104:
 550              	.LBE111:
 269:lwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 551              		.loc 1 269 16 view .LVU204
 552 00be 0026     		movs	r6, #0
 553              	.LVL52:
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 554              		.loc 1 253 16 view .LVU205
 555 00c0 A9EB0303 		sub	r3, r9, r3
 254:lwIP/src/core/pbuf.c ****                                rem_len, qlen, type, 0);
 556              		.loc 1 254 35 view .LVU206
 557 00c4 1332     		adds	r2, r2, #19
 558              	.LBB112:
 559              	.LBB105:
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 560              		.loc 1 183 14 view .LVU207
 561 00c6 0581     		strh	r5, [r0, #8]	@ movhi
 562              	.LBE105:
 563              	.LBE112:
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 564              		.loc 1 253 14 view .LVU208
 565 00c8 9BB2     		uxth	r3, r3
 254:lwIP/src/core/pbuf.c ****                                rem_len, qlen, type, 0);
 566              		.loc 1 254 35 view .LVU209
 567 00ca 22F00302 		bic	r2, r2, #3
 568              	.LBB113:
 569              	.LBB106:
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 570              		.loc 1 185 20 view .LVU210
 571 00ce C0F80C80 		str	r8, [r0, #12]
 572              	.LBE106:
 573              	.LBE113:
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 574              		.loc 1 253 14 view .LVU211
 575 00d2 AB42     		cmp	r3, r5
 576              	.LBB114:
 577              	.LBB107:
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 578              		.loc 1 182 14 view .LVU212
 579 00d4 4260     		str	r2, [r0, #4]
 580              	.LBE107:
 581              	.LBE114:
 253:lwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 582              		.loc 1 253 14 view .LVU213
 583 00d6 28BF     		it	cs
 584 00d8 2B46     		movcs	r3, r5
 585              	.LVL53:
 254:lwIP/src/core/pbuf.c ****                                rem_len, qlen, type, 0);
 586              		.loc 1 254 9 is_stmt 1 view .LVU214
 587              	.LBB115:
 588              	.LBI101:
ARM GAS  /tmp/ccJoevLK.s 			page 29


 179:lwIP/src/core/pbuf.c **** {
 589              		.loc 1 179 1 view .LVU215
 590              	.LBB108:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 591              		.loc 1 181 3 view .LVU216
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 592              		.loc 1 182 3 view .LVU217
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 593              		.loc 1 183 3 view .LVU218
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 594              		.loc 1 184 3 view .LVU219
 595              	.LBE108:
 596              	.LBE115:
 268:lwIP/src/core/pbuf.c ****         offset = 0;
 597              		.loc 1 268 17 is_stmt 0 view .LVU220
 598 00da EA1A     		subs	r2, r5, r3
 599              	.LBB116:
 600              	.LBB109:
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 601              		.loc 1 184 10 view .LVU221
 602 00dc 4381     		strh	r3, [r0, #10]	@ movhi
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 603              		.loc 1 185 3 is_stmt 1 view .LVU222
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 604              		.loc 1 186 3 view .LVU223
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 605              		.loc 1 187 3 view .LVU224
 188:lwIP/src/core/pbuf.c **** }
 606              		.loc 1 188 3 view .LVU225
 607              	.LVL54:
 188:lwIP/src/core/pbuf.c **** }
 608              		.loc 1 188 3 is_stmt 0 view .LVU226
 609              	.LBE109:
 610              	.LBE116:
 256:lwIP/src/core/pbuf.c ****                     ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 611              		.loc 1 256 9 is_stmt 1 view .LVU227
 256:lwIP/src/core/pbuf.c ****                     ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 612              		.loc 1 256 9 view .LVU228
 256:lwIP/src/core/pbuf.c ****                     ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 613              		.loc 1 256 9 view .LVU229
 258:lwIP/src/core/pbuf.c ****                     (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 614              		.loc 1 258 9 view .LVU230
 258:lwIP/src/core/pbuf.c ****                     (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 615              		.loc 1 258 9 view .LVU231
 258:lwIP/src/core/pbuf.c ****                     (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 616              		.loc 1 258 9 view .LVU232
 260:lwIP/src/core/pbuf.c ****           /* allocated head of pbuf chain (into p) */
 617              		.loc 1 260 9 view .LVU233
 260:lwIP/src/core/pbuf.c ****           /* allocated head of pbuf chain (into p) */
 618              		.loc 1 260 12 is_stmt 0 view .LVU234
 619 00de 2FB1     		cbz	r7, .L34
 268:lwIP/src/core/pbuf.c ****         offset = 0;
 620              		.loc 1 268 17 view .LVU235
 621 00e0 95B2     		uxth	r5, r2
 622              	.LVL55:
 265:lwIP/src/core/pbuf.c ****         }
 623              		.loc 1 265 22 view .LVU236
ARM GAS  /tmp/ccJoevLK.s 			page 30


 624 00e2 CAF80000 		str	r0, [r10]
 267:lwIP/src/core/pbuf.c ****         rem_len = (u16_t)(rem_len - qlen);
 625              		.loc 1 267 9 is_stmt 1 view .LVU237
 626              	.LVL56:
 268:lwIP/src/core/pbuf.c ****         offset = 0;
 627              		.loc 1 268 9 view .LVU238
 269:lwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 628              		.loc 1 269 9 view .LVU239
 269:lwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 629              		.loc 1 269 9 is_stmt 0 view .LVU240
 630              	.LBE119:
 270:lwIP/src/core/pbuf.c ****       break;
 631              		.loc 1 270 15 is_stmt 1 view .LVU241
 270:lwIP/src/core/pbuf.c ****       break;
 632              		.loc 1 270 7 is_stmt 0 view .LVU242
 633 00e6 35B1     		cbz	r5, .L36
 634              	.L35:
 270:lwIP/src/core/pbuf.c ****       break;
 635              		.loc 1 270 7 view .LVU243
 636              	.LBE123:
 225:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 637              		.loc 1 225 1 view .LVU244
 638 00e8 A246     		mov	r10, r4
 639 00ea DDE7     		b	.L26
 640              	.LVL57:
 641              	.L34:
 642              	.LBB124:
 643              	.LBB120:
 267:lwIP/src/core/pbuf.c ****         rem_len = (u16_t)(rem_len - qlen);
 644              		.loc 1 267 9 is_stmt 1 view .LVU245
 268:lwIP/src/core/pbuf.c ****         offset = 0;
 645              		.loc 1 268 9 view .LVU246
 268:lwIP/src/core/pbuf.c ****         offset = 0;
 646              		.loc 1 268 17 is_stmt 0 view .LVU247
 647 00ec ED1A     		subs	r5, r5, r3
 648              	.LVL58:
 268:lwIP/src/core/pbuf.c ****         offset = 0;
 649              		.loc 1 268 17 view .LVU248
 650              	.LBE120:
 651 00ee 0746     		mov	r7, r0
 652              	.LBB121:
 653 00f0 ADB2     		uxth	r5, r5
 654              	.LVL59:
 269:lwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 655              		.loc 1 269 9 is_stmt 1 view .LVU249
 269:lwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 656              		.loc 1 269 9 is_stmt 0 view .LVU250
 657              	.LBE121:
 270:lwIP/src/core/pbuf.c ****       break;
 658              		.loc 1 270 15 is_stmt 1 view .LVU251
 270:lwIP/src/core/pbuf.c ****       break;
 659              		.loc 1 270 7 is_stmt 0 view .LVU252
 660 00f2 002D     		cmp	r5, #0
 661 00f4 F8D1     		bne	.L35
 662              	.LVL60:
 663              	.L36:
 270:lwIP/src/core/pbuf.c ****       break;
ARM GAS  /tmp/ccJoevLK.s 			page 31


 664              		.loc 1 270 7 view .LVU253
 665 00f6 3C46     		mov	r4, r7
 666              	.LBE124:
 300:lwIP/src/core/pbuf.c **** 
 667              		.loc 1 300 1 view .LVU254
 668 00f8 2046     		mov	r0, r4
 669              	.LVL61:
 300:lwIP/src/core/pbuf.c **** 
 670              		.loc 1 300 1 view .LVU255
 671 00fa BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 672              	.LVL62:
 673              	.L49:
 674              	.LBB125:
 675              	.LBB122:
 245:lwIP/src/core/pbuf.c ****           /* free chain so far allocated */
 676              		.loc 1 245 31 is_stmt 1 view .LVU256
 247:lwIP/src/core/pbuf.c ****             pbuf_free(p);
 677              		.loc 1 247 11 view .LVU257
 247:lwIP/src/core/pbuf.c ****             pbuf_free(p);
 678              		.loc 1 247 14 is_stmt 0 view .LVU258
 679 00fe 1FB1     		cbz	r7, .L37
 248:lwIP/src/core/pbuf.c ****           }
 680              		.loc 1 248 13 is_stmt 1 view .LVU259
 681              	.LVL63:
 682              	.LBB117:
 683              	.LBI117:
 725:lwIP/src/core/pbuf.c **** {
 684              		.loc 1 725 1 view .LVU260
 685              	.LBB118:
 727:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 686              		.loc 1 727 3 view .LVU261
 728:lwIP/src/core/pbuf.c ****   u8_t count;
 687              		.loc 1 728 3 view .LVU262
 729:lwIP/src/core/pbuf.c **** 
 688              		.loc 1 729 3 view .LVU263
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 689              		.loc 1 731 3 view .LVU264
 690 0100 3846     		mov	r0, r7
 691              	.LVL64:
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 692              		.loc 1 731 3 is_stmt 0 view .LVU265
 693 0102 FFF7FEFF 		bl	pbuf_free.part.0
 694              	.LVL65:
 797:lwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 695              		.loc 1 797 25 is_stmt 1 view .LVU266
 799:lwIP/src/core/pbuf.c **** }
 696              		.loc 1 799 3 view .LVU267
 697 0106 B3E7     		b	.L25
 698              	.LVL66:
 699              	.L37:
 799:lwIP/src/core/pbuf.c **** }
 700              		.loc 1 799 3 is_stmt 0 view .LVU268
 701              	.LBE118:
 702              	.LBE117:
 251:lwIP/src/core/pbuf.c ****         }
 703              		.loc 1 251 18 view .LVU269
 704 0108 0024     		movs	r4, #0
ARM GAS  /tmp/ccJoevLK.s 			page 32


 705              	.LBE122:
 706              	.LBE125:
 300:lwIP/src/core/pbuf.c **** 
 707              		.loc 1 300 1 view .LVU270
 708 010a 2046     		mov	r0, r4
 709 010c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 710              	.LVL67:
 711              	.L51:
 300:lwIP/src/core/pbuf.c **** 
 712              		.loc 1 300 1 view .LVU271
 713              		.align	2
 714              	.L50:
 715 0110 00000000 		.word	.LC3
 716 0114 80000100 		.word	65664
 717 0118 82000100 		.word	65666
 718              		.cfi_endproc
 719              	.LFE106:
 721              		.section	.rodata.pbuf_alloc_reference.str1.4,"aMS",%progbits,1
 722              		.align	2
 723              	.LC4:
 724 0000 696E7661 		.ascii	"invalid pbuf_type\000"
 724      6C696420 
 724      70627566 
 724      5F747970 
 724      6500
 725              		.section	.text.pbuf_alloc_reference,"ax",%progbits
 726              		.align	1
 727              		.p2align 2,,3
 728              		.global	pbuf_alloc_reference
 729              		.syntax unified
 730              		.thumb
 731              		.thumb_func
 732              		.fpu fpv4-sp-d16
 734              	pbuf_alloc_reference:
 735              	.LVL68:
 736              	.LFB107:
 328:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 737              		.loc 1 328 1 is_stmt 1 view -0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 0
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 329:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("invalid pbuf_type", (type == PBUF_REF) || (type == PBUF_ROM));
 741              		.loc 1 329 3 view .LVU273
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 742              		.loc 1 330 3 view .LVU274
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 743              		.loc 1 330 3 view .LVU275
 328:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 744              		.loc 1 328 1 is_stmt 0 view .LVU276
 745 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 746              	.LCFI2:
 747              		.cfi_def_cfa_offset 24
 748              		.cfi_offset 3, -24
 749              		.cfi_offset 4, -20
 750              		.cfi_offset 5, -16
 751              		.cfi_offset 6, -12
 752              		.cfi_offset 7, -8
ARM GAS  /tmp/ccJoevLK.s 			page 33


 753              		.cfi_offset 14, -4
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 754              		.loc 1 330 3 view .LVU277
 755 0002 22F04003 		bic	r3, r2, #64
 756 0006 012B     		cmp	r3, #1
 757 0008 03D0     		beq	.L53
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 758              		.loc 1 330 3 is_stmt 1 discriminator 1 view .LVU278
 759 000a 0A48     		ldr	r0, .L60
 760              	.LVL69:
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 761              		.loc 1 330 3 is_stmt 0 discriminator 1 view .LVU279
 762 000c FFF7FEFF 		bl	printf
 763              	.LVL70:
 764              	.L54:
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 765              		.loc 1 330 3 is_stmt 1 discriminator 1 view .LVU280
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 766              		.loc 1 330 3 discriminator 1 view .LVU281
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 767              		.loc 1 330 3 discriminator 1 view .LVU282
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 768              		.loc 1 330 3 discriminator 1 view .LVU283
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 769              		.loc 1 330 3 discriminator 1 view .LVU284
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 770              		.loc 1 330 3 discriminator 1 view .LVU285
 771 0010 FEE7     		b	.L54
 772              	.LVL71:
 773              	.L53:
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 774              		.loc 1 330 3 is_stmt 0 discriminator 1 view .LVU286
 775 0012 0646     		mov	r6, r0
 776              	.LVL72:
 777              	.LBB130:
 778              	.LBB131:
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 779              		.loc 1 332 22 view .LVU287
 780 0014 0720     		movs	r0, #7
 781              	.LVL73:
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 782              		.loc 1 332 22 view .LVU288
 783 0016 1446     		mov	r4, r2
 784 0018 0D46     		mov	r5, r1
 785              	.LVL74:
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 786              		.loc 1 332 22 view .LVU289
 787              	.LBE131:
 788              	.LBI130:
 327:lwIP/src/core/pbuf.c **** {
 789              		.loc 1 327 1 is_stmt 1 view .LVU290
 790              	.LBB136:
 330:lwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 791              		.loc 1 330 3 view .LVU291
 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 792              		.loc 1 332 3 view .LVU292
 793 001a 9FB2     		uxth	r7, r3
ARM GAS  /tmp/ccJoevLK.s 			page 34


 332:lwIP/src/core/pbuf.c ****   if (p == NULL) {
 794              		.loc 1 332 22 is_stmt 0 view .LVU293
 795 001c FFF7FEFF 		bl	memp_malloc
 796              	.LVL75:
 333:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 797              		.loc 1 333 3 is_stmt 1 view .LVU294
 333:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 798              		.loc 1 333 6 is_stmt 0 view .LVU295
 799 0020 38B1     		cbz	r0, .L52
 339:lwIP/src/core/pbuf.c ****   return p;
 800              		.loc 1 339 3 is_stmt 1 view .LVU296
 801              	.LVL76:
 802              	.LBB132:
 803              	.LBI132:
 179:lwIP/src/core/pbuf.c **** {
 804              		.loc 1 179 1 view .LVU297
 805              	.LBB133:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 806              		.loc 1 181 3 view .LVU298
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 807              		.loc 1 181 11 is_stmt 0 view .LVU299
 808 0022 0023     		movs	r3, #0
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 809              		.loc 1 182 14 view .LVU300
 810 0024 4660     		str	r6, [r0, #4]
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 811              		.loc 1 183 14 view .LVU301
 812 0026 0581     		strh	r5, [r0, #8]	@ movhi
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 813              		.loc 1 184 10 view .LVU302
 814 0028 4581     		strh	r5, [r0, #10]	@ movhi
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 815              		.loc 1 185 22 view .LVU303
 816 002a 0473     		strb	r4, [r0, #12]
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 817              		.loc 1 187 10 view .LVU304
 818 002c C781     		strh	r7, [r0, #14]	@ movhi
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 819              		.loc 1 181 11 view .LVU305
 820 002e 0360     		str	r3, [r0]
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 821              		.loc 1 182 3 is_stmt 1 view .LVU306
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 822              		.loc 1 183 3 view .LVU307
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 823              		.loc 1 184 3 view .LVU308
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 824              		.loc 1 185 3 view .LVU309
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 825              		.loc 1 186 3 view .LVU310
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 826              		.loc 1 187 3 view .LVU311
 188:lwIP/src/core/pbuf.c **** }
 827              		.loc 1 188 3 view .LVU312
 828              	.LVL77:
 188:lwIP/src/core/pbuf.c **** }
 829              		.loc 1 188 3 is_stmt 0 view .LVU313
ARM GAS  /tmp/ccJoevLK.s 			page 35


 830              	.LBE133:
 831              	.LBE132:
 340:lwIP/src/core/pbuf.c **** }
 832              		.loc 1 340 3 is_stmt 1 view .LVU314
 833              	.LBB135:
 834              	.LBB134:
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 835              		.loc 1 186 12 is_stmt 0 view .LVU315
 836 0030 4373     		strb	r3, [r0, #13]
 837              	.L52:
 838              	.LBE134:
 839              	.LBE135:
 840              	.LBE136:
 841              	.LBE130:
 341:lwIP/src/core/pbuf.c **** 
 842              		.loc 1 341 1 view .LVU316
 843 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 844              	.LVL78:
 845              	.L61:
 341:lwIP/src/core/pbuf.c **** 
 846              		.loc 1 341 1 view .LVU317
 847              		.align	2
 848              	.L60:
 849 0034 00000000 		.word	.LC4
 850              		.cfi_endproc
 851              	.LFE107:
 853              		.section	.text.pbuf_alloced_custom,"ax",%progbits
 854              		.align	1
 855              		.p2align 2,,3
 856              		.global	pbuf_alloced_custom
 857              		.syntax unified
 858              		.thumb
 859              		.thumb_func
 860              		.fpu fpv4-sp-d16
 862              	pbuf_alloced_custom:
 863              	.LVL79:
 864              	.LFB108:
 365:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)l;
 865              		.loc 1 365 1 is_stmt 1 view -0
 866              		.cfi_startproc
 867              		@ args = 8, pretend = 0, frame = 0
 868              		@ frame_needed = 0, uses_anonymous_args = 0
 869              		@ link register save eliminated.
 366:lwIP/src/core/pbuf.c ****   void *payload;
 870              		.loc 1 366 3 view .LVU319
 367:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloced_custom(length=%"U16_F")\n", length));
 871              		.loc 1 367 3 view .LVU320
 368:lwIP/src/core/pbuf.c **** 
 872              		.loc 1 368 95 view .LVU321
 370:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 873              		.loc 1 370 3 view .LVU322
 370:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 874              		.loc 1 370 7 is_stmt 0 view .LVU323
 875 0000 0330     		adds	r0, r0, #3
 876              	.LVL80:
 365:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)l;
 877              		.loc 1 365 1 view .LVU324
ARM GAS  /tmp/ccJoevLK.s 			page 36


 878 0002 70B4     		push	{r4, r5, r6}
 879              	.LCFI3:
 880              		.cfi_def_cfa_offset 12
 881              		.cfi_offset 4, -12
 882              		.cfi_offset 5, -8
 883              		.cfi_offset 6, -4
 370:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 884              		.loc 1 370 7 view .LVU325
 885 0004 20F00304 		bic	r4, r0, #3
 365:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)l;
 886              		.loc 1 365 1 view .LVU326
 887 0008 BDF81050 		ldrh	r5, [sp, #16]
 888 000c 1846     		mov	r0, r3
 889 000e 039B     		ldr	r3, [sp, #12]
 890              	.LVL81:
 370:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 891              		.loc 1 370 35 view .LVU327
 892 0010 0E19     		adds	r6, r1, r4
 370:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 893              		.loc 1 370 6 view .LVU328
 894 0012 AE42     		cmp	r6, r5
 895 0014 0DD8     		bhi	.L65
 375:lwIP/src/core/pbuf.c ****     payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 896              		.loc 1 375 3 is_stmt 1 view .LVU329
 375:lwIP/src/core/pbuf.c ****     payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 897              		.loc 1 375 6 is_stmt 0 view .LVU330
 898 0016 03B1     		cbz	r3, .L64
 376:lwIP/src/core/pbuf.c ****   } else {
 899              		.loc 1 376 5 is_stmt 1 view .LVU331
 376:lwIP/src/core/pbuf.c ****   } else {
 900              		.loc 1 376 13 is_stmt 0 view .LVU332
 901 0018 2344     		add	r3, r3, r4
 902              	.LVL82:
 903              	.L64:
 380:lwIP/src/core/pbuf.c ****   return &p->pbuf;
 904              		.loc 1 380 3 is_stmt 1 view .LVU333
 905              	.LBB137:
 906              	.LBI137:
 179:lwIP/src/core/pbuf.c **** {
 907              		.loc 1 179 1 view .LVU334
 908              	.LBB138:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 909              		.loc 1 181 3 view .LVU335
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 910              		.loc 1 181 11 is_stmt 0 view .LVU336
 911 001a 0026     		movs	r6, #0
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 912              		.loc 1 186 12 view .LVU337
 913 001c 0225     		movs	r5, #2
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 914              		.loc 1 187 10 view .LVU338
 915 001e 0124     		movs	r4, #1
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 916              		.loc 1 185 22 view .LVU339
 917 0020 0273     		strb	r2, [r0, #12]
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 918              		.loc 1 181 11 view .LVU340
ARM GAS  /tmp/ccJoevLK.s 			page 37


 919 0022 0660     		str	r6, [r0]
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 920              		.loc 1 182 3 is_stmt 1 view .LVU341
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 921              		.loc 1 183 3 view .LVU342
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 922              		.loc 1 184 3 view .LVU343
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 923              		.loc 1 185 3 view .LVU344
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 924              		.loc 1 186 3 view .LVU345
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 925              		.loc 1 187 3 view .LVU346
 188:lwIP/src/core/pbuf.c **** }
 926              		.loc 1 188 3 view .LVU347
 186:lwIP/src/core/pbuf.c ****   p->ref = 1;
 927              		.loc 1 186 12 is_stmt 0 view .LVU348
 928 0024 4573     		strb	r5, [r0, #13]
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 929              		.loc 1 187 10 view .LVU349
 930 0026 C481     		strh	r4, [r0, #14]	@ movhi
 931              	.LVL83:
 187:lwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 932              		.loc 1 187 10 view .LVU350
 933              	.LBE138:
 934              	.LBE137:
 381:lwIP/src/core/pbuf.c **** }
 935              		.loc 1 381 3 is_stmt 1 view .LVU351
 936              	.LBB140:
 937              	.LBB139:
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 938              		.loc 1 182 14 is_stmt 0 view .LVU352
 939 0028 4360     		str	r3, [r0, #4]
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 940              		.loc 1 183 14 view .LVU353
 941 002a 0181     		strh	r1, [r0, #8]	@ movhi
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 942              		.loc 1 184 10 view .LVU354
 943 002c 4181     		strh	r1, [r0, #10]	@ movhi
 944              	.LBE139:
 945              	.LBE140:
 382:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 946              		.loc 1 382 1 view .LVU355
 947 002e 70BC     		pop	{r4, r5, r6}
 948              	.LCFI4:
 949              		.cfi_remember_state
 950              		.cfi_restore 6
 951              		.cfi_restore 5
 952              		.cfi_restore 4
 953              		.cfi_def_cfa_offset 0
 954              	.LVL84:
 382:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 955              		.loc 1 382 1 view .LVU356
 956 0030 7047     		bx	lr
 957              	.LVL85:
 958              	.L65:
 959              	.LCFI5:
ARM GAS  /tmp/ccJoevLK.s 			page 38


 960              		.cfi_restore_state
 372:lwIP/src/core/pbuf.c ****   }
 961              		.loc 1 372 12 view .LVU357
 962 0032 0020     		movs	r0, #0
 963              	.LVL86:
 382:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 964              		.loc 1 382 1 view .LVU358
 965 0034 70BC     		pop	{r4, r5, r6}
 966              	.LCFI6:
 967              		.cfi_restore 6
 968              		.cfi_restore 5
 969              		.cfi_restore 4
 970              		.cfi_def_cfa_offset 0
 971              	.LVL87:
 382:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 972              		.loc 1 382 1 view .LVU359
 973 0036 7047     		bx	lr
 974              		.cfi_endproc
 975              	.LFE108:
 977              		.section	.rodata.pbuf_realloc.str1.4,"aMS",%progbits,1
 978              		.align	2
 979              	.LC5:
 980 0000 70627566 		.ascii	"pbuf_realloc: p != NULL\000"
 980      5F726561 
 980      6C6C6F63 
 980      3A207020 
 980      213D204E 
 981              		.align	2
 982              	.LC6:
 983 0018 70627566 		.ascii	"pbuf_realloc: q != NULL\000"
 983      5F726561 
 983      6C6C6F63 
 983      3A207120 
 983      213D204E 
 984              		.align	2
 985              	.LC7:
 986 0030 6D656D5F 		.ascii	"mem_trim returned q == NULL\000"
 986      7472696D 
 986      20726574 
 986      75726E65 
 986      64207120 
 987              		.section	.text.pbuf_realloc,"ax",%progbits
 988              		.align	1
 989              		.p2align 2,,3
 990              		.global	pbuf_realloc
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 994              		.fpu fpv4-sp-d16
 996              	pbuf_realloc:
 997              	.LVL88:
 998              	.LFB109:
 403:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 999              		.loc 1 403 1 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccJoevLK.s 			page 39


 404:lwIP/src/core/pbuf.c ****   u16_t rem_len; /* remaining length */
 1003              		.loc 1 404 3 view .LVU361
 405:lwIP/src/core/pbuf.c ****   u16_t shrink;
 1004              		.loc 1 405 3 view .LVU362
 406:lwIP/src/core/pbuf.c **** 
 1005              		.loc 1 406 3 view .LVU363
 408:lwIP/src/core/pbuf.c **** 
 1006              		.loc 1 408 3 view .LVU364
 408:lwIP/src/core/pbuf.c **** 
 1007              		.loc 1 408 3 view .LVU365
 403:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 1008              		.loc 1 403 1 is_stmt 0 view .LVU366
 1009 0000 38B5     		push	{r3, r4, r5, lr}
 1010              	.LCFI7:
 1011              		.cfi_def_cfa_offset 16
 1012              		.cfi_offset 3, -16
 1013              		.cfi_offset 4, -12
 1014              		.cfi_offset 5, -8
 1015              		.cfi_offset 14, -4
 408:lwIP/src/core/pbuf.c **** 
 1016              		.loc 1 408 3 view .LVU367
 1017 0002 50B3     		cbz	r0, .L91
 411:lwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 1018              		.loc 1 411 19 discriminator 2 view .LVU368
 1019 0004 0389     		ldrh	r3, [r0, #8]
 1020 0006 0446     		mov	r4, r0
 408:lwIP/src/core/pbuf.c **** 
 1021              		.loc 1 408 3 is_stmt 1 discriminator 2 view .LVU369
 411:lwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 1022              		.loc 1 411 3 discriminator 2 view .LVU370
 411:lwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 1023              		.loc 1 411 6 is_stmt 0 discriminator 2 view .LVU371
 1024 0008 8B42     		cmp	r3, r1
 1025 000a 21D9     		bls	.L70
 1026 000c 0D46     		mov	r5, r1
 428:lwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1027              		.loc 1 428 18 view .LVU372
 1028 000e CB1A     		subs	r3, r1, r3
 1029 0010 05E0     		b	.L74
 1030              	.LVL89:
 1031              	.L76:
 428:lwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1032              		.loc 1 428 18 view .LVU373
 1033 0012 2289     		ldrh	r2, [r4, #8]
 426:lwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 1034              		.loc 1 426 13 view .LVU374
 1035 0014 8DB2     		uxth	r5, r1
 1036              	.LVL90:
 428:lwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1037              		.loc 1 428 5 is_stmt 1 view .LVU375
 428:lwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1038              		.loc 1 428 18 is_stmt 0 view .LVU376
 1039 0016 1A44     		add	r2, r2, r3
 428:lwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 1040              		.loc 1 428 16 view .LVU377
 1041 0018 2281     		strh	r2, [r4, #8]	@ movhi
 430:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
ARM GAS  /tmp/ccJoevLK.s 			page 40


 1042              		.loc 1 430 5 is_stmt 1 view .LVU378
 430:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 1043              		.loc 1 430 7 is_stmt 0 view .LVU379
 1044 001a 2468     		ldr	r4, [r4]
 1045              	.LVL91:
 431:lwIP/src/core/pbuf.c ****   }
 1046              		.loc 1 431 5 is_stmt 1 view .LVU380
 431:lwIP/src/core/pbuf.c ****   }
 1047              		.loc 1 431 5 view .LVU381
 1048 001c CCB1     		cbz	r4, .L92
 1049              	.LVL92:
 1050              	.L74:
 426:lwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 1051              		.loc 1 426 5 discriminator 2 view .LVU382
 431:lwIP/src/core/pbuf.c ****   }
 1052              		.loc 1 431 5 discriminator 2 view .LVU383
 424:lwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1053              		.loc 1 424 9 discriminator 2 view .LVU384
 424:lwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1054              		.loc 1 424 21 is_stmt 0 discriminator 2 view .LVU385
 1055 001e 6289     		ldrh	r2, [r4, #10]
 424:lwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1056              		.loc 1 424 9 discriminator 2 view .LVU386
 1057 0020 AA42     		cmp	r2, r5
 426:lwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 1058              		.loc 1 426 13 discriminator 2 view .LVU387
 1059 0022 A5EB0201 		sub	r1, r5, r2
 424:lwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 1060              		.loc 1 424 9 discriminator 2 view .LVU388
 1061 0026 F4D3     		bcc	.L76
 438:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1062              		.loc 1 438 3 is_stmt 1 view .LVU389
 438:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1063              		.loc 1 438 6 is_stmt 0 view .LVU390
 1064 0028 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 438:lwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 1065              		.loc 1 438 65 view .LVU391
 1066 002a 1907     		lsls	r1, r3, #28
 1067 002c 04D1     		bne	.L77
 1068 002e AA42     		cmp	r2, r5
 1069 0030 02D0     		beq	.L77
 440:lwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 1070              		.loc 1 440 7 view .LVU392
 1071 0032 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 1072 0034 9B07     		lsls	r3, r3, #30
 1073 0036 14D5     		bpl	.L93
 1074              	.LVL93:
 1075              	.L77:
 445:lwIP/src/core/pbuf.c ****   }
 1076              		.loc 1 445 5 is_stmt 1 discriminator 2 view .LVU393
 448:lwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 1077              		.loc 1 448 3 discriminator 2 view .LVU394
 449:lwIP/src/core/pbuf.c **** 
 1078              		.loc 1 449 3 discriminator 2 view .LVU395
 449:lwIP/src/core/pbuf.c **** 
 1079              		.loc 1 449 14 is_stmt 0 discriminator 2 view .LVU396
 1080 0038 0023     		movs	r3, #0
ARM GAS  /tmp/ccJoevLK.s 			page 41


 452:lwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 1081              		.loc 1 452 8 discriminator 2 view .LVU397
 1082 003a 2068     		ldr	r0, [r4]
 449:lwIP/src/core/pbuf.c **** 
 1083              		.loc 1 449 14 discriminator 2 view .LVU398
 1084 003c 65F30F03 		bfi	r3, r5, #0, #16
 1085              	.LVL94:
 449:lwIP/src/core/pbuf.c **** 
 1086              		.loc 1 449 14 discriminator 2 view .LVU399
 1087 0040 65F31F43 		bfi	r3, r5, #16, #16
 1088 0044 A360     		str	r3, [r4, #8]
 452:lwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 1089              		.loc 1 452 3 is_stmt 1 discriminator 2 view .LVU400
 452:lwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 1090              		.loc 1 452 6 is_stmt 0 discriminator 2 view .LVU401
 1091 0046 08B1     		cbz	r0, .L79
 454:lwIP/src/core/pbuf.c ****   }
 1092              		.loc 1 454 5 is_stmt 1 view .LVU402
 1093              	.LVL95:
 1094              	.LBB143:
 1095              	.LBI143:
 725:lwIP/src/core/pbuf.c **** {
 1096              		.loc 1 725 1 view .LVU403
 1097              	.LBB144:
 727:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 1098              		.loc 1 727 3 view .LVU404
 728:lwIP/src/core/pbuf.c ****   u8_t count;
 1099              		.loc 1 728 3 view .LVU405
 729:lwIP/src/core/pbuf.c **** 
 1100              		.loc 1 729 3 view .LVU406
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 1101              		.loc 1 731 3 view .LVU407
 1102 0048 FFF7FEFF 		bl	pbuf_free.part.0
 1103              	.LVL96:
 797:lwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 1104              		.loc 1 797 25 view .LVU408
 799:lwIP/src/core/pbuf.c **** }
 1105              		.loc 1 799 3 view .LVU409
 1106              	.L79:
 1107              	.LBE144:
 1108              	.LBE143:
 457:lwIP/src/core/pbuf.c **** 
 1109              		.loc 1 457 3 view .LVU410
 457:lwIP/src/core/pbuf.c **** 
 1110              		.loc 1 457 11 is_stmt 0 view .LVU411
 1111 004c 0023     		movs	r3, #0
 1112 004e 2360     		str	r3, [r4]
 1113              	.LVL97:
 1114              	.L70:
 459:lwIP/src/core/pbuf.c **** 
 1115              		.loc 1 459 1 view .LVU412
 1116 0050 38BD     		pop	{r3, r4, r5, pc}
 1117              	.LVL98:
 1118              	.L92:
 431:lwIP/src/core/pbuf.c ****   }
 1119              		.loc 1 431 5 is_stmt 1 discriminator 1 view .LVU413
 1120 0052 0B48     		ldr	r0, .L94
ARM GAS  /tmp/ccJoevLK.s 			page 42


 1121              	.LVL99:
 431:lwIP/src/core/pbuf.c ****   }
 1122              		.loc 1 431 5 is_stmt 0 discriminator 1 view .LVU414
 1123 0054 FFF7FEFF 		bl	printf
 1124              	.LVL100:
 1125              	.L75:
 431:lwIP/src/core/pbuf.c ****   }
 1126              		.loc 1 431 5 is_stmt 1 discriminator 2 view .LVU415
 431:lwIP/src/core/pbuf.c ****   }
 1127              		.loc 1 431 5 discriminator 2 view .LVU416
 431:lwIP/src/core/pbuf.c ****   }
 1128              		.loc 1 431 5 discriminator 2 view .LVU417
 431:lwIP/src/core/pbuf.c ****   }
 1129              		.loc 1 431 5 discriminator 2 view .LVU418
 431:lwIP/src/core/pbuf.c ****   }
 1130              		.loc 1 431 5 discriminator 2 view .LVU419
 431:lwIP/src/core/pbuf.c ****   }
 1131              		.loc 1 431 5 discriminator 2 view .LVU420
 1132 0058 FEE7     		b	.L75
 1133              	.LVL101:
 1134              	.L91:
 408:lwIP/src/core/pbuf.c **** 
 1135              		.loc 1 408 3 discriminator 1 view .LVU421
 1136 005a 0A48     		ldr	r0, .L94+4
 1137              	.LVL102:
 408:lwIP/src/core/pbuf.c **** 
 1138              		.loc 1 408 3 is_stmt 0 discriminator 1 view .LVU422
 1139 005c FFF7FEFF 		bl	printf
 1140              	.LVL103:
 1141              	.L72:
 408:lwIP/src/core/pbuf.c **** 
 1142              		.loc 1 408 3 is_stmt 1 discriminator 1 view .LVU423
 408:lwIP/src/core/pbuf.c **** 
 1143              		.loc 1 408 3 discriminator 1 view .LVU424
 408:lwIP/src/core/pbuf.c **** 
 1144              		.loc 1 408 3 discriminator 1 view .LVU425
 408:lwIP/src/core/pbuf.c **** 
 1145              		.loc 1 408 3 discriminator 1 view .LVU426
 408:lwIP/src/core/pbuf.c **** 
 1146              		.loc 1 408 3 discriminator 1 view .LVU427
 408:lwIP/src/core/pbuf.c **** 
 1147              		.loc 1 408 3 discriminator 1 view .LVU428
 1148 0060 FEE7     		b	.L72
 1149              	.LVL104:
 1150              	.L93:
 444:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1151              		.loc 1 444 5 view .LVU429
 444:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1152              		.loc 1 444 69 is_stmt 0 view .LVU430
 1153 0062 6368     		ldr	r3, [r4, #4]
 444:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1154              		.loc 1 444 24 view .LVU431
 1155 0064 2046     		mov	r0, r4
 1156              	.LVL105:
 444:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1157              		.loc 1 444 69 view .LVU432
 1158 0066 1B1B     		subs	r3, r3, r4
ARM GAS  /tmp/ccJoevLK.s 			page 43


 444:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 1159              		.loc 1 444 24 view .LVU433
 1160 0068 E918     		adds	r1, r5, r3
 1161 006a 89B2     		uxth	r1, r1
 1162 006c FFF7FEFF 		bl	mem_trim
 1163              	.LVL106:
 445:lwIP/src/core/pbuf.c ****   }
 1164              		.loc 1 445 5 is_stmt 1 view .LVU434
 445:lwIP/src/core/pbuf.c ****   }
 1165              		.loc 1 445 5 view .LVU435
 1166 0070 0446     		mov	r4, r0
 1167 0072 0028     		cmp	r0, #0
 1168 0074 E0D1     		bne	.L77
 445:lwIP/src/core/pbuf.c ****   }
 1169              		.loc 1 445 5 discriminator 1 view .LVU436
 1170 0076 0448     		ldr	r0, .L94+8
 1171              	.LVL107:
 445:lwIP/src/core/pbuf.c ****   }
 1172              		.loc 1 445 5 is_stmt 0 discriminator 1 view .LVU437
 1173 0078 FFF7FEFF 		bl	printf
 1174              	.LVL108:
 1175              	.L78:
 445:lwIP/src/core/pbuf.c ****   }
 1176              		.loc 1 445 5 is_stmt 1 discriminator 3 view .LVU438
 445:lwIP/src/core/pbuf.c ****   }
 1177              		.loc 1 445 5 discriminator 3 view .LVU439
 445:lwIP/src/core/pbuf.c ****   }
 1178              		.loc 1 445 5 discriminator 3 view .LVU440
 445:lwIP/src/core/pbuf.c ****   }
 1179              		.loc 1 445 5 discriminator 3 view .LVU441
 445:lwIP/src/core/pbuf.c ****   }
 1180              		.loc 1 445 5 discriminator 3 view .LVU442
 445:lwIP/src/core/pbuf.c ****   }
 1181              		.loc 1 445 5 discriminator 3 view .LVU443
 1182 007c FEE7     		b	.L78
 1183              	.L95:
 1184 007e 00BF     		.align	2
 1185              	.L94:
 1186 0080 18000000 		.word	.LC6
 1187 0084 00000000 		.word	.LC5
 1188 0088 30000000 		.word	.LC7
 1189              		.cfi_endproc
 1190              	.LFE109:
 1192              		.section	.rodata.pbuf_add_header.str1.4,"aMS",%progbits,1
 1193              		.align	2
 1194              	.LC8:
 1195 0000 7020213D 		.ascii	"p != NULL\000"
 1195      204E554C 
 1195      4C00
 1196              		.section	.text.pbuf_add_header,"ax",%progbits
 1197              		.align	1
 1198              		.p2align 2,,3
 1199              		.global	pbuf_add_header
 1200              		.syntax unified
 1201              		.thumb
 1202              		.thumb_func
 1203              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccJoevLK.s 			page 44


 1205              	pbuf_add_header:
 1206              	.LVL109:
 1207              	.LFB111:
 552:lwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 0);
 1208              		.loc 1 552 1 view -0
 1209              		.cfi_startproc
 1210              		@ args = 0, pretend = 0, frame = 0
 1211              		@ frame_needed = 0, uses_anonymous_args = 0
 553:lwIP/src/core/pbuf.c **** }
 1212              		.loc 1 553 3 view .LVU445
 1213              	.LBB149:
 1214              	.LBI149:
 473:lwIP/src/core/pbuf.c **** {
 1215              		.loc 1 473 1 view .LVU446
 1216              	.LBB150:
 475:lwIP/src/core/pbuf.c ****   void *payload;
 1217              		.loc 1 475 3 view .LVU447
 476:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 1218              		.loc 1 476 3 view .LVU448
 477:lwIP/src/core/pbuf.c **** 
 1219              		.loc 1 477 3 view .LVU449
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1220              		.loc 1 479 3 view .LVU450
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1221              		.loc 1 479 3 view .LVU451
 1222              	.LBE150:
 1223              	.LBE149:
 552:lwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 0);
 1224              		.loc 1 552 1 is_stmt 0 view .LVU452
 1225 0000 38B5     		push	{r3, r4, r5, lr}
 1226              	.LCFI8:
 1227              		.cfi_def_cfa_offset 16
 1228              		.cfi_offset 3, -16
 1229              		.cfi_offset 4, -12
 1230              		.cfi_offset 5, -8
 1231              		.cfi_offset 14, -4
 1232              	.LBB160:
 1233              	.LBB156:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1234              		.loc 1 479 3 view .LVU453
 1235 0002 F8B1     		cbz	r0, .L106
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1236              		.loc 1 479 3 is_stmt 1 view .LVU454
 480:lwIP/src/core/pbuf.c ****     return 1;
 1237              		.loc 1 480 3 view .LVU455
 480:lwIP/src/core/pbuf.c ****     return 1;
 1238              		.loc 1 480 6 is_stmt 0 view .LVU456
 1239 0004 B1F5803F 		cmp	r1, #65536
 1240 0008 0BD2     		bcs	.L104
 483:lwIP/src/core/pbuf.c ****     return 0;
 1241              		.loc 1 483 3 is_stmt 1 view .LVU457
 483:lwIP/src/core/pbuf.c ****     return 0;
 1242              		.loc 1 483 6 is_stmt 0 view .LVU458
 1243 000a 61B1     		cbz	r1, .L101
 1244              	.LBB151:
 1245              	.LBB152:
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
ARM GAS  /tmp/ccJoevLK.s 			page 45


 1246              		.loc 1 487 23 view .LVU459
 1247 000c 8CB2     		uxth	r4, r1
 489:lwIP/src/core/pbuf.c ****     return 1;
 1248              		.loc 1 489 7 view .LVU460
 1249 000e 0289     		ldrh	r2, [r0, #8]
 1250 0010 0346     		mov	r3, r0
 1251              	.LVL110:
 489:lwIP/src/core/pbuf.c ****     return 1;
 1252              		.loc 1 489 7 view .LVU461
 1253              	.LBE152:
 1254              	.LBI151:
 473:lwIP/src/core/pbuf.c **** {
 1255              		.loc 1 473 1 is_stmt 1 view .LVU462
 1256              	.LBB153:
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 1257              		.loc 1 487 3 view .LVU463
 489:lwIP/src/core/pbuf.c ****     return 1;
 1258              		.loc 1 489 3 view .LVU464
 489:lwIP/src/core/pbuf.c ****     return 1;
 1259              		.loc 1 489 7 is_stmt 0 view .LVU465
 1260 0012 2244     		add	r2, r2, r4
 1261 0014 92B2     		uxth	r2, r2
 489:lwIP/src/core/pbuf.c ****     return 1;
 1262              		.loc 1 489 6 view .LVU466
 1263 0016 9442     		cmp	r4, r2
 1264 0018 03D8     		bhi	.L104
 493:lwIP/src/core/pbuf.c **** 
 1265              		.loc 1 493 3 is_stmt 1 view .LVU467
 1266              	.LVL111:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1267              		.loc 1 496 3 view .LVU468
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1268              		.loc 1 496 6 is_stmt 0 view .LVU469
 1269 001a 90F90C00 		ldrsb	r0, [r0, #12]
 1270              	.LVL112:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1271              		.loc 1 496 6 view .LVU470
 1272 001e 0028     		cmp	r0, #0
 1273 0020 03DB     		blt	.L107
 1274              	.LVL113:
 1275              	.L104:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1276              		.loc 1 496 6 view .LVU471
 1277              	.LBE153:
 1278              	.LBE151:
 481:lwIP/src/core/pbuf.c ****   }
 1279              		.loc 1 481 12 view .LVU472
 1280 0022 0120     		movs	r0, #1
 1281              	.LVL114:
 481:lwIP/src/core/pbuf.c ****   }
 1282              		.loc 1 481 12 view .LVU473
 1283              	.LBE156:
 1284              	.LBE160:
 554:lwIP/src/core/pbuf.c **** 
 1285              		.loc 1 554 1 view .LVU474
 1286 0024 38BD     		pop	{r3, r4, r5, pc}
 1287              	.LVL115:
ARM GAS  /tmp/ccJoevLK.s 			page 46


 1288              	.L101:
 1289              	.LBB161:
 1290              	.LBB157:
 484:lwIP/src/core/pbuf.c ****   }
 1291              		.loc 1 484 12 view .LVU475
 1292 0026 0846     		mov	r0, r1
 1293              	.LVL116:
 484:lwIP/src/core/pbuf.c ****   }
 1294              		.loc 1 484 12 view .LVU476
 1295              	.LBE157:
 1296              	.LBE161:
 554:lwIP/src/core/pbuf.c **** 
 1297              		.loc 1 554 1 view .LVU477
 1298 0028 38BD     		pop	{r3, r4, r5, pc}
 1299              	.LVL117:
 1300              	.L107:
 1301              	.LBB162:
 1302              	.LBB158:
 1303              	.LBB155:
 1304              	.LBB154:
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1305              		.loc 1 498 5 is_stmt 1 view .LVU478
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1306              		.loc 1 498 13 is_stmt 0 view .LVU479
 1307 002a 5868     		ldr	r0, [r3, #4]
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1308              		.loc 1 500 37 view .LVU480
 1309 002c 03F11005 		add	r5, r3, #16
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1310              		.loc 1 498 13 view .LVU481
 1311 0030 411A     		subs	r1, r0, r1
 1312              	.LVL118:
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1313              		.loc 1 500 5 is_stmt 1 view .LVU482
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1314              		.loc 1 500 8 is_stmt 0 view .LVU483
 1315 0032 A942     		cmp	r1, r5
 1316 0034 F5D3     		bcc	.L104
 519:lwIP/src/core/pbuf.c **** 
 1317              		.loc 1 519 73 is_stmt 1 view .LVU484
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1318              		.loc 1 522 3 view .LVU485
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1319              		.loc 1 523 12 is_stmt 0 view .LVU486
 1320 0036 5D89     		ldrh	r5, [r3, #10]
 527:lwIP/src/core/pbuf.c **** }
 1321              		.loc 1 527 10 view .LVU487
 1322 0038 0020     		movs	r0, #0
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1323              		.loc 1 522 14 view .LVU488
 1324 003a 5960     		str	r1, [r3, #4]
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1325              		.loc 1 523 3 is_stmt 1 view .LVU489
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1326              		.loc 1 523 12 is_stmt 0 view .LVU490
 1327 003c 2C44     		add	r4, r4, r5
 1328              	.LVL119:
ARM GAS  /tmp/ccJoevLK.s 			page 47


 524:lwIP/src/core/pbuf.c **** 
 1329              		.loc 1 524 14 view .LVU491
 1330 003e 1A81     		strh	r2, [r3, #8]	@ movhi
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1331              		.loc 1 523 10 view .LVU492
 1332 0040 5C81     		strh	r4, [r3, #10]	@ movhi
 524:lwIP/src/core/pbuf.c **** 
 1333              		.loc 1 524 3 is_stmt 1 view .LVU493
 527:lwIP/src/core/pbuf.c **** }
 1334              		.loc 1 527 3 view .LVU494
 1335              	.LVL120:
 527:lwIP/src/core/pbuf.c **** }
 1336              		.loc 1 527 3 is_stmt 0 view .LVU495
 1337              	.LBE154:
 1338              	.LBE155:
 1339              	.LBE158:
 1340              	.LBE162:
 554:lwIP/src/core/pbuf.c **** 
 1341              		.loc 1 554 1 view .LVU496
 1342 0042 38BD     		pop	{r3, r4, r5, pc}
 1343              	.LVL121:
 1344              	.L106:
 1345              	.LBB163:
 1346              	.LBB159:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1347              		.loc 1 479 3 is_stmt 1 view .LVU497
 1348 0044 0148     		ldr	r0, .L108
 1349              	.LVL122:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1350              		.loc 1 479 3 is_stmt 0 view .LVU498
 1351 0046 FFF7FEFF 		bl	printf
 1352              	.LVL123:
 1353              	.L98:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1354              		.loc 1 479 3 is_stmt 1 view .LVU499
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1355              		.loc 1 479 3 view .LVU500
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1356              		.loc 1 479 3 view .LVU501
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1357              		.loc 1 479 3 view .LVU502
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1358              		.loc 1 479 3 view .LVU503
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1359              		.loc 1 479 3 view .LVU504
 1360 004a FEE7     		b	.L98
 1361              	.L109:
 1362              		.align	2
 1363              	.L108:
 1364 004c 00000000 		.word	.LC8
 1365              	.LBE159:
 1366              	.LBE163:
 1367              		.cfi_endproc
 1368              	.LFE111:
 1370              		.section	.text.pbuf_add_header_force,"ax",%progbits
 1371              		.align	1
 1372              		.p2align 2,,3
ARM GAS  /tmp/ccJoevLK.s 			page 48


 1373              		.global	pbuf_add_header_force
 1374              		.syntax unified
 1375              		.thumb
 1376              		.thumb_func
 1377              		.fpu fpv4-sp-d16
 1379              	pbuf_add_header_force:
 1380              	.LVL124:
 1381              	.LFB112:
 562:lwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 1);
 1382              		.loc 1 562 1 view -0
 1383              		.cfi_startproc
 1384              		@ args = 0, pretend = 0, frame = 0
 1385              		@ frame_needed = 0, uses_anonymous_args = 0
 563:lwIP/src/core/pbuf.c **** }
 1386              		.loc 1 563 3 view .LVU506
 1387              	.LBB168:
 1388              	.LBI168:
 473:lwIP/src/core/pbuf.c **** {
 1389              		.loc 1 473 1 view .LVU507
 1390              	.LBB169:
 475:lwIP/src/core/pbuf.c ****   void *payload;
 1391              		.loc 1 475 3 view .LVU508
 476:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 1392              		.loc 1 476 3 view .LVU509
 477:lwIP/src/core/pbuf.c **** 
 1393              		.loc 1 477 3 view .LVU510
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1394              		.loc 1 479 3 view .LVU511
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1395              		.loc 1 479 3 view .LVU512
 1396              	.LBE169:
 1397              	.LBE168:
 562:lwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 1);
 1398              		.loc 1 562 1 is_stmt 0 view .LVU513
 1399 0000 38B5     		push	{r3, r4, r5, lr}
 1400              	.LCFI9:
 1401              		.cfi_def_cfa_offset 16
 1402              		.cfi_offset 3, -16
 1403              		.cfi_offset 4, -12
 1404              		.cfi_offset 5, -8
 1405              		.cfi_offset 14, -4
 1406              	.LBB179:
 1407              	.LBB175:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1408              		.loc 1 479 3 view .LVU514
 1409 0002 00B3     		cbz	r0, .L120
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1410              		.loc 1 479 3 is_stmt 1 view .LVU515
 480:lwIP/src/core/pbuf.c ****     return 1;
 1411              		.loc 1 480 3 view .LVU516
 480:lwIP/src/core/pbuf.c ****     return 1;
 1412              		.loc 1 480 6 is_stmt 0 view .LVU517
 1413 0004 B1F5803F 		cmp	r1, #65536
 1414 0008 19D2     		bcs	.L118
 483:lwIP/src/core/pbuf.c ****     return 0;
 1415              		.loc 1 483 3 is_stmt 1 view .LVU518
 483:lwIP/src/core/pbuf.c ****     return 0;
ARM GAS  /tmp/ccJoevLK.s 			page 49


 1416              		.loc 1 483 6 is_stmt 0 view .LVU519
 1417 000a D1B1     		cbz	r1, .L116
 1418              	.LBB170:
 1419              	.LBB171:
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 1420              		.loc 1 487 23 view .LVU520
 1421 000c 8CB2     		uxth	r4, r1
 489:lwIP/src/core/pbuf.c ****     return 1;
 1422              		.loc 1 489 7 view .LVU521
 1423 000e 0289     		ldrh	r2, [r0, #8]
 1424 0010 0346     		mov	r3, r0
 1425              	.LVL125:
 489:lwIP/src/core/pbuf.c ****     return 1;
 1426              		.loc 1 489 7 view .LVU522
 1427              	.LBE171:
 1428              	.LBI170:
 473:lwIP/src/core/pbuf.c **** {
 1429              		.loc 1 473 1 is_stmt 1 view .LVU523
 1430              	.LBB172:
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 1431              		.loc 1 487 3 view .LVU524
 489:lwIP/src/core/pbuf.c ****     return 1;
 1432              		.loc 1 489 3 view .LVU525
 489:lwIP/src/core/pbuf.c ****     return 1;
 1433              		.loc 1 489 7 is_stmt 0 view .LVU526
 1434 0012 2244     		add	r2, r2, r4
 1435 0014 92B2     		uxth	r2, r2
 489:lwIP/src/core/pbuf.c ****     return 1;
 1436              		.loc 1 489 6 view .LVU527
 1437 0016 9442     		cmp	r4, r2
 1438 0018 11D8     		bhi	.L118
 493:lwIP/src/core/pbuf.c **** 
 1439              		.loc 1 493 3 is_stmt 1 view .LVU528
 1440              	.LVL126:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1441              		.loc 1 496 3 view .LVU529
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1442              		.loc 1 496 6 is_stmt 0 view .LVU530
 1443 001a 93F90C50 		ldrsb	r5, [r3, #12]
 1444 001e 4068     		ldr	r0, [r0, #4]
 1445              	.LVL127:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1446              		.loc 1 496 6 view .LVU531
 1447 0020 002D     		cmp	r5, #0
 1448 0022 A0EB0101 		sub	r1, r0, r1
 1449              	.LVL128:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1450              		.loc 1 496 6 view .LVU532
 1451 0026 06DB     		blt	.L121
 1452              	.L114:
 1453              	.LVL129:
 519:lwIP/src/core/pbuf.c **** 
 1454              		.loc 1 519 73 is_stmt 1 view .LVU533
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1455              		.loc 1 522 3 view .LVU534
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1456              		.loc 1 523 12 is_stmt 0 view .LVU535
ARM GAS  /tmp/ccJoevLK.s 			page 50


 1457 0028 5D89     		ldrh	r5, [r3, #10]
 527:lwIP/src/core/pbuf.c **** }
 1458              		.loc 1 527 10 view .LVU536
 1459 002a 0020     		movs	r0, #0
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1460              		.loc 1 522 14 view .LVU537
 1461 002c 5960     		str	r1, [r3, #4]
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1462              		.loc 1 523 3 is_stmt 1 view .LVU538
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1463              		.loc 1 523 12 is_stmt 0 view .LVU539
 1464 002e 2C44     		add	r4, r4, r5
 1465              	.LVL130:
 524:lwIP/src/core/pbuf.c **** 
 1466              		.loc 1 524 14 view .LVU540
 1467 0030 1A81     		strh	r2, [r3, #8]	@ movhi
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1468              		.loc 1 523 10 view .LVU541
 1469 0032 5C81     		strh	r4, [r3, #10]	@ movhi
 524:lwIP/src/core/pbuf.c **** 
 1470              		.loc 1 524 3 is_stmt 1 view .LVU542
 527:lwIP/src/core/pbuf.c **** }
 1471              		.loc 1 527 3 view .LVU543
 1472              	.LVL131:
 527:lwIP/src/core/pbuf.c **** }
 1473              		.loc 1 527 3 is_stmt 0 view .LVU544
 1474              	.LBE172:
 1475              	.LBE170:
 1476              	.LBE175:
 1477              	.LBE179:
 564:lwIP/src/core/pbuf.c **** 
 1478              		.loc 1 564 1 view .LVU545
 1479 0034 38BD     		pop	{r3, r4, r5, pc}
 1480              	.LVL132:
 1481              	.L121:
 1482              	.LBB180:
 1483              	.LBB176:
 1484              	.LBB174:
 1485              	.LBB173:
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1486              		.loc 1 498 5 is_stmt 1 view .LVU546
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1487              		.loc 1 500 5 view .LVU547
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1488              		.loc 1 500 37 is_stmt 0 view .LVU548
 1489 0036 03F11000 		add	r0, r3, #16
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1490              		.loc 1 500 8 view .LVU549
 1491 003a 8142     		cmp	r1, r0
 1492 003c F4D2     		bcs	.L114
 1493              	.LVL133:
 1494              	.L118:
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1495              		.loc 1 500 8 view .LVU550
 1496              	.LBE173:
 1497              	.LBE174:
 481:lwIP/src/core/pbuf.c ****   }
ARM GAS  /tmp/ccJoevLK.s 			page 51


 1498              		.loc 1 481 12 view .LVU551
 1499 003e 0120     		movs	r0, #1
 1500              	.LVL134:
 481:lwIP/src/core/pbuf.c ****   }
 1501              		.loc 1 481 12 view .LVU552
 1502              	.LBE176:
 1503              	.LBE180:
 564:lwIP/src/core/pbuf.c **** 
 1504              		.loc 1 564 1 view .LVU553
 1505 0040 38BD     		pop	{r3, r4, r5, pc}
 1506              	.LVL135:
 1507              	.L116:
 1508              	.LBB181:
 1509              	.LBB177:
 484:lwIP/src/core/pbuf.c ****   }
 1510              		.loc 1 484 12 view .LVU554
 1511 0042 0846     		mov	r0, r1
 1512              	.LVL136:
 484:lwIP/src/core/pbuf.c ****   }
 1513              		.loc 1 484 12 view .LVU555
 1514              	.LBE177:
 1515              	.LBE181:
 564:lwIP/src/core/pbuf.c **** 
 1516              		.loc 1 564 1 view .LVU556
 1517 0044 38BD     		pop	{r3, r4, r5, pc}
 1518              	.LVL137:
 1519              	.L120:
 1520              	.LBB182:
 1521              	.LBB178:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1522              		.loc 1 479 3 is_stmt 1 view .LVU557
 1523 0046 0248     		ldr	r0, .L122
 1524              	.LVL138:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1525              		.loc 1 479 3 is_stmt 0 view .LVU558
 1526 0048 FFF7FEFF 		bl	printf
 1527              	.LVL139:
 1528              	.L112:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1529              		.loc 1 479 3 is_stmt 1 view .LVU559
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1530              		.loc 1 479 3 view .LVU560
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1531              		.loc 1 479 3 view .LVU561
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1532              		.loc 1 479 3 view .LVU562
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1533              		.loc 1 479 3 view .LVU563
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1534              		.loc 1 479 3 view .LVU564
 1535 004c FEE7     		b	.L112
 1536              	.L123:
 1537 004e 00BF     		.align	2
 1538              	.L122:
 1539 0050 00000000 		.word	.LC8
 1540              	.LBE178:
 1541              	.LBE182:
ARM GAS  /tmp/ccJoevLK.s 			page 52


 1542              		.cfi_endproc
 1543              	.LFE112:
 1545              		.section	.rodata.pbuf_remove_header.str1.4,"aMS",%progbits,1
 1546              		.align	2
 1547              	.LC9:
 1548 0000 696E6372 		.ascii	"increment_magnitude <= p->len\000"
 1548      656D656E 
 1548      745F6D61 
 1548      676E6974 
 1548      75646520 
 1549              		.section	.text.pbuf_remove_header,"ax",%progbits
 1550              		.align	1
 1551              		.p2align 2,,3
 1552              		.global	pbuf_remove_header
 1553              		.syntax unified
 1554              		.thumb
 1555              		.thumb_func
 1556              		.fpu fpv4-sp-d16
 1558              	pbuf_remove_header:
 1559              	.LVL140:
 1560              	.LFB113:
 583:lwIP/src/core/pbuf.c ****   void *payload;
 1561              		.loc 1 583 1 view -0
 1562              		.cfi_startproc
 1563              		@ args = 0, pretend = 0, frame = 0
 1564              		@ frame_needed = 0, uses_anonymous_args = 0
 584:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 1565              		.loc 1 584 3 view .LVU566
 585:lwIP/src/core/pbuf.c **** 
 1566              		.loc 1 585 3 view .LVU567
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1567              		.loc 1 587 3 view .LVU568
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1568              		.loc 1 587 3 view .LVU569
 583:lwIP/src/core/pbuf.c ****   void *payload;
 1569              		.loc 1 583 1 is_stmt 0 view .LVU570
 1570 0000 38B5     		push	{r3, r4, r5, lr}
 1571              	.LCFI10:
 1572              		.cfi_def_cfa_offset 16
 1573              		.cfi_offset 3, -16
 1574              		.cfi_offset 4, -12
 1575              		.cfi_offset 5, -8
 1576              		.cfi_offset 14, -4
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1577              		.loc 1 587 3 view .LVU571
 1578 0002 C8B1     		cbz	r0, .L133
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1579              		.loc 1 587 3 is_stmt 1 discriminator 2 view .LVU572
 588:lwIP/src/core/pbuf.c ****     return 1;
 1580              		.loc 1 588 3 discriminator 2 view .LVU573
 588:lwIP/src/core/pbuf.c ****     return 1;
 1581              		.loc 1 588 6 is_stmt 0 discriminator 2 view .LVU574
 1582 0004 B1F5803F 		cmp	r1, #65536
 1583 0008 0FD2     		bcs	.L130
 591:lwIP/src/core/pbuf.c ****     return 0;
 1584              		.loc 1 591 3 is_stmt 1 view .LVU575
 591:lwIP/src/core/pbuf.c ****     return 0;
ARM GAS  /tmp/ccJoevLK.s 			page 53


 1585              		.loc 1 591 6 is_stmt 0 view .LVU576
 1586 000a 61B1     		cbz	r1, .L127
 1587              	.LVL141:
 1588              	.LBB185:
 1589              	.LBI185:
 582:lwIP/src/core/pbuf.c **** {
 1590              		.loc 1 582 1 is_stmt 1 view .LVU577
 1591              	.LBB186:
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 1592              		.loc 1 595 3 view .LVU578
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 1593              		.loc 1 595 23 is_stmt 0 view .LVU579
 1594 000c 8DB2     		uxth	r5, r1
 1595              	.LVL142:
 597:lwIP/src/core/pbuf.c **** 
 1596              		.loc 1 597 3 is_stmt 1 view .LVU580
 597:lwIP/src/core/pbuf.c **** 
 1597              		.loc 1 597 3 view .LVU581
 1598 000e 4389     		ldrh	r3, [r0, #10]
 1599 0010 9D42     		cmp	r5, r3
 1600 0012 0DD8     		bhi	.L134
 597:lwIP/src/core/pbuf.c **** 
 1601              		.loc 1 597 3 view .LVU582
 597:lwIP/src/core/pbuf.c **** 
 1602              		.loc 1 597 3 view .LVU583
 600:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(payload); /* only used in LWIP_DEBUGF below */
 1603              		.loc 1 600 3 view .LVU584
 1604              	.LVL143:
 601:lwIP/src/core/pbuf.c **** 
 1605              		.loc 1 601 3 view .LVU585
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1606              		.loc 1 604 3 view .LVU586
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1607              		.loc 1 604 35 is_stmt 0 view .LVU587
 1608 0014 4468     		ldr	r4, [r0, #4]
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1609              		.loc 1 606 12 view .LVU588
 1610 0016 5B1B     		subs	r3, r3, r5
 607:lwIP/src/core/pbuf.c **** 
 1611              		.loc 1 607 16 view .LVU589
 1612 0018 0289     		ldrh	r2, [r0, #8]
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1613              		.loc 1 604 35 view .LVU590
 1614 001a 0C44     		add	r4, r4, r1
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1615              		.loc 1 606 10 view .LVU591
 1616 001c 4381     		strh	r3, [r0, #10]	@ movhi
 607:lwIP/src/core/pbuf.c **** 
 1617              		.loc 1 607 14 view .LVU592
 1618 001e 0021     		movs	r1, #0
 1619              	.LVL144:
 607:lwIP/src/core/pbuf.c **** 
 1620              		.loc 1 607 16 view .LVU593
 1621 0020 531B     		subs	r3, r2, r5
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1622              		.loc 1 604 14 view .LVU594
 1623 0022 4460     		str	r4, [r0, #4]
ARM GAS  /tmp/ccJoevLK.s 			page 54


 1624              	.LVL145:
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1625              		.loc 1 606 3 is_stmt 1 view .LVU595
 607:lwIP/src/core/pbuf.c **** 
 1626              		.loc 1 607 3 view .LVU596
 607:lwIP/src/core/pbuf.c **** 
 1627              		.loc 1 607 14 is_stmt 0 view .LVU597
 1628 0024 0381     		strh	r3, [r0, #8]	@ movhi
 610:lwIP/src/core/pbuf.c **** 
 1629              		.loc 1 610 73 is_stmt 1 view .LVU598
 612:lwIP/src/core/pbuf.c **** }
 1630              		.loc 1 612 3 view .LVU599
 1631              	.LVL146:
 1632              	.L127:
 612:lwIP/src/core/pbuf.c **** }
 1633              		.loc 1 612 3 is_stmt 0 view .LVU600
 1634              	.LBE186:
 1635              	.LBE185:
 613:lwIP/src/core/pbuf.c **** 
 1636              		.loc 1 613 1 view .LVU601
 1637 0026 0846     		mov	r0, r1
 1638              	.LVL147:
 613:lwIP/src/core/pbuf.c **** 
 1639              		.loc 1 613 1 view .LVU602
 1640 0028 38BD     		pop	{r3, r4, r5, pc}
 1641              	.LVL148:
 1642              	.L130:
 589:lwIP/src/core/pbuf.c ****   }
 1643              		.loc 1 589 12 view .LVU603
 1644 002a 0121     		movs	r1, #1
 1645              	.LVL149:
 613:lwIP/src/core/pbuf.c **** 
 1646              		.loc 1 613 1 view .LVU604
 1647 002c 0846     		mov	r0, r1
 1648              	.LVL150:
 613:lwIP/src/core/pbuf.c **** 
 1649              		.loc 1 613 1 view .LVU605
 1650 002e 38BD     		pop	{r3, r4, r5, pc}
 1651              	.LVL151:
 1652              	.L134:
 1653              	.LBB188:
 1654              	.LBB187:
 597:lwIP/src/core/pbuf.c **** 
 1655              		.loc 1 597 3 is_stmt 1 view .LVU606
 1656 0030 0348     		ldr	r0, .L135
 1657              	.LVL152:
 597:lwIP/src/core/pbuf.c **** 
 1658              		.loc 1 597 3 is_stmt 0 view .LVU607
 1659 0032 FFF7FEFF 		bl	printf
 1660              	.LVL153:
 1661              	.L129:
 597:lwIP/src/core/pbuf.c **** 
 1662              		.loc 1 597 3 is_stmt 1 view .LVU608
 597:lwIP/src/core/pbuf.c **** 
 1663              		.loc 1 597 3 view .LVU609
 597:lwIP/src/core/pbuf.c **** 
 1664              		.loc 1 597 3 view .LVU610
ARM GAS  /tmp/ccJoevLK.s 			page 55


 597:lwIP/src/core/pbuf.c **** 
 1665              		.loc 1 597 3 view .LVU611
 597:lwIP/src/core/pbuf.c **** 
 1666              		.loc 1 597 3 view .LVU612
 597:lwIP/src/core/pbuf.c **** 
 1667              		.loc 1 597 3 view .LVU613
 1668 0036 FEE7     		b	.L129
 1669              	.LVL154:
 1670              	.L133:
 597:lwIP/src/core/pbuf.c **** 
 1671              		.loc 1 597 3 is_stmt 0 view .LVU614
 1672              	.LBE187:
 1673              	.LBE188:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1674              		.loc 1 587 3 is_stmt 1 discriminator 1 view .LVU615
 1675 0038 0248     		ldr	r0, .L135+4
 1676              	.LVL155:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1677              		.loc 1 587 3 is_stmt 0 discriminator 1 view .LVU616
 1678 003a FFF7FEFF 		bl	printf
 1679              	.LVL156:
 1680              	.L126:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1681              		.loc 1 587 3 is_stmt 1 discriminator 1 view .LVU617
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1682              		.loc 1 587 3 discriminator 1 view .LVU618
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1683              		.loc 1 587 3 discriminator 1 view .LVU619
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1684              		.loc 1 587 3 discriminator 1 view .LVU620
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1685              		.loc 1 587 3 discriminator 1 view .LVU621
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1686              		.loc 1 587 3 discriminator 1 view .LVU622
 1687 003e FEE7     		b	.L126
 1688              	.L136:
 1689              		.align	2
 1690              	.L135:
 1691 0040 00000000 		.word	.LC9
 1692 0044 00000000 		.word	.LC8
 1693              		.cfi_endproc
 1694              	.LFE113:
 1696              		.section	.text.pbuf_header,"ax",%progbits
 1697              		.align	1
 1698              		.p2align 2,,3
 1699              		.global	pbuf_header
 1700              		.syntax unified
 1701              		.thumb
 1702              		.thumb_func
 1703              		.fpu fpv4-sp-d16
 1705              	pbuf_header:
 1706              	.LVL157:
 1707              	.LFB115:
 647:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 0);
 1708              		.loc 1 647 1 view -0
 1709              		.cfi_startproc
 1710              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccJoevLK.s 			page 56


 1711              		@ frame_needed = 0, uses_anonymous_args = 0
 648:lwIP/src/core/pbuf.c **** }
 1712              		.loc 1 648 3 view .LVU624
 1713              	.LBB201:
 1714              	.LBB202:
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 1715              		.loc 1 618 6 is_stmt 0 view .LVU625
 1716 0000 0029     		cmp	r1, #0
 1717              	.LVL158:
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 1718              		.loc 1 618 6 view .LVU626
 1719              	.LBE202:
 1720              	.LBE201:
 647:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 0);
 1721              		.loc 1 647 1 view .LVU627
 1722 0002 38B5     		push	{r3, r4, r5, lr}
 1723              	.LCFI11:
 1724              		.cfi_def_cfa_offset 16
 1725              		.cfi_offset 3, -16
 1726              		.cfi_offset 4, -12
 1727              		.cfi_offset 5, -8
 1728              		.cfi_offset 14, -4
 647:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 0);
 1729              		.loc 1 647 1 view .LVU628
 1730 0004 0346     		mov	r3, r0
 1731              	.LVL159:
 1732              	.LBB236:
 1733              	.LBI201:
 616:lwIP/src/core/pbuf.c **** {
 1734              		.loc 1 616 1 is_stmt 1 view .LVU629
 1735              	.LBB231:
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 1736              		.loc 1 618 3 view .LVU630
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 1737              		.loc 1 618 6 is_stmt 0 view .LVU631
 1738 0006 0DDB     		blt	.L151
 621:lwIP/src/core/pbuf.c ****   }
 1739              		.loc 1 621 5 is_stmt 1 view .LVU632
 1740              	.LVL160:
 1741              	.LBB203:
 1742              	.LBI203:
 473:lwIP/src/core/pbuf.c **** {
 1743              		.loc 1 473 1 view .LVU633
 1744              	.LBB204:
 475:lwIP/src/core/pbuf.c ****   void *payload;
 1745              		.loc 1 475 3 view .LVU634
 476:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 1746              		.loc 1 476 3 view .LVU635
 477:lwIP/src/core/pbuf.c **** 
 1747              		.loc 1 477 3 view .LVU636
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1748              		.loc 1 479 3 view .LVU637
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1749              		.loc 1 479 3 view .LVU638
 1750 0008 E0B1     		cbz	r0, .L152
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1751              		.loc 1 479 3 view .LVU639
ARM GAS  /tmp/ccJoevLK.s 			page 57


 480:lwIP/src/core/pbuf.c ****     return 1;
 1752              		.loc 1 480 3 view .LVU640
 483:lwIP/src/core/pbuf.c ****     return 0;
 1753              		.loc 1 483 3 view .LVU641
 483:lwIP/src/core/pbuf.c ****     return 0;
 1754              		.loc 1 483 6 is_stmt 0 view .LVU642
 1755 000a F9B1     		cbz	r1, .L146
 1756              	.LVL161:
 1757              	.LBB205:
 1758              	.LBI205:
 473:lwIP/src/core/pbuf.c **** {
 1759              		.loc 1 473 1 is_stmt 1 view .LVU643
 1760              	.LBB206:
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 1761              		.loc 1 487 3 view .LVU644
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 1762              		.loc 1 487 23 is_stmt 0 view .LVU645
 1763 000c 8CB2     		uxth	r4, r1
 1764              	.LVL162:
 489:lwIP/src/core/pbuf.c ****     return 1;
 1765              		.loc 1 489 3 is_stmt 1 view .LVU646
 489:lwIP/src/core/pbuf.c ****     return 1;
 1766              		.loc 1 489 7 is_stmt 0 view .LVU647
 1767 000e 0289     		ldrh	r2, [r0, #8]
 1768 0010 2244     		add	r2, r2, r4
 1769 0012 92B2     		uxth	r2, r2
 489:lwIP/src/core/pbuf.c ****     return 1;
 1770              		.loc 1 489 6 view .LVU648
 1771 0014 9442     		cmp	r4, r2
 1772 0016 03D8     		bhi	.L149
 493:lwIP/src/core/pbuf.c **** 
 1773              		.loc 1 493 3 is_stmt 1 view .LVU649
 1774              	.LVL163:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1775              		.loc 1 496 3 view .LVU650
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1776              		.loc 1 496 6 is_stmt 0 view .LVU651
 1777 0018 90F90C00 		ldrsb	r0, [r0, #12]
 1778              	.LVL164:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 1779              		.loc 1 496 6 view .LVU652
 1780 001c 0028     		cmp	r0, #0
 1781 001e 1BDB     		blt	.L153
 1782              	.LVL165:
 1783              	.L149:
 490:lwIP/src/core/pbuf.c ****   }
 1784              		.loc 1 490 12 view .LVU653
 1785 0020 0120     		movs	r0, #1
 1786              	.LVL166:
 490:lwIP/src/core/pbuf.c ****   }
 1787              		.loc 1 490 12 view .LVU654
 1788              	.LBE206:
 1789              	.LBE205:
 1790              	.LBE204:
 1791              	.LBE203:
 1792              	.LBE231:
 1793              	.LBE236:
ARM GAS  /tmp/ccJoevLK.s 			page 58


 649:lwIP/src/core/pbuf.c **** 
 1794              		.loc 1 649 1 view .LVU655
 1795 0022 38BD     		pop	{r3, r4, r5, pc}
 1796              	.LVL167:
 1797              	.L151:
 1798              	.LBB237:
 1799              	.LBB232:
 1800              	.LBB211:
 1801              	.LBI211:
 616:lwIP/src/core/pbuf.c **** {
 1802              		.loc 1 616 1 is_stmt 1 view .LVU656
 1803              	.LBB212:
 619:lwIP/src/core/pbuf.c ****   } else {
 1804              		.loc 1 619 5 view .LVU657
 1805              	.LBB213:
 1806              	.LBI213:
 582:lwIP/src/core/pbuf.c **** {
 1807              		.loc 1 582 1 view .LVU658
 1808              	.LBB214:
 584:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 1809              		.loc 1 584 3 view .LVU659
 585:lwIP/src/core/pbuf.c **** 
 1810              		.loc 1 585 3 view .LVU660
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1811              		.loc 1 587 3 view .LVU661
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1812              		.loc 1 587 3 view .LVU662
 1813 0024 A0B1     		cbz	r0, .L154
 1814              	.LBE214:
 1815              	.LBE213:
 619:lwIP/src/core/pbuf.c ****   } else {
 1816              		.loc 1 619 43 is_stmt 0 view .LVU663
 1817 0026 4942     		rsbs	r1, r1, #0
 1818              	.LVL168:
 1819              	.LBB222:
 1820              	.LBB219:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1821              		.loc 1 587 3 is_stmt 1 view .LVU664
 588:lwIP/src/core/pbuf.c ****     return 1;
 1822              		.loc 1 588 3 view .LVU665
 591:lwIP/src/core/pbuf.c ****     return 0;
 1823              		.loc 1 591 3 view .LVU666
 1824              	.LBB215:
 1825              	.LBI215:
 582:lwIP/src/core/pbuf.c **** {
 1826              		.loc 1 582 1 view .LVU667
 1827              	.LBB216:
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 1828              		.loc 1 595 3 view .LVU668
 597:lwIP/src/core/pbuf.c **** 
 1829              		.loc 1 597 3 is_stmt 0 view .LVU669
 1830 0028 4289     		ldrh	r2, [r0, #10]
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 1831              		.loc 1 595 23 view .LVU670
 1832 002a 88B2     		uxth	r0, r1
 1833              	.LVL169:
 597:lwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccJoevLK.s 			page 59


 1834              		.loc 1 597 3 is_stmt 1 view .LVU671
 597:lwIP/src/core/pbuf.c **** 
 1835              		.loc 1 597 3 view .LVU672
 1836 002c 9042     		cmp	r0, r2
 1837 002e 20D8     		bhi	.L155
 597:lwIP/src/core/pbuf.c **** 
 1838              		.loc 1 597 3 view .LVU673
 597:lwIP/src/core/pbuf.c **** 
 1839              		.loc 1 597 3 view .LVU674
 600:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(payload); /* only used in LWIP_DEBUGF below */
 1840              		.loc 1 600 3 view .LVU675
 1841              	.LVL170:
 601:lwIP/src/core/pbuf.c **** 
 1842              		.loc 1 601 3 view .LVU676
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1843              		.loc 1 604 3 view .LVU677
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1844              		.loc 1 604 35 is_stmt 0 view .LVU678
 1845 0030 5D68     		ldr	r5, [r3, #4]
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1846              		.loc 1 606 12 view .LVU679
 1847 0032 121A     		subs	r2, r2, r0
 607:lwIP/src/core/pbuf.c **** 
 1848              		.loc 1 607 16 view .LVU680
 1849 0034 1C89     		ldrh	r4, [r3, #8]
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1850              		.loc 1 604 35 view .LVU681
 1851 0036 2944     		add	r1, r1, r5
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1852              		.loc 1 606 10 view .LVU682
 1853 0038 5A81     		strh	r2, [r3, #10]	@ movhi
 607:lwIP/src/core/pbuf.c **** 
 1854              		.loc 1 607 16 view .LVU683
 1855 003a 221A     		subs	r2, r4, r0
 607:lwIP/src/core/pbuf.c **** 
 1856              		.loc 1 607 14 view .LVU684
 1857 003c 0020     		movs	r0, #0
 1858              	.LVL171:
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 1859              		.loc 1 604 14 view .LVU685
 1860 003e 5960     		str	r1, [r3, #4]
 1861              	.LVL172:
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1862              		.loc 1 606 3 is_stmt 1 view .LVU686
 607:lwIP/src/core/pbuf.c **** 
 1863              		.loc 1 607 3 view .LVU687
 607:lwIP/src/core/pbuf.c **** 
 1864              		.loc 1 607 14 is_stmt 0 view .LVU688
 1865 0040 1A81     		strh	r2, [r3, #8]	@ movhi
 610:lwIP/src/core/pbuf.c **** 
 1866              		.loc 1 610 73 is_stmt 1 view .LVU689
 612:lwIP/src/core/pbuf.c **** }
 1867              		.loc 1 612 3 view .LVU690
 1868              	.LVL173:
 612:lwIP/src/core/pbuf.c **** }
 1869              		.loc 1 612 3 is_stmt 0 view .LVU691
 1870              	.LBE216:
ARM GAS  /tmp/ccJoevLK.s 			page 60


 1871              	.LBE215:
 1872              	.LBE219:
 1873              	.LBE222:
 1874              	.LBE212:
 1875              	.LBE211:
 1876              	.LBE232:
 1877              	.LBE237:
 649:lwIP/src/core/pbuf.c **** 
 1878              		.loc 1 649 1 view .LVU692
 1879 0042 38BD     		pop	{r3, r4, r5, pc}
 1880              	.LVL174:
 1881              	.L152:
 1882              	.LBB238:
 1883              	.LBB233:
 1884              	.LBB227:
 1885              	.LBB209:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1886              		.loc 1 479 3 is_stmt 1 view .LVU693
 1887 0044 0D48     		ldr	r0, .L156
 1888              	.LVL175:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1889              		.loc 1 479 3 is_stmt 0 view .LVU694
 1890 0046 FFF7FEFF 		bl	printf
 1891              	.LVL176:
 1892              	.L145:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1893              		.loc 1 479 3 is_stmt 1 view .LVU695
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1894              		.loc 1 479 3 view .LVU696
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1895              		.loc 1 479 3 view .LVU697
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1896              		.loc 1 479 3 view .LVU698
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1897              		.loc 1 479 3 view .LVU699
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1898              		.loc 1 479 3 view .LVU700
 1899 004a FEE7     		b	.L145
 1900              	.LVL177:
 1901              	.L146:
 484:lwIP/src/core/pbuf.c ****   }
 1902              		.loc 1 484 12 is_stmt 0 view .LVU701
 1903 004c 0846     		mov	r0, r1
 1904              	.LVL178:
 484:lwIP/src/core/pbuf.c ****   }
 1905              		.loc 1 484 12 view .LVU702
 1906              	.LBE209:
 1907              	.LBE227:
 1908              	.LBE233:
 1909              	.LBE238:
 649:lwIP/src/core/pbuf.c **** 
 1910              		.loc 1 649 1 view .LVU703
 1911 004e 38BD     		pop	{r3, r4, r5, pc}
 1912              	.LVL179:
 1913              	.L154:
 1914              	.LBB239:
 1915              	.LBB234:
ARM GAS  /tmp/ccJoevLK.s 			page 61


 1916              	.LBB228:
 1917              	.LBB225:
 1918              	.LBB223:
 1919              	.LBB220:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1920              		.loc 1 587 3 is_stmt 1 view .LVU704
 1921 0050 0A48     		ldr	r0, .L156
 1922              	.LVL180:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1923              		.loc 1 587 3 is_stmt 0 view .LVU705
 1924 0052 FFF7FEFF 		bl	printf
 1925              	.LVL181:
 1926              	.L140:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1927              		.loc 1 587 3 is_stmt 1 view .LVU706
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1928              		.loc 1 587 3 view .LVU707
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1929              		.loc 1 587 3 view .LVU708
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1930              		.loc 1 587 3 view .LVU709
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1931              		.loc 1 587 3 view .LVU710
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1932              		.loc 1 587 3 view .LVU711
 1933 0056 FEE7     		b	.L140
 1934              	.LVL182:
 1935              	.L153:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1936              		.loc 1 587 3 is_stmt 0 view .LVU712
 1937              	.LBE220:
 1938              	.LBE223:
 1939              	.LBE225:
 1940              	.LBE228:
 1941              	.LBB229:
 1942              	.LBB210:
 1943              	.LBB208:
 1944              	.LBB207:
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1945              		.loc 1 498 5 is_stmt 1 view .LVU713
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1946              		.loc 1 498 13 is_stmt 0 view .LVU714
 1947 0058 5868     		ldr	r0, [r3, #4]
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1948              		.loc 1 500 37 view .LVU715
 1949 005a 03F11005 		add	r5, r3, #16
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 1950              		.loc 1 498 13 view .LVU716
 1951 005e 411A     		subs	r1, r0, r1
 1952              	.LVL183:
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1953              		.loc 1 500 5 is_stmt 1 view .LVU717
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 1954              		.loc 1 500 8 is_stmt 0 view .LVU718
 1955 0060 A942     		cmp	r1, r5
 1956 0062 DDD3     		bcc	.L149
 519:lwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccJoevLK.s 			page 62


 1957              		.loc 1 519 73 is_stmt 1 view .LVU719
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1958              		.loc 1 522 3 view .LVU720
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1959              		.loc 1 523 12 is_stmt 0 view .LVU721
 1960 0064 5D89     		ldrh	r5, [r3, #10]
 527:lwIP/src/core/pbuf.c **** }
 1961              		.loc 1 527 10 view .LVU722
 1962 0066 0020     		movs	r0, #0
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1963              		.loc 1 522 14 view .LVU723
 1964 0068 5960     		str	r1, [r3, #4]
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1965              		.loc 1 523 3 is_stmt 1 view .LVU724
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1966              		.loc 1 523 12 is_stmt 0 view .LVU725
 1967 006a 2C44     		add	r4, r4, r5
 1968              	.LVL184:
 524:lwIP/src/core/pbuf.c **** 
 1969              		.loc 1 524 14 view .LVU726
 1970 006c 1A81     		strh	r2, [r3, #8]	@ movhi
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1971              		.loc 1 523 10 view .LVU727
 1972 006e 5C81     		strh	r4, [r3, #10]	@ movhi
 524:lwIP/src/core/pbuf.c **** 
 1973              		.loc 1 524 3 is_stmt 1 view .LVU728
 527:lwIP/src/core/pbuf.c **** }
 1974              		.loc 1 527 3 view .LVU729
 1975              	.LVL185:
 527:lwIP/src/core/pbuf.c **** }
 1976              		.loc 1 527 3 is_stmt 0 view .LVU730
 1977              	.LBE207:
 1978              	.LBE208:
 1979              	.LBE210:
 1980              	.LBE229:
 1981              	.LBE234:
 1982              	.LBE239:
 649:lwIP/src/core/pbuf.c **** 
 1983              		.loc 1 649 1 view .LVU731
 1984 0070 38BD     		pop	{r3, r4, r5, pc}
 1985              	.LVL186:
 1986              	.L155:
 1987              	.LBB240:
 1988              	.LBB235:
 1989              	.LBB230:
 1990              	.LBB226:
 1991              	.LBB224:
 1992              	.LBB221:
 1993              	.LBB218:
 1994              	.LBB217:
 597:lwIP/src/core/pbuf.c **** 
 1995              		.loc 1 597 3 is_stmt 1 view .LVU732
 1996 0072 0348     		ldr	r0, .L156+4
 1997              	.LVL187:
 597:lwIP/src/core/pbuf.c **** 
 1998              		.loc 1 597 3 is_stmt 0 view .LVU733
 1999 0074 FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccJoevLK.s 			page 63


 2000              	.LVL188:
 2001              	.L142:
 597:lwIP/src/core/pbuf.c **** 
 2002              		.loc 1 597 3 is_stmt 1 view .LVU734
 597:lwIP/src/core/pbuf.c **** 
 2003              		.loc 1 597 3 view .LVU735
 597:lwIP/src/core/pbuf.c **** 
 2004              		.loc 1 597 3 view .LVU736
 597:lwIP/src/core/pbuf.c **** 
 2005              		.loc 1 597 3 view .LVU737
 597:lwIP/src/core/pbuf.c **** 
 2006              		.loc 1 597 3 view .LVU738
 597:lwIP/src/core/pbuf.c **** 
 2007              		.loc 1 597 3 view .LVU739
 2008 0078 FEE7     		b	.L142
 2009              	.L157:
 2010 007a 00BF     		.align	2
 2011              	.L156:
 2012 007c 00000000 		.word	.LC8
 2013 0080 00000000 		.word	.LC9
 2014              	.LBE217:
 2015              	.LBE218:
 2016              	.LBE221:
 2017              	.LBE224:
 2018              	.LBE226:
 2019              	.LBE230:
 2020              	.LBE235:
 2021              	.LBE240:
 2022              		.cfi_endproc
 2023              	.LFE115:
 2025              		.section	.text.pbuf_header_force,"ax",%progbits
 2026              		.align	1
 2027              		.p2align 2,,3
 2028              		.global	pbuf_header_force
 2029              		.syntax unified
 2030              		.thumb
 2031              		.thumb_func
 2032              		.fpu fpv4-sp-d16
 2034              	pbuf_header_force:
 2035              	.LVL189:
 2036              	.LFB116:
 657:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 1);
 2037              		.loc 1 657 1 view -0
 2038              		.cfi_startproc
 2039              		@ args = 0, pretend = 0, frame = 0
 2040              		@ frame_needed = 0, uses_anonymous_args = 0
 658:lwIP/src/core/pbuf.c **** }
 2041              		.loc 1 658 3 view .LVU741
 2042              	.LBB253:
 2043              	.LBB254:
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 2044              		.loc 1 618 6 is_stmt 0 view .LVU742
 2045 0000 0029     		cmp	r1, #0
 2046              	.LVL190:
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 2047              		.loc 1 618 6 view .LVU743
 2048              	.LBE254:
ARM GAS  /tmp/ccJoevLK.s 			page 64


 2049              	.LBE253:
 657:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 1);
 2050              		.loc 1 657 1 view .LVU744
 2051 0002 38B5     		push	{r3, r4, r5, lr}
 2052              	.LCFI12:
 2053              		.cfi_def_cfa_offset 16
 2054              		.cfi_offset 3, -16
 2055              		.cfi_offset 4, -12
 2056              		.cfi_offset 5, -8
 2057              		.cfi_offset 14, -4
 657:lwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 1);
 2058              		.loc 1 657 1 view .LVU745
 2059 0004 0346     		mov	r3, r0
 2060              	.LVL191:
 2061              	.LBB284:
 2062              	.LBI253:
 616:lwIP/src/core/pbuf.c **** {
 2063              		.loc 1 616 1 is_stmt 1 view .LVU746
 2064              	.LBB279:
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 2065              		.loc 1 618 3 view .LVU747
 618:lwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 2066              		.loc 1 618 6 is_stmt 0 view .LVU748
 2067 0006 15DB     		blt	.L172
 621:lwIP/src/core/pbuf.c ****   }
 2068              		.loc 1 621 5 is_stmt 1 view .LVU749
 2069              	.LVL192:
 2070              	.LBB255:
 2071              	.LBI255:
 473:lwIP/src/core/pbuf.c **** {
 2072              		.loc 1 473 1 view .LVU750
 2073              	.LBB256:
 475:lwIP/src/core/pbuf.c ****   void *payload;
 2074              		.loc 1 475 3 view .LVU751
 476:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 2075              		.loc 1 476 3 view .LVU752
 477:lwIP/src/core/pbuf.c **** 
 2076              		.loc 1 477 3 view .LVU753
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2077              		.loc 1 479 3 view .LVU754
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2078              		.loc 1 479 3 view .LVU755
 2079 0008 20B3     		cbz	r0, .L173
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2080              		.loc 1 479 3 view .LVU756
 480:lwIP/src/core/pbuf.c ****     return 1;
 2081              		.loc 1 480 3 view .LVU757
 483:lwIP/src/core/pbuf.c ****     return 0;
 2082              		.loc 1 483 3 view .LVU758
 483:lwIP/src/core/pbuf.c ****     return 0;
 2083              		.loc 1 483 6 is_stmt 0 view .LVU759
 2084 000a 69B3     		cbz	r1, .L168
 2085              	.LVL193:
 2086              	.LBB257:
 2087              	.LBI257:
 473:lwIP/src/core/pbuf.c **** {
 2088              		.loc 1 473 1 is_stmt 1 view .LVU760
ARM GAS  /tmp/ccJoevLK.s 			page 65


 2089              	.LBB258:
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 2090              		.loc 1 487 3 view .LVU761
 487:lwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 2091              		.loc 1 487 23 is_stmt 0 view .LVU762
 2092 000c 8CB2     		uxth	r4, r1
 2093              	.LVL194:
 489:lwIP/src/core/pbuf.c ****     return 1;
 2094              		.loc 1 489 3 is_stmt 1 view .LVU763
 489:lwIP/src/core/pbuf.c ****     return 1;
 2095              		.loc 1 489 7 is_stmt 0 view .LVU764
 2096 000e 0289     		ldrh	r2, [r0, #8]
 2097 0010 2244     		add	r2, r2, r4
 2098 0012 92B2     		uxth	r2, r2
 489:lwIP/src/core/pbuf.c ****     return 1;
 2099              		.loc 1 489 6 view .LVU765
 2100 0014 9442     		cmp	r4, r2
 2101 0016 25D8     		bhi	.L170
 493:lwIP/src/core/pbuf.c **** 
 2102              		.loc 1 493 3 is_stmt 1 view .LVU766
 2103              	.LVL195:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 2104              		.loc 1 496 3 view .LVU767
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 2105              		.loc 1 496 6 is_stmt 0 view .LVU768
 2106 0018 93F90C50 		ldrsb	r5, [r3, #12]
 2107 001c 4068     		ldr	r0, [r0, #4]
 2108              	.LVL196:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 2109              		.loc 1 496 6 view .LVU769
 2110 001e 002D     		cmp	r5, #0
 2111 0020 A0EB0101 		sub	r1, r0, r1
 2112              	.LVL197:
 496:lwIP/src/core/pbuf.c ****     /* set new payload pointer */
 2113              		.loc 1 496 6 view .LVU770
 2114 0024 1ADB     		blt	.L174
 2115              	.L167:
 2116              	.LVL198:
 519:lwIP/src/core/pbuf.c **** 
 2117              		.loc 1 519 73 is_stmt 1 view .LVU771
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 2118              		.loc 1 522 3 view .LVU772
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 2119              		.loc 1 523 12 is_stmt 0 view .LVU773
 2120 0026 5D89     		ldrh	r5, [r3, #10]
 527:lwIP/src/core/pbuf.c **** }
 2121              		.loc 1 527 10 view .LVU774
 2122 0028 0020     		movs	r0, #0
 522:lwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 2123              		.loc 1 522 14 view .LVU775
 2124 002a 5960     		str	r1, [r3, #4]
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 2125              		.loc 1 523 3 is_stmt 1 view .LVU776
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 2126              		.loc 1 523 12 is_stmt 0 view .LVU777
 2127 002c 2C44     		add	r4, r4, r5
 2128              	.LVL199:
ARM GAS  /tmp/ccJoevLK.s 			page 66


 524:lwIP/src/core/pbuf.c **** 
 2129              		.loc 1 524 14 view .LVU778
 2130 002e 1A81     		strh	r2, [r3, #8]	@ movhi
 523:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 2131              		.loc 1 523 10 view .LVU779
 2132 0030 5C81     		strh	r4, [r3, #10]	@ movhi
 524:lwIP/src/core/pbuf.c **** 
 2133              		.loc 1 524 3 is_stmt 1 view .LVU780
 527:lwIP/src/core/pbuf.c **** }
 2134              		.loc 1 527 3 view .LVU781
 2135              	.LVL200:
 527:lwIP/src/core/pbuf.c **** }
 2136              		.loc 1 527 3 is_stmt 0 view .LVU782
 2137              	.LBE258:
 2138              	.LBE257:
 2139              	.LBE256:
 2140              	.LBE255:
 2141              	.LBE279:
 2142              	.LBE284:
 659:lwIP/src/core/pbuf.c **** 
 2143              		.loc 1 659 1 view .LVU783
 2144 0032 38BD     		pop	{r3, r4, r5, pc}
 2145              	.LVL201:
 2146              	.L172:
 2147              	.LBB285:
 2148              	.LBB280:
 2149              	.LBB263:
 2150              	.LBI263:
 616:lwIP/src/core/pbuf.c **** {
 2151              		.loc 1 616 1 is_stmt 1 view .LVU784
 2152              	.LBB264:
 619:lwIP/src/core/pbuf.c ****   } else {
 2153              		.loc 1 619 5 view .LVU785
 2154              	.LBB265:
 2155              	.LBI265:
 582:lwIP/src/core/pbuf.c **** {
 2156              		.loc 1 582 1 view .LVU786
 2157              	.LBB266:
 584:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 2158              		.loc 1 584 3 view .LVU787
 585:lwIP/src/core/pbuf.c **** 
 2159              		.loc 1 585 3 view .LVU788
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2160              		.loc 1 587 3 view .LVU789
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2161              		.loc 1 587 3 view .LVU790
 2162 0034 D0B1     		cbz	r0, .L175
 2163              	.LBE266:
 2164              	.LBE265:
 619:lwIP/src/core/pbuf.c ****   } else {
 2165              		.loc 1 619 43 is_stmt 0 view .LVU791
 2166 0036 4942     		rsbs	r1, r1, #0
 2167              	.LVL202:
 2168              	.LBB273:
 2169              	.LBB271:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2170              		.loc 1 587 3 is_stmt 1 view .LVU792
ARM GAS  /tmp/ccJoevLK.s 			page 67


 588:lwIP/src/core/pbuf.c ****     return 1;
 2171              		.loc 1 588 3 view .LVU793
 591:lwIP/src/core/pbuf.c ****     return 0;
 2172              		.loc 1 591 3 view .LVU794
 2173              	.LBB267:
 2174              	.LBI267:
 582:lwIP/src/core/pbuf.c **** {
 2175              		.loc 1 582 1 view .LVU795
 2176              	.LBB268:
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 2177              		.loc 1 595 3 view .LVU796
 597:lwIP/src/core/pbuf.c **** 
 2178              		.loc 1 597 3 is_stmt 0 view .LVU797
 2179 0038 4289     		ldrh	r2, [r0, #10]
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 2180              		.loc 1 595 23 view .LVU798
 2181 003a 88B2     		uxth	r0, r1
 2182              	.LVL203:
 597:lwIP/src/core/pbuf.c **** 
 2183              		.loc 1 597 3 is_stmt 1 view .LVU799
 597:lwIP/src/core/pbuf.c **** 
 2184              		.loc 1 597 3 view .LVU800
 2185 003c 9042     		cmp	r0, r2
 2186 003e 19D8     		bhi	.L176
 597:lwIP/src/core/pbuf.c **** 
 2187              		.loc 1 597 3 view .LVU801
 597:lwIP/src/core/pbuf.c **** 
 2188              		.loc 1 597 3 view .LVU802
 600:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(payload); /* only used in LWIP_DEBUGF below */
 2189              		.loc 1 600 3 view .LVU803
 2190              	.LVL204:
 601:lwIP/src/core/pbuf.c **** 
 2191              		.loc 1 601 3 view .LVU804
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2192              		.loc 1 604 3 view .LVU805
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2193              		.loc 1 604 35 is_stmt 0 view .LVU806
 2194 0040 5D68     		ldr	r5, [r3, #4]
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 2195              		.loc 1 606 12 view .LVU807
 2196 0042 121A     		subs	r2, r2, r0
 607:lwIP/src/core/pbuf.c **** 
 2197              		.loc 1 607 16 view .LVU808
 2198 0044 1C89     		ldrh	r4, [r3, #8]
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2199              		.loc 1 604 35 view .LVU809
 2200 0046 2944     		add	r1, r1, r5
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 2201              		.loc 1 606 10 view .LVU810
 2202 0048 5A81     		strh	r2, [r3, #10]	@ movhi
 607:lwIP/src/core/pbuf.c **** 
 2203              		.loc 1 607 16 view .LVU811
 2204 004a 221A     		subs	r2, r4, r0
 607:lwIP/src/core/pbuf.c **** 
 2205              		.loc 1 607 14 view .LVU812
 2206 004c 0020     		movs	r0, #0
 2207              	.LVL205:
ARM GAS  /tmp/ccJoevLK.s 			page 68


 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2208              		.loc 1 604 14 view .LVU813
 2209 004e 5960     		str	r1, [r3, #4]
 2210              	.LVL206:
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 2211              		.loc 1 606 3 is_stmt 1 view .LVU814
 607:lwIP/src/core/pbuf.c **** 
 2212              		.loc 1 607 3 view .LVU815
 607:lwIP/src/core/pbuf.c **** 
 2213              		.loc 1 607 14 is_stmt 0 view .LVU816
 2214 0050 1A81     		strh	r2, [r3, #8]	@ movhi
 610:lwIP/src/core/pbuf.c **** 
 2215              		.loc 1 610 73 is_stmt 1 view .LVU817
 612:lwIP/src/core/pbuf.c **** }
 2216              		.loc 1 612 3 view .LVU818
 2217              	.LVL207:
 612:lwIP/src/core/pbuf.c **** }
 2218              		.loc 1 612 3 is_stmt 0 view .LVU819
 2219              	.LBE268:
 2220              	.LBE267:
 2221              	.LBE271:
 2222              	.LBE273:
 2223              	.LBE264:
 2224              	.LBE263:
 2225              	.LBE280:
 2226              	.LBE285:
 659:lwIP/src/core/pbuf.c **** 
 2227              		.loc 1 659 1 view .LVU820
 2228 0052 38BD     		pop	{r3, r4, r5, pc}
 2229              	.LVL208:
 2230              	.L173:
 2231              	.LBB286:
 2232              	.LBB281:
 2233              	.LBB276:
 2234              	.LBB261:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2235              		.loc 1 479 3 is_stmt 1 view .LVU821
 2236 0054 0948     		ldr	r0, .L177
 2237              	.LVL209:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2238              		.loc 1 479 3 is_stmt 0 view .LVU822
 2239 0056 FFF7FEFF 		bl	printf
 2240              	.LVL210:
 2241              	.L166:
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2242              		.loc 1 479 3 is_stmt 1 view .LVU823
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2243              		.loc 1 479 3 view .LVU824
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2244              		.loc 1 479 3 view .LVU825
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2245              		.loc 1 479 3 view .LVU826
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2246              		.loc 1 479 3 view .LVU827
 479:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 2247              		.loc 1 479 3 view .LVU828
 2248 005a FEE7     		b	.L166
ARM GAS  /tmp/ccJoevLK.s 			page 69


 2249              	.LVL211:
 2250              	.L174:
 2251              	.LBB260:
 2252              	.LBB259:
 498:lwIP/src/core/pbuf.c ****     /* boundary check fails? */
 2253              		.loc 1 498 5 view .LVU829
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 2254              		.loc 1 500 5 view .LVU830
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 2255              		.loc 1 500 37 is_stmt 0 view .LVU831
 2256 005c 03F11000 		add	r0, r3, #16
 500:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 2257              		.loc 1 500 8 view .LVU832
 2258 0060 8142     		cmp	r1, r0
 2259 0062 E0D2     		bcs	.L167
 2260              	.LVL212:
 2261              	.L170:
 490:lwIP/src/core/pbuf.c ****   }
 2262              		.loc 1 490 12 view .LVU833
 2263 0064 0120     		movs	r0, #1
 2264              	.LVL213:
 490:lwIP/src/core/pbuf.c ****   }
 2265              		.loc 1 490 12 view .LVU834
 2266              	.LBE259:
 2267              	.LBE260:
 2268              	.LBE261:
 2269              	.LBE276:
 2270              	.LBE281:
 2271              	.LBE286:
 659:lwIP/src/core/pbuf.c **** 
 2272              		.loc 1 659 1 view .LVU835
 2273 0066 38BD     		pop	{r3, r4, r5, pc}
 2274              	.LVL214:
 2275              	.L168:
 2276              	.LBB287:
 2277              	.LBB282:
 2278              	.LBB277:
 2279              	.LBB262:
 484:lwIP/src/core/pbuf.c ****   }
 2280              		.loc 1 484 12 view .LVU836
 2281 0068 0846     		mov	r0, r1
 2282              	.LVL215:
 484:lwIP/src/core/pbuf.c ****   }
 2283              		.loc 1 484 12 view .LVU837
 2284              	.LBE262:
 2285              	.LBE277:
 2286              	.LBE282:
 2287              	.LBE287:
 659:lwIP/src/core/pbuf.c **** 
 2288              		.loc 1 659 1 view .LVU838
 2289 006a 38BD     		pop	{r3, r4, r5, pc}
 2290              	.LVL216:
 2291              	.L175:
 2292              	.LBB288:
 2293              	.LBB283:
 2294              	.LBB278:
 2295              	.LBB275:
ARM GAS  /tmp/ccJoevLK.s 			page 70


 2296              	.LBB274:
 2297              	.LBB272:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2298              		.loc 1 587 3 is_stmt 1 view .LVU839
 2299 006c 0348     		ldr	r0, .L177
 2300              	.LVL217:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2301              		.loc 1 587 3 is_stmt 0 view .LVU840
 2302 006e FFF7FEFF 		bl	printf
 2303              	.LVL218:
 2304              	.L161:
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2305              		.loc 1 587 3 is_stmt 1 view .LVU841
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2306              		.loc 1 587 3 view .LVU842
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2307              		.loc 1 587 3 view .LVU843
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2308              		.loc 1 587 3 view .LVU844
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2309              		.loc 1 587 3 view .LVU845
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2310              		.loc 1 587 3 view .LVU846
 2311 0072 FEE7     		b	.L161
 2312              	.LVL219:
 2313              	.L176:
 2314              	.LBB270:
 2315              	.LBB269:
 597:lwIP/src/core/pbuf.c **** 
 2316              		.loc 1 597 3 view .LVU847
 2317 0074 0248     		ldr	r0, .L177+4
 2318              	.LVL220:
 597:lwIP/src/core/pbuf.c **** 
 2319              		.loc 1 597 3 is_stmt 0 view .LVU848
 2320 0076 FFF7FEFF 		bl	printf
 2321              	.LVL221:
 2322              	.L163:
 597:lwIP/src/core/pbuf.c **** 
 2323              		.loc 1 597 3 is_stmt 1 view .LVU849
 597:lwIP/src/core/pbuf.c **** 
 2324              		.loc 1 597 3 view .LVU850
 597:lwIP/src/core/pbuf.c **** 
 2325              		.loc 1 597 3 view .LVU851
 597:lwIP/src/core/pbuf.c **** 
 2326              		.loc 1 597 3 view .LVU852
 597:lwIP/src/core/pbuf.c **** 
 2327              		.loc 1 597 3 view .LVU853
 597:lwIP/src/core/pbuf.c **** 
 2328              		.loc 1 597 3 view .LVU854
 2329 007a FEE7     		b	.L163
 2330              	.L178:
 2331              		.align	2
 2332              	.L177:
 2333 007c 00000000 		.word	.LC8
 2334 0080 00000000 		.word	.LC9
 2335              	.LBE269:
 2336              	.LBE270:
ARM GAS  /tmp/ccJoevLK.s 			page 71


 2337              	.LBE272:
 2338              	.LBE274:
 2339              	.LBE275:
 2340              	.LBE278:
 2341              	.LBE283:
 2342              	.LBE288:
 2343              		.cfi_endproc
 2344              	.LFE116:
 2346              		.section	.text.pbuf_free_header,"ax",%progbits
 2347              		.align	1
 2348              		.p2align 2,,3
 2349              		.global	pbuf_free_header
 2350              		.syntax unified
 2351              		.thumb
 2352              		.thumb_func
 2353              		.fpu fpv4-sp-d16
 2355              	pbuf_free_header:
 2356              	.LVL222:
 2357              	.LFB117:
 672:lwIP/src/core/pbuf.c ****   struct pbuf *p = q;
 2358              		.loc 1 672 1 view -0
 2359              		.cfi_startproc
 2360              		@ args = 0, pretend = 0, frame = 0
 2361              		@ frame_needed = 0, uses_anonymous_args = 0
 673:lwIP/src/core/pbuf.c ****   u16_t free_left = size;
 2362              		.loc 1 673 3 view .LVU856
 674:lwIP/src/core/pbuf.c ****   while (free_left && p) {
 2363              		.loc 1 674 3 view .LVU857
 675:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 2364              		.loc 1 675 20 is_stmt 0 view .LVU858
 2365 0000 0346     		mov	r3, r0
 2366              	.LVL223:
 675:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 2367              		.loc 1 675 3 is_stmt 1 view .LVU859
 675:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 2368              		.loc 1 675 9 view .LVU860
 2369 0002 F0B1     		cbz	r0, .L196
 672:lwIP/src/core/pbuf.c ****   struct pbuf *p = q;
 2370              		.loc 1 672 1 is_stmt 0 view .LVU861
 2371 0004 70B5     		push	{r4, r5, r6, lr}
 2372              	.LCFI13:
 2373              		.cfi_def_cfa_offset 16
 2374              		.cfi_offset 4, -16
 2375              		.cfi_offset 5, -12
 2376              		.cfi_offset 6, -8
 2377              		.cfi_offset 14, -4
 2378 0006 0C46     		mov	r4, r1
 675:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 2379              		.loc 1 675 9 view .LVU862
 2380 0008 71B1     		cbz	r1, .L180
 2381              	.LBB296:
 680:lwIP/src/core/pbuf.c ****       pbuf_free(f);
 2382              		.loc 1 680 15 view .LVU863
 2383 000a 0026     		movs	r6, #0
 2384              	.LVL224:
 2385              	.L182:
 680:lwIP/src/core/pbuf.c ****       pbuf_free(f);
ARM GAS  /tmp/ccJoevLK.s 			page 72


 2386              		.loc 1 680 15 view .LVU864
 2387              	.LBE296:
 676:lwIP/src/core/pbuf.c ****       struct pbuf *f = p;
 2388              		.loc 1 676 5 is_stmt 1 view .LVU865
 2389              	.LBB301:
 677:lwIP/src/core/pbuf.c ****       free_left = (u16_t)(free_left - p->len);
 2390              		.loc 1 677 7 view .LVU866
 678:lwIP/src/core/pbuf.c ****       p = p->next;
 2391              		.loc 1 678 7 view .LVU867
 2392              	.LBE301:
 676:lwIP/src/core/pbuf.c ****       struct pbuf *f = p;
 2393              		.loc 1 676 23 is_stmt 0 view .LVU868
 2394 000c 5A89     		ldrh	r2, [r3, #10]
 2395              	.LBB302:
 2396              	.LBB297:
 2397              	.LBB298:
 2398 000e 1846     		mov	r0, r3
 2399              	.LBE298:
 2400              	.LBE297:
 2401              	.LBE302:
 676:lwIP/src/core/pbuf.c ****       struct pbuf *f = p;
 2402              		.loc 1 676 8 view .LVU869
 2403 0010 A242     		cmp	r2, r4
 2404              	.LBB303:
 678:lwIP/src/core/pbuf.c ****       p = p->next;
 2405              		.loc 1 678 17 view .LVU870
 2406 0012 A4EB0201 		sub	r1, r4, r2
 2407              	.LBE303:
 676:lwIP/src/core/pbuf.c ****       struct pbuf *f = p;
 2408              		.loc 1 676 8 view .LVU871
 2409 0016 09D9     		bls	.L199
 2410              	.LVL225:
 683:lwIP/src/core/pbuf.c ****       free_left = 0;
 2411              		.loc 1 683 7 is_stmt 1 view .LVU872
 2412              	.LBB304:
 2413              	.LBI304:
 582:lwIP/src/core/pbuf.c **** {
 2414              		.loc 1 582 1 view .LVU873
 2415              	.LBB305:
 584:lwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 2416              		.loc 1 584 3 view .LVU874
 585:lwIP/src/core/pbuf.c **** 
 2417              		.loc 1 585 3 view .LVU875
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2418              		.loc 1 587 3 view .LVU876
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2419              		.loc 1 587 3 view .LVU877
 587:lwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 2420              		.loc 1 587 3 view .LVU878
 588:lwIP/src/core/pbuf.c ****     return 1;
 2421              		.loc 1 588 3 view .LVU879
 591:lwIP/src/core/pbuf.c ****     return 0;
 2422              		.loc 1 591 3 view .LVU880
 2423              	.LBB306:
 2424              	.LBI306:
 582:lwIP/src/core/pbuf.c **** {
 2425              		.loc 1 582 1 view .LVU881
ARM GAS  /tmp/ccJoevLK.s 			page 73


 2426              	.LBB307:
 595:lwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 2427              		.loc 1 595 3 view .LVU882
 597:lwIP/src/core/pbuf.c **** 
 2428              		.loc 1 597 3 view .LVU883
 597:lwIP/src/core/pbuf.c **** 
 2429              		.loc 1 597 3 view .LVU884
 597:lwIP/src/core/pbuf.c **** 
 2430              		.loc 1 597 3 view .LVU885
 597:lwIP/src/core/pbuf.c **** 
 2431              		.loc 1 597 3 view .LVU886
 600:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(payload); /* only used in LWIP_DEBUGF below */
 2432              		.loc 1 600 3 view .LVU887
 601:lwIP/src/core/pbuf.c **** 
 2433              		.loc 1 601 3 view .LVU888
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2434              		.loc 1 604 3 view .LVU889
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2435              		.loc 1 604 35 is_stmt 0 view .LVU890
 2436 0018 5868     		ldr	r0, [r3, #4]
 2437              	.LVL226:
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 2438              		.loc 1 606 12 view .LVU891
 2439 001a 121B     		subs	r2, r2, r4
 607:lwIP/src/core/pbuf.c **** 
 2440              		.loc 1 607 16 view .LVU892
 2441 001c 1989     		ldrh	r1, [r3, #8]
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2442              		.loc 1 604 35 view .LVU893
 2443 001e 2044     		add	r0, r0, r4
 2444              	.LVL227:
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 2445              		.loc 1 606 10 view .LVU894
 2446 0020 5A81     		strh	r2, [r3, #10]	@ movhi
 607:lwIP/src/core/pbuf.c **** 
 2447              		.loc 1 607 16 view .LVU895
 2448 0022 0C1B     		subs	r4, r1, r4
 2449              	.LVL228:
 604:lwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 2450              		.loc 1 604 14 view .LVU896
 2451 0024 5860     		str	r0, [r3, #4]
 2452              	.LVL229:
 606:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 2453              		.loc 1 606 3 is_stmt 1 view .LVU897
 607:lwIP/src/core/pbuf.c **** 
 2454              		.loc 1 607 3 view .LVU898
 607:lwIP/src/core/pbuf.c **** 
 2455              		.loc 1 607 14 is_stmt 0 view .LVU899
 2456 0026 1C81     		strh	r4, [r3, #8]	@ movhi
 610:lwIP/src/core/pbuf.c **** 
 2457              		.loc 1 610 73 is_stmt 1 view .LVU900
 612:lwIP/src/core/pbuf.c **** }
 2458              		.loc 1 612 3 view .LVU901
 2459              	.LVL230:
 612:lwIP/src/core/pbuf.c **** }
 2460              		.loc 1 612 3 is_stmt 0 view .LVU902
 2461              	.LBE307:
ARM GAS  /tmp/ccJoevLK.s 			page 74


 2462              	.LBE306:
 2463              	.LBE305:
 2464              	.LBE304:
 675:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 2465              		.loc 1 675 9 is_stmt 1 view .LVU903
 2466              	.L180:
 687:lwIP/src/core/pbuf.c **** }
 2467              		.loc 1 687 3 view .LVU904
 688:lwIP/src/core/pbuf.c **** 
 2468              		.loc 1 688 1 is_stmt 0 view .LVU905
 2469 0028 1846     		mov	r0, r3
 2470 002a 70BD     		pop	{r4, r5, r6, pc}
 2471              	.LVL231:
 2472              	.L199:
 2473              	.LBB308:
 679:lwIP/src/core/pbuf.c ****       f->next = 0;
 2474              		.loc 1 679 9 view .LVU906
 2475 002c 1D68     		ldr	r5, [r3]
 678:lwIP/src/core/pbuf.c ****       p = p->next;
 2476              		.loc 1 678 17 view .LVU907
 2477 002e 8CB2     		uxth	r4, r1
 2478              	.LVL232:
 679:lwIP/src/core/pbuf.c ****       f->next = 0;
 2479              		.loc 1 679 7 is_stmt 1 view .LVU908
 680:lwIP/src/core/pbuf.c ****       pbuf_free(f);
 2480              		.loc 1 680 7 view .LVU909
 680:lwIP/src/core/pbuf.c ****       pbuf_free(f);
 2481              		.loc 1 680 15 is_stmt 0 view .LVU910
 2482 0030 1E60     		str	r6, [r3]
 681:lwIP/src/core/pbuf.c ****     } else {
 2483              		.loc 1 681 7 is_stmt 1 view .LVU911
 2484              	.LVL233:
 2485              	.LBB300:
 2486              	.LBI297:
 725:lwIP/src/core/pbuf.c **** {
 2487              		.loc 1 725 1 view .LVU912
 2488              	.LBB299:
 727:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 2489              		.loc 1 727 3 view .LVU913
 728:lwIP/src/core/pbuf.c ****   u8_t count;
 2490              		.loc 1 728 3 view .LVU914
 729:lwIP/src/core/pbuf.c **** 
 2491              		.loc 1 729 3 view .LVU915
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 2492              		.loc 1 731 3 view .LVU916
 2493 0032 FFF7FEFF 		bl	pbuf_free.part.0
 2494              	.LVL234:
 797:lwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 2495              		.loc 1 797 25 view .LVU917
 799:lwIP/src/core/pbuf.c **** }
 2496              		.loc 1 799 3 view .LVU918
 799:lwIP/src/core/pbuf.c **** }
 2497              		.loc 1 799 3 is_stmt 0 view .LVU919
 2498              	.LBE299:
 2499              	.LBE300:
 2500              	.LBE308:
 675:lwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
ARM GAS  /tmp/ccJoevLK.s 			page 75


 2501              		.loc 1 675 9 is_stmt 1 view .LVU920
 2502 0036 2B46     		mov	r3, r5
 2503 0038 0CB1     		cbz	r4, .L185
 2504 003a 002D     		cmp	r5, #0
 2505 003c E6D1     		bne	.L182
 2506              	.L185:
 2507              	.LBB309:
 679:lwIP/src/core/pbuf.c ****       f->next = 0;
 2508              		.loc 1 679 9 is_stmt 0 view .LVU921
 2509 003e 2B46     		mov	r3, r5
 2510 0040 F2E7     		b	.L180
 2511              	.LVL235:
 2512              	.L196:
 2513              	.LCFI14:
 2514              		.cfi_def_cfa_offset 0
 2515              		.cfi_restore 4
 2516              		.cfi_restore 5
 2517              		.cfi_restore 6
 2518              		.cfi_restore 14
 679:lwIP/src/core/pbuf.c ****       f->next = 0;
 2519              		.loc 1 679 9 view .LVU922
 2520              	.LBE309:
 687:lwIP/src/core/pbuf.c **** }
 2521              		.loc 1 687 3 is_stmt 1 view .LVU923
 688:lwIP/src/core/pbuf.c **** 
 2522              		.loc 1 688 1 is_stmt 0 view .LVU924
 2523 0042 7047     		bx	lr
 2524              		.cfi_endproc
 2525              	.LFE117:
 2527              		.section	.text.pbuf_free,"ax",%progbits
 2528              		.align	1
 2529              		.p2align 2,,3
 2530              		.global	pbuf_free
 2531              		.syntax unified
 2532              		.thumb
 2533              		.thumb_func
 2534              		.fpu fpv4-sp-d16
 2536              	pbuf_free:
 2537              	.LVL236:
 2538              	.LFB118:
 726:lwIP/src/core/pbuf.c ****   u8_t alloc_src;
 2539              		.loc 1 726 1 is_stmt 1 view -0
 2540              		.cfi_startproc
 2541              		@ args = 0, pretend = 0, frame = 0
 2542              		@ frame_needed = 0, uses_anonymous_args = 0
 727:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 2543              		.loc 1 727 3 view .LVU926
 728:lwIP/src/core/pbuf.c ****   u8_t count;
 2544              		.loc 1 728 3 view .LVU927
 729:lwIP/src/core/pbuf.c **** 
 2545              		.loc 1 729 3 view .LVU928
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 2546              		.loc 1 731 3 view .LVU929
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 2547              		.loc 1 731 6 is_stmt 0 view .LVU930
 2548 0000 08B1     		cbz	r0, .L206
 2549 0002 FFF7FEBF 		b	pbuf_free.part.0
ARM GAS  /tmp/ccJoevLK.s 			page 76


 2550              	.LVL237:
 2551              	.L206:
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2552              		.loc 1 732 5 is_stmt 1 discriminator 1 view .LVU931
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2553              		.loc 1 732 5 discriminator 1 view .LVU932
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2554              		.loc 1 732 5 discriminator 1 view .LVU933
 2555 0006 0248     		ldr	r0, .L207
 2556              	.LVL238:
 726:lwIP/src/core/pbuf.c ****   u8_t alloc_src;
 2557              		.loc 1 726 1 is_stmt 0 discriminator 1 view .LVU934
 2558 0008 08B5     		push	{r3, lr}
 2559              	.LCFI15:
 2560              		.cfi_def_cfa_offset 8
 2561              		.cfi_offset 3, -8
 2562              		.cfi_offset 14, -4
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2563              		.loc 1 732 5 discriminator 1 view .LVU935
 2564 000a FFF7FEFF 		bl	printf
 2565              	.LVL239:
 2566              	.L202:
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2567              		.loc 1 732 5 is_stmt 1 discriminator 1 view .LVU936
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2568              		.loc 1 732 5 discriminator 1 view .LVU937
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2569              		.loc 1 732 5 discriminator 1 view .LVU938
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2570              		.loc 1 732 5 discriminator 1 view .LVU939
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2571              		.loc 1 732 5 discriminator 1 view .LVU940
 732:lwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 2572              		.loc 1 732 5 discriminator 1 view .LVU941
 2573 000e FEE7     		b	.L202
 2574              	.L208:
 2575              		.align	2
 2576              	.L207:
 2577 0010 00000000 		.word	.LC8
 2578              		.cfi_endproc
 2579              	.LFE118:
 2581              		.section	.text.pbuf_clen,"ax",%progbits
 2582              		.align	1
 2583              		.p2align 2,,3
 2584              		.global	pbuf_clen
 2585              		.syntax unified
 2586              		.thumb
 2587              		.thumb_func
 2588              		.fpu fpv4-sp-d16
 2590              	pbuf_clen:
 2591              	.LVL240:
 2592              	.LFB119:
 801:lwIP/src/core/pbuf.c **** 
 802:lwIP/src/core/pbuf.c **** /**
 803:lwIP/src/core/pbuf.c ****  * Count number of pbufs in a chain
 804:lwIP/src/core/pbuf.c ****  *
 805:lwIP/src/core/pbuf.c ****  * @param p first pbuf of chain
ARM GAS  /tmp/ccJoevLK.s 			page 77


 806:lwIP/src/core/pbuf.c ****  * @return the number of pbufs in a chain
 807:lwIP/src/core/pbuf.c ****  */
 808:lwIP/src/core/pbuf.c **** u16_t
 809:lwIP/src/core/pbuf.c **** pbuf_clen(const struct pbuf *p)
 810:lwIP/src/core/pbuf.c **** {
 2593              		.loc 1 810 1 view -0
 2594              		.cfi_startproc
 2595              		@ args = 0, pretend = 0, frame = 0
 2596              		@ frame_needed = 0, uses_anonymous_args = 0
 2597              		@ link register save eliminated.
 811:lwIP/src/core/pbuf.c ****   u16_t len;
 2598              		.loc 1 811 3 view .LVU943
 812:lwIP/src/core/pbuf.c **** 
 813:lwIP/src/core/pbuf.c ****   len = 0;
 2599              		.loc 1 813 3 view .LVU944
 814:lwIP/src/core/pbuf.c ****   while (p != NULL) {
 2600              		.loc 1 814 3 view .LVU945
 2601              		.loc 1 814 9 view .LVU946
 2602 0000 0346     		mov	r3, r0
 2603 0002 30B1     		cbz	r0, .L212
 813:lwIP/src/core/pbuf.c ****   while (p != NULL) {
 2604              		.loc 1 813 7 is_stmt 0 view .LVU947
 2605 0004 0020     		movs	r0, #0
 2606              	.LVL241:
 2607              	.L211:
 815:lwIP/src/core/pbuf.c ****     ++len;
 2608              		.loc 1 815 5 is_stmt 1 view .LVU948
 2609 0006 0130     		adds	r0, r0, #1
 2610              	.LVL242:
 816:lwIP/src/core/pbuf.c ****     p = p->next;
 2611              		.loc 1 816 7 is_stmt 0 view .LVU949
 2612 0008 1B68     		ldr	r3, [r3]
 2613              	.LVL243:
 815:lwIP/src/core/pbuf.c ****     ++len;
 2614              		.loc 1 815 5 view .LVU950
 2615 000a 80B2     		uxth	r0, r0
 2616              	.LVL244:
 2617              		.loc 1 816 5 is_stmt 1 view .LVU951
 814:lwIP/src/core/pbuf.c ****     ++len;
 2618              		.loc 1 814 9 view .LVU952
 2619 000c 002B     		cmp	r3, #0
 2620 000e FAD1     		bne	.L211
 2621 0010 7047     		bx	lr
 2622              	.LVL245:
 2623              	.L212:
 817:lwIP/src/core/pbuf.c ****   }
 818:lwIP/src/core/pbuf.c ****   return len;
 2624              		.loc 1 818 3 view .LVU953
 819:lwIP/src/core/pbuf.c **** }
 2625              		.loc 1 819 1 is_stmt 0 view .LVU954
 2626 0012 7047     		bx	lr
 2627              		.cfi_endproc
 2628              	.LFE119:
 2630              		.section	.rodata.pbuf_ref.str1.4,"aMS",%progbits,1
 2631              		.align	2
 2632              	.LC10:
 2633 0000 70627566 		.ascii	"pbuf ref overflow\000"
ARM GAS  /tmp/ccJoevLK.s 			page 78


 2633      20726566 
 2633      206F7665 
 2633      72666C6F 
 2633      7700
 2634              		.section	.text.pbuf_ref,"ax",%progbits
 2635              		.align	1
 2636              		.p2align 2,,3
 2637              		.global	pbuf_ref
 2638              		.syntax unified
 2639              		.thumb
 2640              		.thumb_func
 2641              		.fpu fpv4-sp-d16
 2643              	pbuf_ref:
 2644              	.LVL246:
 2645              	.LFB120:
 820:lwIP/src/core/pbuf.c **** 
 821:lwIP/src/core/pbuf.c **** /**
 822:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 823:lwIP/src/core/pbuf.c ****  * Increment the reference count of the pbuf.
 824:lwIP/src/core/pbuf.c ****  *
 825:lwIP/src/core/pbuf.c ****  * @param p pbuf to increase reference counter of
 826:lwIP/src/core/pbuf.c ****  *
 827:lwIP/src/core/pbuf.c ****  */
 828:lwIP/src/core/pbuf.c **** void
 829:lwIP/src/core/pbuf.c **** pbuf_ref(struct pbuf *p)
 830:lwIP/src/core/pbuf.c **** {
 2646              		.loc 1 830 1 is_stmt 1 view -0
 2647              		.cfi_startproc
 2648              		@ args = 0, pretend = 0, frame = 0
 2649              		@ frame_needed = 0, uses_anonymous_args = 0
 831:lwIP/src/core/pbuf.c ****   /* pbuf given? */
 832:lwIP/src/core/pbuf.c ****   if (p != NULL) {
 2650              		.loc 1 832 3 view .LVU956
 2651              		.loc 1 832 6 is_stmt 0 view .LVU957
 2652 0000 50B1     		cbz	r0, .L221
 833:lwIP/src/core/pbuf.c ****     SYS_ARCH_SET(p->ref, (LWIP_PBUF_REF_T)(p->ref + 1));
 2653              		.loc 1 833 5 is_stmt 1 view .LVU958
 2654              		.loc 1 833 5 view .LVU959
 2655              		.loc 1 833 5 view .LVU960
 2656              		.loc 1 833 5 view .LVU961
 830:lwIP/src/core/pbuf.c ****   /* pbuf given? */
 2657              		.loc 1 830 1 is_stmt 0 view .LVU962
 2658 0002 08B5     		push	{r3, lr}
 2659              	.LCFI16:
 2660              		.cfi_def_cfa_offset 8
 2661              		.cfi_offset 3, -8
 2662              		.cfi_offset 14, -4
 2663              		.loc 1 833 5 view .LVU963
 2664 0004 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 2665 0006 0133     		adds	r3, r3, #1
 2666 0008 DBB2     		uxtb	r3, r3
 2667 000a 8373     		strb	r3, [r0, #14]
 2668              		.loc 1 833 5 is_stmt 1 view .LVU964
 2669              		.loc 1 833 5 view .LVU965
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2670              		.loc 1 834 5 view .LVU966
 2671              		.loc 1 834 5 view .LVU967
ARM GAS  /tmp/ccJoevLK.s 			page 79


 2672 000c 03B1     		cbz	r3, .L224
 835:lwIP/src/core/pbuf.c ****   }
 836:lwIP/src/core/pbuf.c **** }
 2673              		.loc 1 836 1 is_stmt 0 view .LVU968
 2674 000e 08BD     		pop	{r3, pc}
 2675              	.L224:
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2676              		.loc 1 834 5 is_stmt 1 discriminator 1 view .LVU969
 2677 0010 0248     		ldr	r0, .L225
 2678              	.LVL247:
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2679              		.loc 1 834 5 is_stmt 0 discriminator 1 view .LVU970
 2680 0012 FFF7FEFF 		bl	printf
 2681              	.LVL248:
 2682              	.L216:
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2683              		.loc 1 834 5 is_stmt 1 discriminator 1 view .LVU971
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2684              		.loc 1 834 5 discriminator 1 view .LVU972
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2685              		.loc 1 834 5 discriminator 1 view .LVU973
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2686              		.loc 1 834 5 discriminator 1 view .LVU974
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2687              		.loc 1 834 5 discriminator 1 view .LVU975
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2688              		.loc 1 834 5 discriminator 1 view .LVU976
 2689 0016 FEE7     		b	.L216
 2690              	.LVL249:
 2691              	.L221:
 2692              	.LCFI17:
 2693              		.cfi_def_cfa_offset 0
 2694              		.cfi_restore 3
 2695              		.cfi_restore 14
 834:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2696              		.loc 1 834 5 is_stmt 0 discriminator 1 view .LVU977
 2697 0018 7047     		bx	lr
 2698              	.L226:
 2699 001a 00BF     		.align	2
 2700              	.L225:
 2701 001c 00000000 		.word	.LC10
 2702              		.cfi_endproc
 2703              	.LFE120:
 2705              		.section	.rodata.pbuf_cat.str1.4,"aMS",%progbits,1
 2706              		.align	2
 2707              	.LC11:
 2708 0000 28682021 		.ascii	"(h != NULL) && (t != NULL) (programmer violates API"
 2708      3D204E55 
 2708      4C4C2920 
 2708      26262028 
 2708      7420213D 
 2709 0033 2900     		.ascii	")\000"
 2710 0035 000000   		.align	2
 2711              	.LC12:
 2712 0038 702D3E74 		.ascii	"p->tot_len == p->len (of last pbuf in chain)\000"
 2712      6F745F6C 
 2712      656E203D 
ARM GAS  /tmp/ccJoevLK.s 			page 80


 2712      3D20702D 
 2712      3E6C656E 
 2713              		.section	.text.pbuf_cat,"ax",%progbits
 2714              		.align	1
 2715              		.p2align 2,,3
 2716              		.global	pbuf_cat
 2717              		.syntax unified
 2718              		.thumb
 2719              		.thumb_func
 2720              		.fpu fpv4-sp-d16
 2722              	pbuf_cat:
 2723              	.LVL250:
 2724              	.LFB121:
 837:lwIP/src/core/pbuf.c **** 
 838:lwIP/src/core/pbuf.c **** /**
 839:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 840:lwIP/src/core/pbuf.c ****  * Concatenate two pbufs (each may be a pbuf chain) and take over
 841:lwIP/src/core/pbuf.c ****  * the caller's reference of the tail pbuf.
 842:lwIP/src/core/pbuf.c ****  *
 843:lwIP/src/core/pbuf.c ****  * @note The caller MAY NOT reference the tail pbuf afterwards.
 844:lwIP/src/core/pbuf.c ****  * Use pbuf_chain() for that purpose.
 845:lwIP/src/core/pbuf.c ****  *
 846:lwIP/src/core/pbuf.c ****  * This function explicitly does not check for tot_len overflow to prevent
 847:lwIP/src/core/pbuf.c ****  * failing to queue too long pbufs. This can produce invalid pbufs, so
 848:lwIP/src/core/pbuf.c ****  * handle with care!
 849:lwIP/src/core/pbuf.c ****  *
 850:lwIP/src/core/pbuf.c ****  * @see pbuf_chain()
 851:lwIP/src/core/pbuf.c ****  */
 852:lwIP/src/core/pbuf.c **** void
 853:lwIP/src/core/pbuf.c **** pbuf_cat(struct pbuf *h, struct pbuf *t)
 854:lwIP/src/core/pbuf.c **** {
 2725              		.loc 1 854 1 is_stmt 1 view -0
 2726              		.cfi_startproc
 2727              		@ args = 0, pretend = 0, frame = 0
 2728              		@ frame_needed = 0, uses_anonymous_args = 0
 855:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 2729              		.loc 1 855 3 view .LVU979
 856:lwIP/src/core/pbuf.c **** 
 857:lwIP/src/core/pbuf.c ****   LWIP_ERROR("(h != NULL) && (t != NULL) (programmer violates API)",
 2730              		.loc 1 857 3 view .LVU980
 2731              		.loc 1 857 3 view .LVU981
 854:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 2732              		.loc 1 854 1 is_stmt 0 view .LVU982
 2733 0000 10B5     		push	{r4, lr}
 2734              	.LCFI18:
 2735              		.cfi_def_cfa_offset 8
 2736              		.cfi_offset 4, -8
 2737              		.cfi_offset 14, -4
 2738              		.loc 1 857 3 view .LVU983
 2739 0002 B8B1     		cbz	r0, .L228
 2740 0004 B1B1     		cbz	r1, .L228
 2741              	.LVL251:
 2742              	.LBB312:
 2743              	.LBB313:
 858:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 859:lwIP/src/core/pbuf.c **** 
 860:lwIP/src/core/pbuf.c ****   /* proceed to last pbuf of chain */
ARM GAS  /tmp/ccJoevLK.s 			page 81


 861:lwIP/src/core/pbuf.c ****   for (p = h; p->next != NULL; p = p->next) {
 2744              		.loc 1 861 15 is_stmt 1 view .LVU984
 2745              		.loc 1 861 16 is_stmt 0 view .LVU985
 2746 0006 0368     		ldr	r3, [r0]
 2747              		.loc 1 861 3 view .LVU986
 2748 0008 3BB1     		cbz	r3, .L230
 2749              	.LVL252:
 2750              	.L229:
 862:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 863:lwIP/src/core/pbuf.c ****     p->tot_len = (u16_t)(p->tot_len + t->tot_len);
 2751              		.loc 1 863 5 is_stmt 1 view .LVU987
 2752              		.loc 1 863 18 is_stmt 0 view .LVU988
 2753 000a 0289     		ldrh	r2, [r0, #8]
 2754 000c 0C89     		ldrh	r4, [r1, #8]
 2755 000e 2244     		add	r2, r2, r4
 2756              		.loc 1 863 16 view .LVU989
 2757 0010 0281     		strh	r2, [r0, #8]	@ movhi
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2758              		.loc 1 861 32 is_stmt 1 view .LVU990
 2759              	.LVL253:
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2760              		.loc 1 861 15 view .LVU991
 2761 0012 1846     		mov	r0, r3
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2762              		.loc 1 861 16 is_stmt 0 view .LVU992
 2763 0014 1B68     		ldr	r3, [r3]
 2764              	.LVL254:
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2765              		.loc 1 861 3 view .LVU993
 2766 0016 002B     		cmp	r3, #0
 2767 0018 F7D1     		bne	.L229
 2768              	.L230:
 864:lwIP/src/core/pbuf.c ****   }
 865:lwIP/src/core/pbuf.c ****   /* { p is last pbuf of first h chain, p->next == NULL } */
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len (of last pbuf in chain)", p->tot_len == p->len);
 2769              		.loc 1 866 3 is_stmt 1 view .LVU994
 2770              		.loc 1 866 3 view .LVU995
 2771 001a 0289     		ldrh	r2, [r0, #8]
 2772 001c 4389     		ldrh	r3, [r0, #10]
 2773 001e 9342     		cmp	r3, r2
 2774 0020 04D1     		bne	.L237
 2775              		.loc 1 866 3 view .LVU996
 867:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2776              		.loc 1 867 3 view .LVU997
 2777              		.loc 1 867 3 view .LVU998
 2778              		.loc 1 867 3 view .LVU999
 868:lwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 869:lwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + t->tot_len);
 2779              		.loc 1 869 3 view .LVU1000
 2780              		.loc 1 869 16 is_stmt 0 view .LVU1001
 2781 0022 0A89     		ldrh	r2, [r1, #8]
 870:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 871:lwIP/src/core/pbuf.c ****   p->next = t;
 2782              		.loc 1 871 11 view .LVU1002
 2783 0024 0160     		str	r1, [r0]
 869:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 2784              		.loc 1 869 16 view .LVU1003
ARM GAS  /tmp/ccJoevLK.s 			page 82


 2785 0026 1344     		add	r3, r3, r2
 869:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 2786              		.loc 1 869 14 view .LVU1004
 2787 0028 0381     		strh	r3, [r0, #8]	@ movhi
 2788              		.loc 1 871 3 is_stmt 1 view .LVU1005
 2789              	.LVL255:
 2790              		.loc 1 871 3 is_stmt 0 view .LVU1006
 2791              	.LBE313:
 2792              	.LBE312:
 872:lwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 873:lwIP/src/core/pbuf.c ****    * so netto there is no change to the reference count of t.
 874:lwIP/src/core/pbuf.c ****    */
 875:lwIP/src/core/pbuf.c **** }
 2793              		.loc 1 875 1 view .LVU1007
 2794 002a 10BD     		pop	{r4, pc}
 2795              	.LVL256:
 2796              	.L237:
 2797              	.LBB315:
 2798              	.LBB314:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2799              		.loc 1 866 3 is_stmt 1 view .LVU1008
 2800 002c 0348     		ldr	r0, .L238
 2801              	.LVL257:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2802              		.loc 1 866 3 is_stmt 0 view .LVU1009
 2803 002e FFF7FEFF 		bl	printf
 2804              	.LVL258:
 2805              	.L233:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2806              		.loc 1 866 3 is_stmt 1 view .LVU1010
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2807              		.loc 1 866 3 view .LVU1011
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2808              		.loc 1 866 3 view .LVU1012
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2809              		.loc 1 866 3 view .LVU1013
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2810              		.loc 1 866 3 view .LVU1014
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2811              		.loc 1 866 3 view .LVU1015
 2812 0032 FEE7     		b	.L233
 2813              	.LVL259:
 2814              	.L228:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2815              		.loc 1 866 3 is_stmt 0 view .LVU1016
 2816              	.LBE314:
 2817              	.LBE315:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2818              		.loc 1 857 3 is_stmt 1 discriminator 1 view .LVU1017
 2819 0034 0248     		ldr	r0, .L238+4
 2820              	.LVL260:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2821              		.loc 1 857 3 is_stmt 0 discriminator 1 view .LVU1018
 2822 0036 FFF7FEFF 		bl	printf
 2823              	.LVL261:
 2824              	.L231:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
ARM GAS  /tmp/ccJoevLK.s 			page 83


 2825              		.loc 1 857 3 is_stmt 1 discriminator 1 view .LVU1019
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2826              		.loc 1 857 3 discriminator 1 view .LVU1020
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2827              		.loc 1 857 3 discriminator 1 view .LVU1021
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2828              		.loc 1 857 3 discriminator 1 view .LVU1022
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2829              		.loc 1 857 3 discriminator 1 view .LVU1023
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2830              		.loc 1 857 3 discriminator 1 view .LVU1024
 2831 003a FEE7     		b	.L231
 2832              	.L239:
 2833              		.align	2
 2834              	.L238:
 2835 003c 38000000 		.word	.LC12
 2836 0040 00000000 		.word	.LC11
 2837              		.cfi_endproc
 2838              	.LFE121:
 2840              		.section	.text.pbuf_chain,"ax",%progbits
 2841              		.align	1
 2842              		.p2align 2,,3
 2843              		.global	pbuf_chain
 2844              		.syntax unified
 2845              		.thumb
 2846              		.thumb_func
 2847              		.fpu fpv4-sp-d16
 2849              	pbuf_chain:
 2850              	.LVL262:
 2851              	.LFB122:
 876:lwIP/src/core/pbuf.c **** 
 877:lwIP/src/core/pbuf.c **** /**
 878:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 879:lwIP/src/core/pbuf.c ****  * Chain two pbufs (or pbuf chains) together.
 880:lwIP/src/core/pbuf.c ****  *
 881:lwIP/src/core/pbuf.c ****  * The caller MUST call pbuf_free(t) once it has stopped
 882:lwIP/src/core/pbuf.c ****  * using it. Use pbuf_cat() instead if you no longer use t.
 883:lwIP/src/core/pbuf.c ****  *
 884:lwIP/src/core/pbuf.c ****  * @param h head pbuf (chain)
 885:lwIP/src/core/pbuf.c ****  * @param t tail pbuf (chain)
 886:lwIP/src/core/pbuf.c ****  * @note The pbufs MUST belong to the same packet.
 887:lwIP/src/core/pbuf.c ****  * @note MAY NOT be called on a packet queue.
 888:lwIP/src/core/pbuf.c ****  *
 889:lwIP/src/core/pbuf.c ****  * The ->tot_len fields of all pbufs of the head chain are adjusted.
 890:lwIP/src/core/pbuf.c ****  * The ->next field of the last pbuf of the head chain is adjusted.
 891:lwIP/src/core/pbuf.c ****  * The ->ref field of the first pbuf of the tail chain is adjusted.
 892:lwIP/src/core/pbuf.c ****  *
 893:lwIP/src/core/pbuf.c ****  */
 894:lwIP/src/core/pbuf.c **** void
 895:lwIP/src/core/pbuf.c **** pbuf_chain(struct pbuf *h, struct pbuf *t)
 896:lwIP/src/core/pbuf.c **** {
 2852              		.loc 1 896 1 view -0
 2853              		.cfi_startproc
 2854              		@ args = 0, pretend = 0, frame = 0
 2855              		@ frame_needed = 0, uses_anonymous_args = 0
 897:lwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 2856              		.loc 1 897 3 view .LVU1026
ARM GAS  /tmp/ccJoevLK.s 			page 84


 2857              	.LBB322:
 2858              	.LBI322:
 853:lwIP/src/core/pbuf.c **** {
 2859              		.loc 1 853 1 view .LVU1027
 2860              	.LBB323:
 855:lwIP/src/core/pbuf.c **** 
 2861              		.loc 1 855 3 view .LVU1028
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2862              		.loc 1 857 3 view .LVU1029
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2863              		.loc 1 857 3 view .LVU1030
 2864              	.LBE323:
 2865              	.LBE322:
 896:lwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 2866              		.loc 1 896 1 is_stmt 0 view .LVU1031
 2867 0000 10B5     		push	{r4, lr}
 2868              	.LCFI19:
 2869              		.cfi_def_cfa_offset 8
 2870              		.cfi_offset 4, -8
 2871              		.cfi_offset 14, -4
 2872              	.LBB330:
 2873              	.LBB328:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2874              		.loc 1 857 3 view .LVU1032
 2875 0002 E0B1     		cbz	r0, .L241
 2876 0004 D9B1     		cbz	r1, .L241
 2877              	.LVL263:
 2878              	.LBB324:
 2879              	.LBB325:
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2880              		.loc 1 861 15 is_stmt 1 view .LVU1033
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2881              		.loc 1 861 16 is_stmt 0 view .LVU1034
 2882 0006 0368     		ldr	r3, [r0]
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2883              		.loc 1 861 3 view .LVU1035
 2884 0008 3BB1     		cbz	r3, .L243
 2885              	.LVL264:
 2886              	.L242:
 863:lwIP/src/core/pbuf.c ****   }
 2887              		.loc 1 863 5 is_stmt 1 view .LVU1036
 863:lwIP/src/core/pbuf.c ****   }
 2888              		.loc 1 863 18 is_stmt 0 view .LVU1037
 2889 000a 0289     		ldrh	r2, [r0, #8]
 2890 000c 0C89     		ldrh	r4, [r1, #8]
 2891 000e 2244     		add	r2, r2, r4
 863:lwIP/src/core/pbuf.c ****   }
 2892              		.loc 1 863 16 view .LVU1038
 2893 0010 0281     		strh	r2, [r0, #8]	@ movhi
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2894              		.loc 1 861 32 is_stmt 1 view .LVU1039
 2895              	.LVL265:
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2896              		.loc 1 861 15 view .LVU1040
 2897 0012 1846     		mov	r0, r3
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2898              		.loc 1 861 16 is_stmt 0 view .LVU1041
ARM GAS  /tmp/ccJoevLK.s 			page 85


 2899 0014 1B68     		ldr	r3, [r3]
 2900              	.LVL266:
 861:lwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2901              		.loc 1 861 3 view .LVU1042
 2902 0016 002B     		cmp	r3, #0
 2903 0018 F7D1     		bne	.L242
 2904              	.L243:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2905              		.loc 1 866 3 is_stmt 1 view .LVU1043
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2906              		.loc 1 866 3 view .LVU1044
 2907 001a 0289     		ldrh	r2, [r0, #8]
 2908 001c 4389     		ldrh	r3, [r0, #10]
 2909 001e 9342     		cmp	r3, r2
 2910 0020 09D1     		bne	.L252
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2911              		.loc 1 866 3 view .LVU1045
 867:lwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 2912              		.loc 1 867 3 view .LVU1046
 867:lwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 2913              		.loc 1 867 3 view .LVU1047
 867:lwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 2914              		.loc 1 867 3 view .LVU1048
 869:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 2915              		.loc 1 869 3 view .LVU1049
 869:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 2916              		.loc 1 869 16 is_stmt 0 view .LVU1050
 2917 0022 0A89     		ldrh	r2, [r1, #8]
 871:lwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 2918              		.loc 1 871 11 view .LVU1051
 2919 0024 0160     		str	r1, [r0]
 869:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 2920              		.loc 1 869 16 view .LVU1052
 2921 0026 1344     		add	r3, r3, r2
 869:lwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 2922              		.loc 1 869 14 view .LVU1053
 2923 0028 0381     		strh	r3, [r0, #8]	@ movhi
 871:lwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 2924              		.loc 1 871 3 is_stmt 1 view .LVU1054
 2925              	.LVL267:
 871:lwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 2926              		.loc 1 871 3 is_stmt 0 view .LVU1055
 2927              	.LBE325:
 2928              	.LBE324:
 2929              	.LBE328:
 2930              	.LBE330:
 898:lwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 899:lwIP/src/core/pbuf.c ****   pbuf_ref(t);
 2931              		.loc 1 899 3 is_stmt 1 view .LVU1056
 2932              	.LBB331:
 2933              	.LBI331:
 829:lwIP/src/core/pbuf.c **** {
 2934              		.loc 1 829 1 view .LVU1057
 2935              	.LBB332:
 832:lwIP/src/core/pbuf.c ****     SYS_ARCH_SET(p->ref, (LWIP_PBUF_REF_T)(p->ref + 1));
 2936              		.loc 1 832 3 view .LVU1058
 833:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
ARM GAS  /tmp/ccJoevLK.s 			page 86


 2937              		.loc 1 833 5 view .LVU1059
 833:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2938              		.loc 1 833 5 view .LVU1060
 833:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2939              		.loc 1 833 5 view .LVU1061
 833:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2940              		.loc 1 833 5 view .LVU1062
 2941 002a 8B7B     		ldrb	r3, [r1, #14]	@ zero_extendqisi2
 2942 002c 0133     		adds	r3, r3, #1
 2943 002e DBB2     		uxtb	r3, r3
 2944 0030 8B73     		strb	r3, [r1, #14]
 2945              	.LVL268:
 833:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2946              		.loc 1 833 5 view .LVU1063
 833:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2947              		.loc 1 833 5 view .LVU1064
 834:lwIP/src/core/pbuf.c ****   }
 2948              		.loc 1 834 5 view .LVU1065
 834:lwIP/src/core/pbuf.c ****   }
 2949              		.loc 1 834 5 view .LVU1066
 2950 0032 43B1     		cbz	r3, .L253
 2951              	.LBE332:
 2952              	.LBE331:
 900:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 901:lwIP/src/core/pbuf.c **** }
 2953              		.loc 1 901 1 is_stmt 0 view .LVU1067
 2954 0034 10BD     		pop	{r4, pc}
 2955              	.LVL269:
 2956              	.L252:
 2957              	.LBB334:
 2958              	.LBB329:
 2959              	.LBB327:
 2960              	.LBB326:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2961              		.loc 1 866 3 is_stmt 1 view .LVU1068
 2962 0036 0648     		ldr	r0, .L254
 2963              	.LVL270:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2964              		.loc 1 866 3 is_stmt 0 view .LVU1069
 2965 0038 FFF7FEFF 		bl	printf
 2966              	.LVL271:
 2967              	.L246:
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2968              		.loc 1 866 3 is_stmt 1 view .LVU1070
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2969              		.loc 1 866 3 view .LVU1071
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2970              		.loc 1 866 3 view .LVU1072
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2971              		.loc 1 866 3 view .LVU1073
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2972              		.loc 1 866 3 view .LVU1074
 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2973              		.loc 1 866 3 view .LVU1075
 2974 003c FEE7     		b	.L246
 2975              	.LVL272:
 2976              	.L241:
ARM GAS  /tmp/ccJoevLK.s 			page 87


 866:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2977              		.loc 1 866 3 is_stmt 0 view .LVU1076
 2978              	.LBE326:
 2979              	.LBE327:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2980              		.loc 1 857 3 is_stmt 1 view .LVU1077
 2981 003e 0548     		ldr	r0, .L254+4
 2982              	.LVL273:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2983              		.loc 1 857 3 is_stmt 0 view .LVU1078
 2984 0040 FFF7FEFF 		bl	printf
 2985              	.LVL274:
 2986              	.L244:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2987              		.loc 1 857 3 is_stmt 1 view .LVU1079
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2988              		.loc 1 857 3 view .LVU1080
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2989              		.loc 1 857 3 view .LVU1081
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2990              		.loc 1 857 3 view .LVU1082
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2991              		.loc 1 857 3 view .LVU1083
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2992              		.loc 1 857 3 view .LVU1084
 2993 0044 FEE7     		b	.L244
 2994              	.LVL275:
 2995              	.L253:
 857:lwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 2996              		.loc 1 857 3 is_stmt 0 view .LVU1085
 2997              	.LBE329:
 2998              	.LBE334:
 2999              	.LBB335:
 3000              	.LBB333:
 834:lwIP/src/core/pbuf.c ****   }
 3001              		.loc 1 834 5 is_stmt 1 view .LVU1086
 3002 0046 0448     		ldr	r0, .L254+8
 3003 0048 FFF7FEFF 		bl	printf
 3004              	.LVL276:
 3005              	.L248:
 834:lwIP/src/core/pbuf.c ****   }
 3006              		.loc 1 834 5 view .LVU1087
 834:lwIP/src/core/pbuf.c ****   }
 3007              		.loc 1 834 5 view .LVU1088
 834:lwIP/src/core/pbuf.c ****   }
 3008              		.loc 1 834 5 view .LVU1089
 834:lwIP/src/core/pbuf.c ****   }
 3009              		.loc 1 834 5 view .LVU1090
 834:lwIP/src/core/pbuf.c ****   }
 3010              		.loc 1 834 5 view .LVU1091
 834:lwIP/src/core/pbuf.c ****   }
 3011              		.loc 1 834 5 view .LVU1092
 3012 004c FEE7     		b	.L248
 3013              	.L255:
 3014 004e 00BF     		.align	2
 3015              	.L254:
 3016 0050 38000000 		.word	.LC12
ARM GAS  /tmp/ccJoevLK.s 			page 88


 3017 0054 00000000 		.word	.LC11
 3018 0058 00000000 		.word	.LC10
 3019              	.LBE333:
 3020              	.LBE335:
 3021              		.cfi_endproc
 3022              	.LFE122:
 3024              		.section	.rodata.pbuf_dechain.str1.4,"aMS",%progbits,1
 3025              		.align	2
 3026              	.LC13:
 3027 0000 702D3E74 		.ascii	"p->tot_len == p->len\000"
 3027      6F745F6C 
 3027      656E203D 
 3027      3D20702D 
 3027      3E6C656E 
 3028 0015 000000   		.align	2
 3029              	.LC14:
 3030 0018 702D3E74 		.ascii	"p->tot_len == p->len + q->tot_len\000"
 3030      6F745F6C 
 3030      656E203D 
 3030      3D20702D 
 3030      3E6C656E 
 3031              		.section	.text.pbuf_dechain,"ax",%progbits
 3032              		.align	1
 3033              		.p2align 2,,3
 3034              		.global	pbuf_dechain
 3035              		.syntax unified
 3036              		.thumb
 3037              		.thumb_func
 3038              		.fpu fpv4-sp-d16
 3040              	pbuf_dechain:
 3041              	.LVL277:
 3042              	.LFB123:
 902:lwIP/src/core/pbuf.c **** 
 903:lwIP/src/core/pbuf.c **** /**
 904:lwIP/src/core/pbuf.c ****  * Dechains the first pbuf from its succeeding pbufs in the chain.
 905:lwIP/src/core/pbuf.c ****  *
 906:lwIP/src/core/pbuf.c ****  * Makes p->tot_len field equal to p->len.
 907:lwIP/src/core/pbuf.c ****  * @param p pbuf to dechain
 908:lwIP/src/core/pbuf.c ****  * @return remainder of the pbuf chain, or NULL if it was de-allocated.
 909:lwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 910:lwIP/src/core/pbuf.c ****  */
 911:lwIP/src/core/pbuf.c **** struct pbuf *
 912:lwIP/src/core/pbuf.c **** pbuf_dechain(struct pbuf *p)
 913:lwIP/src/core/pbuf.c **** {
 3043              		.loc 1 913 1 view -0
 3044              		.cfi_startproc
 3045              		@ args = 0, pretend = 0, frame = 0
 3046              		@ frame_needed = 0, uses_anonymous_args = 0
 914:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 3047              		.loc 1 914 3 view .LVU1094
 915:lwIP/src/core/pbuf.c ****   u8_t tail_gone = 1;
 3048              		.loc 1 915 3 view .LVU1095
 916:lwIP/src/core/pbuf.c ****   /* tail */
 917:lwIP/src/core/pbuf.c ****   q = p->next;
 3049              		.loc 1 917 3 view .LVU1096
 913:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 3050              		.loc 1 913 1 is_stmt 0 view .LVU1097
ARM GAS  /tmp/ccJoevLK.s 			page 89


 3051 0000 38B5     		push	{r3, r4, r5, lr}
 3052              	.LCFI20:
 3053              		.cfi_def_cfa_offset 16
 3054              		.cfi_offset 3, -16
 3055              		.cfi_offset 4, -12
 3056              		.cfi_offset 5, -8
 3057              		.cfi_offset 14, -4
 3058              		.loc 1 917 5 view .LVU1098
 3059 0002 0568     		ldr	r5, [r0]
 3060              	.LVL278:
 918:lwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 919:lwIP/src/core/pbuf.c ****   if (q != NULL) {
 3061              		.loc 1 919 3 is_stmt 1 view .LVU1099
 3062 0004 0389     		ldrh	r3, [r0, #8]
 3063 0006 4289     		ldrh	r2, [r0, #10]
 3064              		.loc 1 919 6 is_stmt 0 view .LVU1100
 3065 0008 B5B1     		cbz	r5, .L267
 920:lwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 921:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->tot_len == p->len + q->tot_len", q->tot_len == p->tot_len - p->len);
 3066              		.loc 1 921 5 is_stmt 1 view .LVU1101
 3067              		.loc 1 921 5 view .LVU1102
 3068 000a 9B1A     		subs	r3, r3, r2
 3069 000c 2989     		ldrh	r1, [r5, #8]
 3070 000e 9942     		cmp	r1, r3
 3071 0010 03D0     		beq	.L261
 3072              		.loc 1 921 5 discriminator 1 view .LVU1103
 3073 0012 0E48     		ldr	r0, .L268
 3074              	.LVL279:
 3075              		.loc 1 921 5 is_stmt 0 discriminator 1 view .LVU1104
 3076 0014 FFF7FEFF 		bl	printf
 3077              	.LVL280:
 3078              	.L262:
 3079              		.loc 1 921 5 is_stmt 1 discriminator 1 view .LVU1105
 3080              		.loc 1 921 5 discriminator 1 view .LVU1106
 3081              		.loc 1 921 5 discriminator 1 view .LVU1107
 3082              		.loc 1 921 5 discriminator 1 view .LVU1108
 3083              		.loc 1 921 5 discriminator 1 view .LVU1109
 3084              		.loc 1 921 5 discriminator 1 view .LVU1110
 3085 0018 FEE7     		b	.L262
 3086              	.LVL281:
 3087              	.L261:
 3088              		.loc 1 921 5 is_stmt 0 discriminator 1 view .LVU1111
 3089 001a 0446     		mov	r4, r0
 3090              		.loc 1 921 5 is_stmt 1 discriminator 2 view .LVU1112
 922:lwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 923:lwIP/src/core/pbuf.c ****     q->tot_len = (u16_t)(p->tot_len - p->len);
 3091              		.loc 1 923 5 discriminator 2 view .LVU1113
 924:lwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 925:lwIP/src/core/pbuf.c ****     p->next = NULL;
 3092              		.loc 1 925 13 is_stmt 0 discriminator 2 view .LVU1114
 3093 001c 0023     		movs	r3, #0
 923:lwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 3094              		.loc 1 923 16 discriminator 2 view .LVU1115
 3095 001e 2981     		strh	r1, [r5, #8]	@ movhi
 3096              		.loc 1 925 5 is_stmt 1 discriminator 2 view .LVU1116
 3097              	.LBB336:
 3098              	.LBB337:
ARM GAS  /tmp/ccJoevLK.s 			page 90


 3099 0020 2846     		mov	r0, r5
 3100              	.LVL282:
 3101              		.loc 1 925 5 is_stmt 0 discriminator 2 view .LVU1117
 3102              	.LBE337:
 3103              	.LBE336:
 926:lwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 927:lwIP/src/core/pbuf.c ****     p->tot_len = p->len;
 3104              		.loc 1 927 16 discriminator 2 view .LVU1118
 3105 0022 2281     		strh	r2, [r4, #8]	@ movhi
 925:lwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 3106              		.loc 1 925 13 discriminator 2 view .LVU1119
 3107 0024 2360     		str	r3, [r4]
 3108              		.loc 1 927 5 is_stmt 1 discriminator 2 view .LVU1120
 928:lwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 929:lwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_dechain: unreferencing %p\n", (void *)q));
 3109              		.loc 1 929 94 discriminator 2 view .LVU1121
 930:lwIP/src/core/pbuf.c ****     tail_gone = pbuf_free(q);
 3110              		.loc 1 930 5 discriminator 2 view .LVU1122
 3111              	.LVL283:
 3112              	.LBB340:
 3113              	.LBI336:
 725:lwIP/src/core/pbuf.c **** {
 3114              		.loc 1 725 1 discriminator 2 view .LVU1123
 3115              	.LBB338:
 727:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 3116              		.loc 1 727 3 discriminator 2 view .LVU1124
 728:lwIP/src/core/pbuf.c ****   u8_t count;
 3117              		.loc 1 728 3 discriminator 2 view .LVU1125
 729:lwIP/src/core/pbuf.c **** 
 3118              		.loc 1 729 3 discriminator 2 view .LVU1126
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 3119              		.loc 1 731 3 discriminator 2 view .LVU1127
 3120 0026 FFF7FEFF 		bl	pbuf_free.part.0
 3121              	.LVL284:
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 3122              		.loc 1 731 3 is_stmt 0 discriminator 2 view .LVU1128
 3123              	.LBE338:
 3124              	.LBE340:
 931:lwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 932:lwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE,
 933:lwIP/src/core/pbuf.c ****                   ("pbuf_dechain: deallocated %p (as it is no longer referenced)\n", (void *)q));
 934:lwIP/src/core/pbuf.c ****     }
 935:lwIP/src/core/pbuf.c ****     /* return remaining tail or NULL if deallocated */
 936:lwIP/src/core/pbuf.c ****   }
 937:lwIP/src/core/pbuf.c ****   /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 938:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len", p->tot_len == p->len);
 3125              		.loc 1 938 3 discriminator 2 view .LVU1129
 3126 002a 2289     		ldrh	r2, [r4, #8]
 3127 002c 6389     		ldrh	r3, [r4, #10]
 3128              	.LVL285:
 3129              	.LBB341:
 3130              	.LBB339:
 797:lwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 3131              		.loc 1 797 25 is_stmt 1 discriminator 2 view .LVU1130
 799:lwIP/src/core/pbuf.c **** }
 3132              		.loc 1 799 3 discriminator 2 view .LVU1131
 799:lwIP/src/core/pbuf.c **** }
ARM GAS  /tmp/ccJoevLK.s 			page 91


 3133              		.loc 1 799 3 is_stmt 0 discriminator 2 view .LVU1132
 3134              	.LBE339:
 3135              	.LBE341:
 931:lwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 3136              		.loc 1 931 5 is_stmt 1 discriminator 2 view .LVU1133
 933:lwIP/src/core/pbuf.c ****     }
 3137              		.loc 1 933 97 discriminator 2 view .LVU1134
 3138              		.loc 1 938 3 discriminator 2 view .LVU1135
 3139              		.loc 1 938 3 discriminator 2 view .LVU1136
 3140 002e 9A42     		cmp	r2, r3
 3141 0030 07D1     		bne	.L258
 3142              		.loc 1 938 3 discriminator 2 view .LVU1137
 939:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3143              		.loc 1 939 3 discriminator 2 view .LVU1138
 3144              		.loc 1 939 34 is_stmt 0 discriminator 2 view .LVU1139
 3145 0032 18B9     		cbnz	r0, .L264
 940:lwIP/src/core/pbuf.c **** }
 3146              		.loc 1 940 1 view .LVU1140
 3147 0034 2846     		mov	r0, r5
 3148              	.LVL286:
 3149              		.loc 1 940 1 view .LVU1141
 3150 0036 38BD     		pop	{r3, r4, r5, pc}
 3151              	.LVL287:
 3152              	.L267:
 933:lwIP/src/core/pbuf.c ****     }
 3153              		.loc 1 933 97 is_stmt 1 view .LVU1142
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3154              		.loc 1 938 3 view .LVU1143
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3155              		.loc 1 938 3 view .LVU1144
 3156 0038 9A42     		cmp	r2, r3
 3157 003a 02D1     		bne	.L258
 3158              	.LVL288:
 3159              	.L264:
 939:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3160              		.loc 1 939 34 is_stmt 0 view .LVU1145
 3161 003c 0025     		movs	r5, #0
 3162              	.LVL289:
 3163              		.loc 1 940 1 view .LVU1146
 3164 003e 2846     		mov	r0, r5
 3165 0040 38BD     		pop	{r3, r4, r5, pc}
 3166              	.LVL290:
 3167              	.L258:
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3168              		.loc 1 938 3 is_stmt 1 view .LVU1147
 3169 0042 0348     		ldr	r0, .L268+4
 3170 0044 FFF7FEFF 		bl	printf
 3171              	.LVL291:
 3172              	.L260:
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3173              		.loc 1 938 3 discriminator 2 view .LVU1148
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3174              		.loc 1 938 3 discriminator 2 view .LVU1149
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3175              		.loc 1 938 3 discriminator 2 view .LVU1150
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3176              		.loc 1 938 3 discriminator 2 view .LVU1151
ARM GAS  /tmp/ccJoevLK.s 			page 92


 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3177              		.loc 1 938 3 discriminator 2 view .LVU1152
 938:lwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 3178              		.loc 1 938 3 discriminator 2 view .LVU1153
 3179 0048 FEE7     		b	.L260
 3180              	.L269:
 3181 004a 00BF     		.align	2
 3182              	.L268:
 3183 004c 18000000 		.word	.LC14
 3184 0050 00000000 		.word	.LC13
 3185              		.cfi_endproc
 3186              	.LFE123:
 3188              		.section	.rodata.pbuf_copy.str1.4,"aMS",%progbits,1
 3189              		.align	2
 3190              	.LC15:
 3191 0000 70627566 		.ascii	"pbuf_copy: target not big enough to hold source\000"
 3191      5F636F70 
 3191      793A2074 
 3191      61726765 
 3191      74206E6F 
 3192              		.align	2
 3193              	.LC16:
 3194 0030 6F666673 		.ascii	"offset_to <= p_to->len\000"
 3194      65745F74 
 3194      6F203C3D 
 3194      20705F74 
 3194      6F2D3E6C 
 3195 0047 00       		.align	2
 3196              	.LC17:
 3197 0048 6F666673 		.ascii	"offset_from <= p_from->len\000"
 3197      65745F66 
 3197      726F6D20 
 3197      3C3D2070 
 3197      5F66726F 
 3198 0063 00       		.align	2
 3199              	.LC18:
 3200 0064 705F746F 		.ascii	"p_to != NULL\000"
 3200      20213D20 
 3200      4E554C4C 
 3200      00
 3201 0071 000000   		.align	2
 3202              	.LC19:
 3203 0074 70627566 		.ascii	"pbuf_copy() does not allow packet queues!\000"
 3203      5F636F70 
 3203      79282920 
 3203      646F6573 
 3203      206E6F74 
 3204              		.section	.text.pbuf_copy,"ax",%progbits
 3205              		.align	1
 3206              		.p2align 2,,3
 3207              		.global	pbuf_copy
 3208              		.syntax unified
 3209              		.thumb
 3210              		.thumb_func
 3211              		.fpu fpv4-sp-d16
 3213              	pbuf_copy:
 3214              	.LVL292:
ARM GAS  /tmp/ccJoevLK.s 			page 93


 3215              	.LFB124:
 941:lwIP/src/core/pbuf.c **** 
 942:lwIP/src/core/pbuf.c **** /**
 943:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
 944:lwIP/src/core/pbuf.c ****  * Create PBUF_RAM copies of pbufs.
 945:lwIP/src/core/pbuf.c ****  *
 946:lwIP/src/core/pbuf.c ****  * Used to queue packets on behalf of the lwIP stack, such as
 947:lwIP/src/core/pbuf.c ****  * ARP based queueing.
 948:lwIP/src/core/pbuf.c ****  *
 949:lwIP/src/core/pbuf.c ****  * @note You MUST explicitly use p = pbuf_take(p);
 950:lwIP/src/core/pbuf.c ****  *
 951:lwIP/src/core/pbuf.c ****  * @note Only one packet is copied, no packet queue!
 952:lwIP/src/core/pbuf.c ****  *
 953:lwIP/src/core/pbuf.c ****  * @param p_to pbuf destination of the copy
 954:lwIP/src/core/pbuf.c ****  * @param p_from pbuf source of the copy
 955:lwIP/src/core/pbuf.c ****  *
 956:lwIP/src/core/pbuf.c ****  * @return ERR_OK if pbuf was copied
 957:lwIP/src/core/pbuf.c ****  *         ERR_ARG if one of the pbufs is NULL or p_to is not big
 958:lwIP/src/core/pbuf.c ****  *                 enough to hold p_from
 959:lwIP/src/core/pbuf.c ****  */
 960:lwIP/src/core/pbuf.c **** err_t
 961:lwIP/src/core/pbuf.c **** pbuf_copy(struct pbuf *p_to, const struct pbuf *p_from)
 962:lwIP/src/core/pbuf.c **** {
 3216              		.loc 1 962 1 view -0
 3217              		.cfi_startproc
 3218              		@ args = 0, pretend = 0, frame = 0
 3219              		@ frame_needed = 0, uses_anonymous_args = 0
 963:lwIP/src/core/pbuf.c ****   size_t offset_to = 0, offset_from = 0, len;
 3220              		.loc 1 963 3 view .LVU1155
 964:lwIP/src/core/pbuf.c **** 
 965:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy(%p, %p)\n",
 966:lwIP/src/core/pbuf.c ****               (const void *)p_to, (const void *)p_from));
 3221              		.loc 1 966 57 view .LVU1156
 967:lwIP/src/core/pbuf.c **** 
 968:lwIP/src/core/pbuf.c ****   /* is the target big enough to hold the source? */
 969:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy: target not big enough to hold source", ((p_to != NULL) &&
 3222              		.loc 1 969 3 view .LVU1157
 3223              		.loc 1 969 3 view .LVU1158
 962:lwIP/src/core/pbuf.c ****   size_t offset_to = 0, offset_from = 0, len;
 3224              		.loc 1 962 1 is_stmt 0 view .LVU1159
 3225 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3226              	.LCFI21:
 3227              		.cfi_def_cfa_offset 24
 3228              		.cfi_offset 4, -24
 3229              		.cfi_offset 5, -20
 3230              		.cfi_offset 6, -16
 3231              		.cfi_offset 7, -12
 3232              		.cfi_offset 8, -8
 3233              		.cfi_offset 14, -4
 3234              		.loc 1 969 3 view .LVU1160
 3235 0004 0028     		cmp	r0, #0
 3236 0006 39D0     		beq	.L271
 3237 0008 B1FA81F6 		clz	r6, r1
 3238 000c 0D46     		mov	r5, r1
 3239 000e 7609     		lsrs	r6, r6, #5
 3240 0010 0029     		cmp	r1, #0
 3241 0012 33D0     		beq	.L271
ARM GAS  /tmp/ccJoevLK.s 			page 94


 3242              		.loc 1 969 3 discriminator 2 view .LVU1161
 3243 0014 0289     		ldrh	r2, [r0, #8]
 3244 0016 0446     		mov	r4, r0
 3245 0018 0B89     		ldrh	r3, [r1, #8]
 3246 001a 9A42     		cmp	r2, r3
 3247 001c 2ED3     		bcc	.L271
 3248 001e 4389     		ldrh	r3, [r0, #10]
 3249              	.LBB344:
 3250              	.LBB345:
 963:lwIP/src/core/pbuf.c **** 
 3251              		.loc 1 963 10 view .LVU1162
 3252 0020 3746     		mov	r7, r6
 3253 0022 4A89     		ldrh	r2, [r1, #10]
 3254 0024 0EE0     		b	.L272
 3255              	.LVL293:
 3256              	.L316:
 970:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 971:lwIP/src/core/pbuf.c **** 
 972:lwIP/src/core/pbuf.c ****   /* iterate through pbuf chain */
 973:lwIP/src/core/pbuf.c ****   do {
 974:lwIP/src/core/pbuf.c ****     /* copy one part of the original chain */
 975:lwIP/src/core/pbuf.c ****     if ((p_to->len - offset_to) >= (p_from->len - offset_from)) {
 976:lwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 977:lwIP/src/core/pbuf.c ****       len = p_from->len - offset_from;
 978:lwIP/src/core/pbuf.c ****     } else {
 979:lwIP/src/core/pbuf.c ****       /* current p_from does not fit into current p_to */
 980:lwIP/src/core/pbuf.c ****       len = p_to->len - offset_to;
 981:lwIP/src/core/pbuf.c ****     }
 982:lwIP/src/core/pbuf.c ****     MEMCPY((u8_t *)p_to->payload + offset_to, (u8_t *)p_from->payload + offset_from, len);
 983:lwIP/src/core/pbuf.c ****     offset_to += len;
 984:lwIP/src/core/pbuf.c ****     offset_from += len;
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 986:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 987:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 988:lwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 989:lwIP/src/core/pbuf.c ****       offset_from = 0;
 3257              		.loc 1 989 7 is_stmt 1 view .LVU1163
 990:lwIP/src/core/pbuf.c ****       p_from = p_from->next;
 3258              		.loc 1 990 7 view .LVU1164
 991:lwIP/src/core/pbuf.c ****     }
 992:lwIP/src/core/pbuf.c ****     if (offset_to == p_to->len) {
 3259              		.loc 1 992 8 is_stmt 0 view .LVU1165
 3260 0026 9F42     		cmp	r7, r3
 990:lwIP/src/core/pbuf.c ****       p_from = p_from->next;
 3261              		.loc 1 990 14 view .LVU1166
 3262 0028 2D68     		ldr	r5, [r5]
 3263              	.LVL294:
 3264              		.loc 1 992 5 is_stmt 1 view .LVU1167
 3265              		.loc 1 992 8 is_stmt 0 view .LVU1168
 3266 002a 32D0     		beq	.L311
 993:lwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 994:lwIP/src/core/pbuf.c ****       offset_to = 0;
 995:lwIP/src/core/pbuf.c ****       p_to = p_to->next;
 996:lwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL), return ERR_ARG;);
 3267              		.loc 1 996 7 is_stmt 1 view .LVU1169
 3268              		.loc 1 996 7 view .LVU1170
 997:lwIP/src/core/pbuf.c ****     }
ARM GAS  /tmp/ccJoevLK.s 			page 95


 998:lwIP/src/core/pbuf.c **** 
 999:lwIP/src/core/pbuf.c ****     if ((p_from != NULL) && (p_from->len == p_from->tot_len)) {
 3269              		.loc 1 999 5 view .LVU1171
 3270              		.loc 1 999 8 is_stmt 0 view .LVU1172
 3271 002c 002D     		cmp	r5, #0
 3272 002e 34D0     		beq	.L288
 989:lwIP/src/core/pbuf.c ****       p_from = p_from->next;
 3273              		.loc 1 989 19 view .LVU1173
 3274 0030 0026     		movs	r6, #0
 3275              	.LVL295:
 3276              	.L293:
 989:lwIP/src/core/pbuf.c ****       p_from = p_from->next;
 3277              		.loc 1 989 19 view .LVU1174
 3278 0032 6A89     		ldrh	r2, [r5, #10]
 3279              	.L292:
 3280              		.loc 1 999 26 view .LVU1175
 3281 0034 2B89     		ldrh	r3, [r5, #8]
 3282 0036 9342     		cmp	r3, r2
 3283 0038 24D0     		beq	.L312
 3284              	.L283:
1000:lwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
1001:lwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 3285              		.loc 1 1001 7 is_stmt 1 view .LVU1176
 3286              		.loc 1 1001 7 view .LVU1177
1002:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
1003:lwIP/src/core/pbuf.c ****     }
1004:lwIP/src/core/pbuf.c ****     if ((p_to != NULL) && (p_to->len == p_to->tot_len)) {
 3287              		.loc 1 1004 5 view .LVU1178
 3288 003a 6389     		ldrh	r3, [r4, #10]
 3289              		.loc 1 1004 24 is_stmt 0 view .LVU1179
 3290 003c 2289     		ldrh	r2, [r4, #8]
 3291 003e 9A42     		cmp	r2, r3
 3292 0040 45D0     		beq	.L313
 3293              	.L290:
 3294 0042 6A89     		ldrh	r2, [r5, #10]
 3295              	.LVL296:
 3296              	.L272:
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3297              		.loc 1 969 3 is_stmt 1 view .LVU1180
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3298              		.loc 1 969 3 view .LVU1181
 973:lwIP/src/core/pbuf.c ****     /* copy one part of the original chain */
 3299              		.loc 1 973 3 view .LVU1182
 975:lwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 3300              		.loc 1 975 5 view .LVU1183
 975:lwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 3301              		.loc 1 975 20 is_stmt 0 view .LVU1184
 3302 0044 DB1B     		subs	r3, r3, r7
 975:lwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 3303              		.loc 1 975 49 view .LVU1185
 3304 0046 921B     		subs	r2, r2, r6
 982:lwIP/src/core/pbuf.c ****     offset_to += len;
 3305              		.loc 1 982 5 view .LVU1186
 3306 0048 6068     		ldr	r0, [r4, #4]
 3307 004a 9342     		cmp	r3, r2
 3308 004c 6968     		ldr	r1, [r5, #4]
 3309 004e 3844     		add	r0, r0, r7
ARM GAS  /tmp/ccJoevLK.s 			page 96


 3310 0050 28BF     		it	cs
 3311 0052 1346     		movcs	r3, r2
 3312 0054 3144     		add	r1, r1, r6
 3313 0056 1A46     		mov	r2, r3
 3314 0058 9846     		mov	r8, r3
 3315              	.LVL297:
 982:lwIP/src/core/pbuf.c ****     offset_to += len;
 3316              		.loc 1 982 5 is_stmt 1 view .LVU1187
 983:lwIP/src/core/pbuf.c ****     offset_from += len;
 3317              		.loc 1 983 15 is_stmt 0 view .LVU1188
 3318 005a 1F44     		add	r7, r7, r3
 3319              	.LVL298:
 982:lwIP/src/core/pbuf.c ****     offset_to += len;
 3320              		.loc 1 982 5 view .LVU1189
 3321 005c FFF7FEFF 		bl	memcpy
 3322              	.LVL299:
 983:lwIP/src/core/pbuf.c ****     offset_from += len;
 3323              		.loc 1 983 5 is_stmt 1 view .LVU1190
 984:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 3324              		.loc 1 984 5 view .LVU1191
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3325              		.loc 1 985 5 is_stmt 0 view .LVU1192
 3326 0060 6389     		ldrh	r3, [r4, #10]
 984:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 3327              		.loc 1 984 17 view .LVU1193
 3328 0062 4644     		add	r6, r6, r8
 3329              	.LVL300:
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3330              		.loc 1 985 5 is_stmt 1 view .LVU1194
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3331              		.loc 1 985 5 view .LVU1195
 3332 0064 9F42     		cmp	r7, r3
 3333 0066 27D8     		bhi	.L314
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3334              		.loc 1 985 5 view .LVU1196
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3335              		.loc 1 986 5 view .LVU1197
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3336              		.loc 1 986 5 view .LVU1198
 3337 0068 6A89     		ldrh	r2, [r5, #10]
 3338 006a 9642     		cmp	r6, r2
 3339 006c 2BD8     		bhi	.L315
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3340              		.loc 1 986 5 view .LVU1199
 987:lwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 3341              		.loc 1 987 5 view .LVU1200
 987:lwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 3342              		.loc 1 987 8 is_stmt 0 view .LVU1201
 3343 006e DAD0     		beq	.L316
 992:lwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 3344              		.loc 1 992 5 is_stmt 1 view .LVU1202
 992:lwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 3345              		.loc 1 992 8 is_stmt 0 view .LVU1203
 3346 0070 9F42     		cmp	r7, r3
 3347 0072 DFD1     		bne	.L292
 994:lwIP/src/core/pbuf.c ****       p_to = p_to->next;
 3348              		.loc 1 994 7 is_stmt 1 view .LVU1204
ARM GAS  /tmp/ccJoevLK.s 			page 97


 3349              	.LVL301:
 995:lwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL), return ERR_ARG;);
 3350              		.loc 1 995 7 view .LVU1205
 995:lwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL), return ERR_ARG;);
 3351              		.loc 1 995 12 is_stmt 0 view .LVU1206
 3352 0074 2468     		ldr	r4, [r4]
 3353              	.LVL302:
 996:lwIP/src/core/pbuf.c ****     }
 3354              		.loc 1 996 7 is_stmt 1 view .LVU1207
 996:lwIP/src/core/pbuf.c ****     }
 3355              		.loc 1 996 7 view .LVU1208
 3356 0076 74B3     		cbz	r4, .L294
 994:lwIP/src/core/pbuf.c ****       p_to = p_to->next;
 3357              		.loc 1 994 17 is_stmt 0 view .LVU1209
 3358 0078 0027     		movs	r7, #0
 3359 007a DAE7     		b	.L293
 3360              	.LVL303:
 3361              	.L271:
 994:lwIP/src/core/pbuf.c ****       p_to = p_to->next;
 3362              		.loc 1 994 17 view .LVU1210
 3363              	.LBE345:
 3364              	.LBE344:
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3365              		.loc 1 969 3 is_stmt 1 discriminator 3 view .LVU1211
 3366 007c 1848     		ldr	r0, .L317
 3367              	.LVL304:
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3368              		.loc 1 969 3 is_stmt 0 discriminator 3 view .LVU1212
 3369 007e FFF7FEFF 		bl	printf
 3370              	.LVL305:
 3371              	.L273:
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3372              		.loc 1 969 3 is_stmt 1 discriminator 1 view .LVU1213
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3373              		.loc 1 969 3 discriminator 1 view .LVU1214
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3374              		.loc 1 969 3 discriminator 1 view .LVU1215
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3375              		.loc 1 969 3 discriminator 1 view .LVU1216
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3376              		.loc 1 969 3 discriminator 1 view .LVU1217
 969:lwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 3377              		.loc 1 969 3 discriminator 1 view .LVU1218
 3378 0082 FEE7     		b	.L273
 3379              	.LVL306:
 3380              	.L312:
 3381              	.LBB348:
 3382              	.LBB346:
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3383              		.loc 1 1001 7 view .LVU1219
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3384              		.loc 1 1001 7 view .LVU1220
 3385 0084 2B68     		ldr	r3, [r5]
 3386 0086 002B     		cmp	r3, #0
 3387 0088 D7D0     		beq	.L283
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3388              		.loc 1 1001 7 view .LVU1221
ARM GAS  /tmp/ccJoevLK.s 			page 98


 3389 008a 1648     		ldr	r0, .L317+4
 3390 008c FFF7FEFF 		bl	printf
 3391              	.LVL307:
 3392              	.L284:
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3393              		.loc 1 1001 7 view .LVU1222
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3394              		.loc 1 1001 7 view .LVU1223
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3395              		.loc 1 1001 7 view .LVU1224
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3396              		.loc 1 1001 7 view .LVU1225
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3397              		.loc 1 1001 7 view .LVU1226
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3398              		.loc 1 1001 7 view .LVU1227
 3399 0090 FEE7     		b	.L284
 3400              	.LVL308:
 3401              	.L311:
 994:lwIP/src/core/pbuf.c ****       p_to = p_to->next;
 3402              		.loc 1 994 7 view .LVU1228
 995:lwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL), return ERR_ARG;);
 3403              		.loc 1 995 7 view .LVU1229
 995:lwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL), return ERR_ARG;);
 3404              		.loc 1 995 12 is_stmt 0 view .LVU1230
 3405 0092 2468     		ldr	r4, [r4]
 3406              	.LVL309:
 996:lwIP/src/core/pbuf.c ****     }
 3407              		.loc 1 996 7 is_stmt 1 view .LVU1231
 996:lwIP/src/core/pbuf.c ****     }
 3408              		.loc 1 996 7 view .LVU1232
 3409 0094 5CB9     		cbnz	r4, .L280
 3410 0096 F5B9     		cbnz	r5, .L294
 3411              	.L282:
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3412              		.loc 1 1001 7 view .LVU1233
1001:lwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
 3413              		.loc 1 1001 7 view .LVU1234
 3414              		.loc 1 1004 5 view .LVU1235
 3415              		.loc 1 1004 8 is_stmt 0 view .LVU1236
 3416 0098 94B1     		cbz	r4, .L309
 3417              	.LVL310:
 3418              	.L288:
 3419              		.loc 1 1004 24 view .LVU1237
 3420 009a 2289     		ldrh	r2, [r4, #8]
 3421 009c 6389     		ldrh	r3, [r4, #10]
 3422 009e 9A42     		cmp	r2, r3
 3423 00a0 0ED1     		bne	.L309
1005:lwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
1006:lwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 3424              		.loc 1 1006 7 is_stmt 1 view .LVU1238
 3425              		.loc 1 1006 7 view .LVU1239
 3426 00a2 2368     		ldr	r3, [r4]
 3427 00a4 63B1     		cbz	r3, .L309
 3428              	.LVL311:
 3429              	.L295:
 3430              		.loc 1 1006 7 view .LVU1240
ARM GAS  /tmp/ccJoevLK.s 			page 99


 3431 00a6 0F48     		ldr	r0, .L317+4
 3432 00a8 FFF7FEFF 		bl	printf
 3433              	.LVL312:
 3434              	.L287:
 3435              		.loc 1 1006 7 view .LVU1241
 3436              		.loc 1 1006 7 view .LVU1242
 3437              		.loc 1 1006 7 view .LVU1243
 3438              		.loc 1 1006 7 view .LVU1244
 3439              		.loc 1 1006 7 view .LVU1245
 3440              		.loc 1 1006 7 view .LVU1246
 3441 00ac FEE7     		b	.L287
 3442              	.LVL313:
 3443              	.L280:
 996:lwIP/src/core/pbuf.c ****     }
 3444              		.loc 1 996 7 view .LVU1247
 996:lwIP/src/core/pbuf.c ****     }
 3445              		.loc 1 996 7 view .LVU1248
 999:lwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 3446              		.loc 1 999 5 view .LVU1249
 999:lwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
 3447              		.loc 1 999 8 is_stmt 0 view .LVU1250
 3448 00ae 002D     		cmp	r5, #0
 3449 00b0 F2D0     		beq	.L282
 994:lwIP/src/core/pbuf.c ****       p_to = p_to->next;
 3450              		.loc 1 994 17 view .LVU1251
 3451 00b2 0027     		movs	r7, #0
 989:lwIP/src/core/pbuf.c ****       p_from = p_from->next;
 3452              		.loc 1 989 19 view .LVU1252
 3453 00b4 3E46     		mov	r6, r7
 3454 00b6 BCE7     		b	.L293
 3455              	.LVL314:
 3456              	.L314:
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3457              		.loc 1 985 5 is_stmt 1 view .LVU1253
 3458 00b8 0B48     		ldr	r0, .L317+8
 3459 00ba FFF7FEFF 		bl	printf
 3460              	.LVL315:
 3461              	.L275:
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3462              		.loc 1 985 5 view .LVU1254
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3463              		.loc 1 985 5 view .LVU1255
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3464              		.loc 1 985 5 view .LVU1256
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3465              		.loc 1 985 5 view .LVU1257
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3466              		.loc 1 985 5 view .LVU1258
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3467              		.loc 1 985 5 view .LVU1259
 3468 00be FEE7     		b	.L275
 3469              	.LVL316:
 3470              	.L309:
 985:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 3471              		.loc 1 985 5 is_stmt 0 view .LVU1260
 3472              	.LBE346:
 3473              	.LBE348:
ARM GAS  /tmp/ccJoevLK.s 			page 100


1007:lwIP/src/core/pbuf.c ****                  (p_to->next == NULL), return ERR_VAL;);
1008:lwIP/src/core/pbuf.c ****     }
1009:lwIP/src/core/pbuf.c ****   } while (p_from);
1010:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
1011:lwIP/src/core/pbuf.c ****   return ERR_OK;
1012:lwIP/src/core/pbuf.c **** }
 3474              		.loc 1 1012 1 view .LVU1261
 3475 00c0 0020     		movs	r0, #0
 3476 00c2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3477              	.LVL317:
 3478              	.L315:
 3479              	.LBB349:
 3480              	.LBB347:
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3481              		.loc 1 986 5 is_stmt 1 view .LVU1262
 3482 00c6 0948     		ldr	r0, .L317+12
 3483 00c8 FFF7FEFF 		bl	printf
 3484              	.LVL318:
 3485              	.L277:
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3486              		.loc 1 986 5 view .LVU1263
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3487              		.loc 1 986 5 view .LVU1264
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3488              		.loc 1 986 5 view .LVU1265
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3489              		.loc 1 986 5 view .LVU1266
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3490              		.loc 1 986 5 view .LVU1267
 986:lwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 3491              		.loc 1 986 5 view .LVU1268
 3492 00cc FEE7     		b	.L277
 3493              	.LVL319:
 3494              	.L313:
1006:lwIP/src/core/pbuf.c ****                  (p_to->next == NULL), return ERR_VAL;);
 3495              		.loc 1 1006 7 view .LVU1269
1006:lwIP/src/core/pbuf.c ****                  (p_to->next == NULL), return ERR_VAL;);
 3496              		.loc 1 1006 7 view .LVU1270
 3497 00ce 2268     		ldr	r2, [r4]
 3498 00d0 002A     		cmp	r2, #0
 3499 00d2 B6D0     		beq	.L290
 3500 00d4 E7E7     		b	.L295
 3501              	.LVL320:
 3502              	.L294:
 996:lwIP/src/core/pbuf.c ****     }
 3503              		.loc 1 996 7 view .LVU1271
 3504 00d6 0648     		ldr	r0, .L317+16
 3505 00d8 FFF7FEFF 		bl	printf
 3506              	.LVL321:
 3507              	.L281:
 996:lwIP/src/core/pbuf.c ****     }
 3508              		.loc 1 996 7 view .LVU1272
 996:lwIP/src/core/pbuf.c ****     }
 3509              		.loc 1 996 7 view .LVU1273
 996:lwIP/src/core/pbuf.c ****     }
 3510              		.loc 1 996 7 view .LVU1274
 996:lwIP/src/core/pbuf.c ****     }
ARM GAS  /tmp/ccJoevLK.s 			page 101


 3511              		.loc 1 996 7 view .LVU1275
 996:lwIP/src/core/pbuf.c ****     }
 3512              		.loc 1 996 7 view .LVU1276
 996:lwIP/src/core/pbuf.c ****     }
 3513              		.loc 1 996 7 view .LVU1277
 3514 00dc FEE7     		b	.L281
 3515              	.L318:
 3516 00de 00BF     		.align	2
 3517              	.L317:
 3518 00e0 00000000 		.word	.LC15
 3519 00e4 74000000 		.word	.LC19
 3520 00e8 30000000 		.word	.LC16
 3521 00ec 48000000 		.word	.LC17
 3522 00f0 64000000 		.word	.LC18
 3523              	.LBE347:
 3524              	.LBE349:
 3525              		.cfi_endproc
 3526              	.LFE124:
 3528              		.section	.rodata.pbuf_copy_partial.str1.4,"aMS",%progbits,1
 3529              		.align	2
 3530              	.LC20:
 3531 0000 70627566 		.ascii	"pbuf_copy_partial: invalid buf\000"
 3531      5F636F70 
 3531      795F7061 
 3531      72746961 
 3531      6C3A2069 
 3532 001f 00       		.align	2
 3533              	.LC21:
 3534 0020 70627566 		.ascii	"pbuf_copy_partial: invalid dataptr\000"
 3534      5F636F70 
 3534      795F7061 
 3534      72746961 
 3534      6C3A2069 
 3535              		.section	.text.pbuf_copy_partial,"ax",%progbits
 3536              		.align	1
 3537              		.p2align 2,,3
 3538              		.global	pbuf_copy_partial
 3539              		.syntax unified
 3540              		.thumb
 3541              		.thumb_func
 3542              		.fpu fpv4-sp-d16
 3544              	pbuf_copy_partial:
 3545              	.LVL322:
 3546              	.LFB125:
1013:lwIP/src/core/pbuf.c **** 
1014:lwIP/src/core/pbuf.c **** /**
1015:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1016:lwIP/src/core/pbuf.c ****  * Copy (part of) the contents of a packet buffer
1017:lwIP/src/core/pbuf.c ****  * to an application supplied buffer.
1018:lwIP/src/core/pbuf.c ****  *
1019:lwIP/src/core/pbuf.c ****  * @param buf the pbuf from which to copy data
1020:lwIP/src/core/pbuf.c ****  * @param dataptr the application supplied buffer
1021:lwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
1022:lwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1023:lwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1024:lwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1025:lwIP/src/core/pbuf.c ****  */
ARM GAS  /tmp/ccJoevLK.s 			page 102


1026:lwIP/src/core/pbuf.c **** u16_t
1027:lwIP/src/core/pbuf.c **** pbuf_copy_partial(const struct pbuf *buf, void *dataptr, u16_t len, u16_t offset)
1028:lwIP/src/core/pbuf.c **** {
 3547              		.loc 1 1028 1 view -0
 3548              		.cfi_startproc
 3549              		@ args = 0, pretend = 0, frame = 0
 3550              		@ frame_needed = 0, uses_anonymous_args = 0
1029:lwIP/src/core/pbuf.c ****   const struct pbuf *p;
 3551              		.loc 1 1029 3 view .LVU1279
1030:lwIP/src/core/pbuf.c ****   u16_t left = 0;
 3552              		.loc 1 1030 3 view .LVU1280
1031:lwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
 3553              		.loc 1 1031 3 view .LVU1281
1032:lwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
 3554              		.loc 1 1032 3 view .LVU1282
1033:lwIP/src/core/pbuf.c **** 
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid buf", (buf != NULL), return 0;);
 3555              		.loc 1 1034 3 view .LVU1283
 3556              		.loc 1 1034 3 view .LVU1284
1028:lwIP/src/core/pbuf.c ****   const struct pbuf *p;
 3557              		.loc 1 1028 1 is_stmt 0 view .LVU1285
 3558 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3559              	.LCFI22:
 3560              		.cfi_def_cfa_offset 24
 3561              		.cfi_offset 4, -24
 3562              		.cfi_offset 5, -20
 3563              		.cfi_offset 6, -16
 3564              		.cfi_offset 7, -12
 3565              		.cfi_offset 8, -8
 3566              		.cfi_offset 14, -4
 3567              		.loc 1 1034 3 view .LVU1286
 3568 0004 38B3     		cbz	r0, .L338
 3569              		.loc 1 1034 3 is_stmt 1 discriminator 2 view .LVU1287
 3570              		.loc 1 1034 3 discriminator 2 view .LVU1288
1035:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3571              		.loc 1 1035 3 discriminator 2 view .LVU1289
 3572              		.loc 1 1035 3 discriminator 2 view .LVU1290
 3573 0006 8846     		mov	r8, r1
 3574 0008 49B3     		cbz	r1, .L322
 3575              	.LVL323:
 3576              	.LBB352:
 3577              	.LBB353:
1036:lwIP/src/core/pbuf.c **** 
1037:lwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1038:lwIP/src/core/pbuf.c ****   for (p = buf; len != 0 && p != NULL; p = p->next) {
 3578              		.loc 1 1038 17 view .LVU1291
 3579 000a 1746     		mov	r7, r2
 3580              		.loc 1 1038 3 is_stmt 0 view .LVU1292
 3581 000c 5AB3     		cbz	r2, .L339
 3582 000e 0546     		mov	r5, r0
1030:lwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
 3583              		.loc 1 1030 9 view .LVU1293
 3584 0010 0026     		movs	r6, #0
 3585 0012 03E0     		b	.L323
 3586              	.LVL324:
 3587              	.L340:
1039:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
ARM GAS  /tmp/ccJoevLK.s 			page 103


1040:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
1041:lwIP/src/core/pbuf.c ****       offset = (u16_t)(offset - p->len);
 3588              		.loc 1 1041 14 view .LVU1294
 3589 0014 93B2     		uxth	r3, r2
 3590              	.LVL325:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3591              		.loc 1 1038 40 is_stmt 1 view .LVU1295
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3592              		.loc 1 1038 42 is_stmt 0 view .LVU1296
 3593 0016 2D68     		ldr	r5, [r5]
 3594              	.LVL326:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3595              		.loc 1 1038 17 is_stmt 1 view .LVU1297
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3596              		.loc 1 1038 3 is_stmt 0 view .LVU1298
 3597 0018 D7B1     		cbz	r7, .L324
 3598              	.L341:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3599              		.loc 1 1038 3 view .LVU1299
 3600 001a CDB1     		cbz	r5, .L324
 3601              	.LVL327:
 3602              	.L323:
1039:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3603              		.loc 1 1039 5 is_stmt 1 view .LVU1300
1042:lwIP/src/core/pbuf.c ****     } else {
1043:lwIP/src/core/pbuf.c ****       /* copy from this buffer. maybe only partially. */
1044:lwIP/src/core/pbuf.c ****       buf_copy_len = (u16_t)(p->len - offset);
 3604              		.loc 1 1044 7 view .LVU1301
1045:lwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
1046:lwIP/src/core/pbuf.c ****         buf_copy_len = len;
1047:lwIP/src/core/pbuf.c ****       }
1048:lwIP/src/core/pbuf.c ****       /* copy the necessary parts of the buffer */
1049:lwIP/src/core/pbuf.c ****       MEMCPY(&((char *)dataptr)[left], &((char *)p->payload)[offset], buf_copy_len);
 3605              		.loc 1 1049 7 is_stmt 0 view .LVU1302
 3606 001c 08EB0600 		add	r0, r8, r6
 3607 0020 6C89     		ldrh	r4, [r5, #10]
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3608              		.loc 1 1039 8 view .LVU1303
 3609 0022 1BB1     		cbz	r3, .L326
1041:lwIP/src/core/pbuf.c ****     } else {
 3610              		.loc 1 1041 7 is_stmt 1 view .LVU1304
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3611              		.loc 1 1039 23 is_stmt 0 view .LVU1305
 3612 0024 A342     		cmp	r3, r4
1041:lwIP/src/core/pbuf.c ****     } else {
 3613              		.loc 1 1041 14 view .LVU1306
 3614 0026 A3EB0402 		sub	r2, r3, r4
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3615              		.loc 1 1039 23 view .LVU1307
 3616 002a F3D2     		bcs	.L340
 3617              	.L326:
1044:lwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 3618              		.loc 1 1044 20 view .LVU1308
 3619 002c E41A     		subs	r4, r4, r3
 3620              		.loc 1 1049 7 view .LVU1309
 3621 002e 6968     		ldr	r1, [r5, #4]
1044:lwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
ARM GAS  /tmp/ccJoevLK.s 			page 104


 3622              		.loc 1 1044 20 view .LVU1310
 3623 0030 A4B2     		uxth	r4, r4
 3624              	.LVL328:
1045:lwIP/src/core/pbuf.c ****         buf_copy_len = len;
 3625              		.loc 1 1045 7 is_stmt 1 view .LVU1311
 3626              		.loc 1 1049 7 is_stmt 0 view .LVU1312
 3627 0032 1944     		add	r1, r1, r3
 3628 0034 BC42     		cmp	r4, r7
 3629 0036 28BF     		it	cs
 3630 0038 3C46     		movcs	r4, r7
 3631              	.LVL329:
 3632              		.loc 1 1049 7 is_stmt 1 view .LVU1313
 3633 003a 2246     		mov	r2, r4
1050:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3634              		.loc 1 1050 20 is_stmt 0 view .LVU1314
 3635 003c 2644     		add	r6, r6, r4
 3636              	.LVL330:
1051:lwIP/src/core/pbuf.c ****       left = (u16_t)(left + buf_copy_len);
1052:lwIP/src/core/pbuf.c ****       len = (u16_t)(len - buf_copy_len);
 3637              		.loc 1 1052 11 view .LVU1315
 3638 003e 3C1B     		subs	r4, r7, r4
 3639              	.LVL331:
1049:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3640              		.loc 1 1049 7 view .LVU1316
 3641 0040 FFF7FEFF 		bl	memcpy
 3642              	.LVL332:
1050:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3643              		.loc 1 1050 7 is_stmt 1 view .LVU1317
1050:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3644              		.loc 1 1050 20 is_stmt 0 view .LVU1318
 3645 0044 B6B2     		uxth	r6, r6
 3646              	.LVL333:
1051:lwIP/src/core/pbuf.c ****       left = (u16_t)(left + buf_copy_len);
 3647              		.loc 1 1051 7 is_stmt 1 view .LVU1319
 3648              		.loc 1 1052 7 view .LVU1320
1053:lwIP/src/core/pbuf.c ****       offset = 0;
 3649              		.loc 1 1053 14 is_stmt 0 view .LVU1321
 3650 0046 0023     		movs	r3, #0
1052:lwIP/src/core/pbuf.c ****       offset = 0;
 3651              		.loc 1 1052 11 view .LVU1322
 3652 0048 A7B2     		uxth	r7, r4
 3653              	.LVL334:
 3654              		.loc 1 1053 7 is_stmt 1 view .LVU1323
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3655              		.loc 1 1038 40 view .LVU1324
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3656              		.loc 1 1038 42 is_stmt 0 view .LVU1325
 3657 004a 2D68     		ldr	r5, [r5]
 3658              	.LVL335:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3659              		.loc 1 1038 17 is_stmt 1 view .LVU1326
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3660              		.loc 1 1038 3 is_stmt 0 view .LVU1327
 3661 004c 002F     		cmp	r7, #0
 3662 004e E4D1     		bne	.L341
 3663              	.LVL336:
 3664              	.L324:
ARM GAS  /tmp/ccJoevLK.s 			page 105


1054:lwIP/src/core/pbuf.c ****     }
1055:lwIP/src/core/pbuf.c ****   }
1056:lwIP/src/core/pbuf.c ****   return copied_total;
 3665              		.loc 1 1056 3 is_stmt 1 view .LVU1328
 3666              		.loc 1 1056 3 is_stmt 0 view .LVU1329
 3667              	.LBE353:
 3668              	.LBE352:
 3669              		.loc 1 1056 3 is_stmt 1 view .LVU1330
1057:lwIP/src/core/pbuf.c **** }
 3670              		.loc 1 1057 1 is_stmt 0 view .LVU1331
 3671 0050 3046     		mov	r0, r6
 3672 0052 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3673              	.LVL337:
 3674              	.L338:
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3675              		.loc 1 1034 3 is_stmt 1 discriminator 1 view .LVU1332
 3676 0056 0548     		ldr	r0, .L342
 3677              	.LVL338:
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3678              		.loc 1 1034 3 is_stmt 0 discriminator 1 view .LVU1333
 3679 0058 FFF7FEFF 		bl	printf
 3680              	.LVL339:
 3681              	.L321:
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3682              		.loc 1 1034 3 is_stmt 1 discriminator 1 view .LVU1334
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3683              		.loc 1 1034 3 discriminator 1 view .LVU1335
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3684              		.loc 1 1034 3 discriminator 1 view .LVU1336
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3685              		.loc 1 1034 3 discriminator 1 view .LVU1337
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3686              		.loc 1 1034 3 discriminator 1 view .LVU1338
1034:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 3687              		.loc 1 1034 3 discriminator 1 view .LVU1339
 3688 005c FEE7     		b	.L321
 3689              	.LVL340:
 3690              	.L322:
1035:lwIP/src/core/pbuf.c **** 
 3691              		.loc 1 1035 3 discriminator 1 view .LVU1340
 3692 005e 0448     		ldr	r0, .L342+4
 3693              	.LVL341:
1035:lwIP/src/core/pbuf.c **** 
 3694              		.loc 1 1035 3 is_stmt 0 discriminator 1 view .LVU1341
 3695 0060 FFF7FEFF 		bl	printf
 3696              	.LVL342:
 3697              	.L325:
1035:lwIP/src/core/pbuf.c **** 
 3698              		.loc 1 1035 3 is_stmt 1 discriminator 2 view .LVU1342
1035:lwIP/src/core/pbuf.c **** 
 3699              		.loc 1 1035 3 discriminator 2 view .LVU1343
1035:lwIP/src/core/pbuf.c **** 
 3700              		.loc 1 1035 3 discriminator 2 view .LVU1344
1035:lwIP/src/core/pbuf.c **** 
 3701              		.loc 1 1035 3 discriminator 2 view .LVU1345
1035:lwIP/src/core/pbuf.c **** 
 3702              		.loc 1 1035 3 discriminator 2 view .LVU1346
ARM GAS  /tmp/ccJoevLK.s 			page 106


1035:lwIP/src/core/pbuf.c **** 
 3703              		.loc 1 1035 3 discriminator 2 view .LVU1347
 3704 0064 FEE7     		b	.L325
 3705              	.LVL343:
 3706              	.L339:
 3707              	.LBB355:
 3708              	.LBB354:
1030:lwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
 3709              		.loc 1 1030 9 is_stmt 0 view .LVU1348
 3710 0066 1646     		mov	r6, r2
 3711 0068 F2E7     		b	.L324
 3712              	.L343:
 3713 006a 00BF     		.align	2
 3714              	.L342:
 3715 006c 00000000 		.word	.LC20
 3716 0070 20000000 		.word	.LC21
 3717              	.LBE354:
 3718              	.LBE355:
 3719              		.cfi_endproc
 3720              	.LFE125:
 3722              		.section	.rodata.pbuf_get_contiguous.str1.4,"aMS",%progbits,1
 3723              		.align	2
 3724              	.LC22:
 3725 0000 70627566 		.ascii	"pbuf_get_contiguous: invalid buf\000"
 3725      5F676574 
 3725      5F636F6E 
 3725      74696775 
 3725      6F75733A 
 3726 0021 000000   		.align	2
 3727              	.LC23:
 3728 0024 70627566 		.ascii	"pbuf_get_contiguous: invalid dataptr\000"
 3728      5F676574 
 3728      5F636F6E 
 3728      74696775 
 3728      6F75733A 
 3729              		.section	.text.pbuf_get_contiguous,"ax",%progbits
 3730              		.align	1
 3731              		.p2align 2,,3
 3732              		.global	pbuf_get_contiguous
 3733              		.syntax unified
 3734              		.thumb
 3735              		.thumb_func
 3736              		.fpu fpv4-sp-d16
 3738              	pbuf_get_contiguous:
 3739              	.LVL344:
 3740              	.LFB126:
1058:lwIP/src/core/pbuf.c **** 
1059:lwIP/src/core/pbuf.c **** /**
1060:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1061:lwIP/src/core/pbuf.c ****  * Get part of a pbuf's payload as contiguous memory. The returned memory is
1062:lwIP/src/core/pbuf.c ****  * either a pointer into the pbuf's payload or, if split over multiple pbufs,
1063:lwIP/src/core/pbuf.c ****  * a copy into the user-supplied buffer.
1064:lwIP/src/core/pbuf.c ****  *
1065:lwIP/src/core/pbuf.c ****  * @param p the pbuf from which to copy data
1066:lwIP/src/core/pbuf.c ****  * @param buffer the application supplied buffer
1067:lwIP/src/core/pbuf.c ****  * @param bufsize size of the application supplied buffer
1068:lwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
ARM GAS  /tmp/ccJoevLK.s 			page 107


1069:lwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1070:lwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1071:lwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1072:lwIP/src/core/pbuf.c ****  */
1073:lwIP/src/core/pbuf.c **** void *
1074:lwIP/src/core/pbuf.c **** pbuf_get_contiguous(const struct pbuf *p, void *buffer, size_t bufsize, u16_t len, u16_t offset)
1075:lwIP/src/core/pbuf.c **** {
 3741              		.loc 1 1075 1 is_stmt 1 view -0
 3742              		.cfi_startproc
 3743              		@ args = 4, pretend = 0, frame = 0
 3744              		@ frame_needed = 0, uses_anonymous_args = 0
1076:lwIP/src/core/pbuf.c ****   const struct pbuf *q;
 3745              		.loc 1 1076 3 view .LVU1350
1077:lwIP/src/core/pbuf.c ****   u16_t out_offset;
 3746              		.loc 1 1077 3 view .LVU1351
1078:lwIP/src/core/pbuf.c **** 
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid buf", (p != NULL), return NULL;);
 3747              		.loc 1 1079 3 view .LVU1352
 3748              		.loc 1 1079 3 view .LVU1353
1075:lwIP/src/core/pbuf.c ****   const struct pbuf *q;
 3749              		.loc 1 1075 1 is_stmt 0 view .LVU1354
 3750 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3751              	.LCFI23:
 3752              		.cfi_def_cfa_offset 32
 3753              		.cfi_offset 4, -32
 3754              		.cfi_offset 5, -28
 3755              		.cfi_offset 6, -24
 3756              		.cfi_offset 7, -20
 3757              		.cfi_offset 8, -16
 3758              		.cfi_offset 9, -12
 3759              		.cfi_offset 10, -8
 3760              		.cfi_offset 14, -4
1075:lwIP/src/core/pbuf.c ****   const struct pbuf *q;
 3761              		.loc 1 1075 1 view .LVU1355
 3762 0004 BDF82050 		ldrh	r5, [sp, #32]
 3763              		.loc 1 1079 3 view .LVU1356
 3764 0008 0028     		cmp	r0, #0
 3765 000a 46D0     		beq	.L377
 3766              		.loc 1 1079 3 is_stmt 1 discriminator 2 view .LVU1357
 3767              		.loc 1 1079 3 discriminator 2 view .LVU1358
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3768              		.loc 1 1080 3 discriminator 2 view .LVU1359
 3769              		.loc 1 1080 3 discriminator 2 view .LVU1360
 3770 000c 0E46     		mov	r6, r1
 3771 000e 0029     		cmp	r1, #0
 3772 0010 47D0     		beq	.L378
1081:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3773              		.loc 1 1081 3 is_stmt 0 discriminator 2 view .LVU1361
 3774 0012 9342     		cmp	r3, r2
 3775 0014 0446     		mov	r4, r0
 3776 0016 1F46     		mov	r7, r3
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3777              		.loc 1 1080 3 is_stmt 1 discriminator 2 view .LVU1362
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3778              		.loc 1 1080 3 discriminator 2 view .LVU1363
 3779              		.loc 1 1081 3 discriminator 2 view .LVU1364
 3780              		.loc 1 1081 3 discriminator 2 view .LVU1365
ARM GAS  /tmp/ccJoevLK.s 			page 108


 3781 0018 0BD8     		bhi	.L379
 3782              	.LVL345:
 3783              	.L349:
 3784              	.LBB362:
 3785              	.LBB363:
1082:lwIP/src/core/pbuf.c **** 
1083:lwIP/src/core/pbuf.c ****   q = pbuf_skip_const(p, offset, &out_offset);
1084:lwIP/src/core/pbuf.c ****   if (q != NULL) {
1085:lwIP/src/core/pbuf.c ****     if (q->len >= (out_offset + len)) {
1086:lwIP/src/core/pbuf.c ****       /* all data in this pbuf, return zero-copy */
1087:lwIP/src/core/pbuf.c ****       return (u8_t *)q->payload + out_offset;
1088:lwIP/src/core/pbuf.c ****     }
1089:lwIP/src/core/pbuf.c ****     /* need to copy */
1090:lwIP/src/core/pbuf.c ****     if (pbuf_copy_partial(q, buffer, len, out_offset) != len) {
1091:lwIP/src/core/pbuf.c ****       /* copying failed: pbuf is too short */
1092:lwIP/src/core/pbuf.c ****       return NULL;
1093:lwIP/src/core/pbuf.c ****     }
1094:lwIP/src/core/pbuf.c ****     return buffer;
1095:lwIP/src/core/pbuf.c ****   }
1096:lwIP/src/core/pbuf.c ****   /* pbuf is too short (offset does not fit in) */
1097:lwIP/src/core/pbuf.c ****   return NULL;
1098:lwIP/src/core/pbuf.c **** }
1099:lwIP/src/core/pbuf.c **** 
1100:lwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1101:lwIP/src/core/pbuf.c **** /**
1102:lwIP/src/core/pbuf.c ****  * This method modifies a 'pbuf chain', so that its total length is
1103:lwIP/src/core/pbuf.c ****  * smaller than 64K. The remainder of the original pbuf chain is stored
1104:lwIP/src/core/pbuf.c ****  * in *rest.
1105:lwIP/src/core/pbuf.c ****  * This function never creates new pbufs, but splits an existing chain
1106:lwIP/src/core/pbuf.c ****  * in two parts. The tot_len of the modified packet queue will likely be
1107:lwIP/src/core/pbuf.c ****  * smaller than 64K.
1108:lwIP/src/core/pbuf.c ****  * 'packet queues' are not supported by this function.
1109:lwIP/src/core/pbuf.c ****  *
1110:lwIP/src/core/pbuf.c ****  * @param p the pbuf queue to be split
1111:lwIP/src/core/pbuf.c ****  * @param rest pointer to store the remainder (after the first 64K)
1112:lwIP/src/core/pbuf.c ****  */
1113:lwIP/src/core/pbuf.c **** void pbuf_split_64k(struct pbuf *p, struct pbuf **rest)
1114:lwIP/src/core/pbuf.c **** {
1115:lwIP/src/core/pbuf.c ****   *rest = NULL;
1116:lwIP/src/core/pbuf.c ****   if ((p != NULL) && (p->next != NULL)) {
1117:lwIP/src/core/pbuf.c ****     u16_t tot_len_front = p->len;
1118:lwIP/src/core/pbuf.c ****     struct pbuf *i = p;
1119:lwIP/src/core/pbuf.c ****     struct pbuf *r = p->next;
1120:lwIP/src/core/pbuf.c **** 
1121:lwIP/src/core/pbuf.c ****     /* continue until the total length (summed up as u16_t) overflows */
1122:lwIP/src/core/pbuf.c ****     while ((r != NULL) && ((u16_t)(tot_len_front + r->len) >= tot_len_front)) {
1123:lwIP/src/core/pbuf.c ****       tot_len_front = (u16_t)(tot_len_front + r->len);
1124:lwIP/src/core/pbuf.c ****       i = r;
1125:lwIP/src/core/pbuf.c ****       r = r->next;
1126:lwIP/src/core/pbuf.c ****     }
1127:lwIP/src/core/pbuf.c ****     /* i now points to last packet of the first segment. Set next
1128:lwIP/src/core/pbuf.c ****        pointer to NULL */
1129:lwIP/src/core/pbuf.c ****     i->next = NULL;
1130:lwIP/src/core/pbuf.c **** 
1131:lwIP/src/core/pbuf.c ****     if (r != NULL) {
1132:lwIP/src/core/pbuf.c ****       /* Update the tot_len field in the first part */
1133:lwIP/src/core/pbuf.c ****       for (i = p; i != NULL; i = i->next) {
ARM GAS  /tmp/ccJoevLK.s 			page 109


1134:lwIP/src/core/pbuf.c ****         i->tot_len = (u16_t)(i->tot_len - r->tot_len);
1135:lwIP/src/core/pbuf.c ****         LWIP_ASSERT("tot_len/len mismatch in last pbuf",
1136:lwIP/src/core/pbuf.c ****                     (i->next != NULL) || (i->tot_len == i->len));
1137:lwIP/src/core/pbuf.c ****       }
1138:lwIP/src/core/pbuf.c ****       if (p->flags & PBUF_FLAG_TCP_FIN) {
1139:lwIP/src/core/pbuf.c ****         r->flags |= PBUF_FLAG_TCP_FIN;
1140:lwIP/src/core/pbuf.c ****       }
1141:lwIP/src/core/pbuf.c **** 
1142:lwIP/src/core/pbuf.c ****       /* tot_len field in rest does not need modifications */
1143:lwIP/src/core/pbuf.c ****       /* reference counters do not need modifications */
1144:lwIP/src/core/pbuf.c ****       *rest = r;
1145:lwIP/src/core/pbuf.c ****     }
1146:lwIP/src/core/pbuf.c ****   }
1147:lwIP/src/core/pbuf.c **** }
1148:lwIP/src/core/pbuf.c **** #endif /* LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1149:lwIP/src/core/pbuf.c **** 
1150:lwIP/src/core/pbuf.c **** /* Actual implementation of pbuf_skip() but returning const pointer... */
1151:lwIP/src/core/pbuf.c **** static const struct pbuf *
1152:lwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf *in, u16_t in_offset, u16_t *out_offset)
1153:lwIP/src/core/pbuf.c **** {
1154:lwIP/src/core/pbuf.c ****   u16_t offset_left = in_offset;
1155:lwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
1156:lwIP/src/core/pbuf.c **** 
1157:lwIP/src/core/pbuf.c ****   /* get the correct pbuf */
1158:lwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= offset_left)) {
1159:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3786              		.loc 1 1159 5 view .LVU1366
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3787              		.loc 1 1158 27 is_stmt 0 view .LVU1367
 3788 001a 6289     		ldrh	r2, [r4, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3789              		.loc 1 1158 22 view .LVU1368
 3790 001c AA42     		cmp	r2, r5
 3791              		.loc 1 1159 17 view .LVU1369
 3792 001e A5EB0203 		sub	r3, r5, r2
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3793              		.loc 1 1158 22 view .LVU1370
 3794 0022 0AD8     		bhi	.L380
1160:lwIP/src/core/pbuf.c ****     q = q->next;
 3795              		.loc 1 1160 7 view .LVU1371
 3796 0024 2468     		ldr	r4, [r4]
 3797              	.LVL346:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 3798              		.loc 1 1159 17 view .LVU1372
 3799 0026 9DB2     		uxth	r5, r3
 3800              	.LVL347:
 3801              		.loc 1 1160 5 is_stmt 1 view .LVU1373
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3802              		.loc 1 1158 9 view .LVU1374
 3803 0028 002C     		cmp	r4, #0
 3804 002a F6D1     		bne	.L349
 3805              	.LVL348:
 3806              	.L351:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3807              		.loc 1 1158 9 is_stmt 0 view .LVU1375
 3808              	.LBE363:
 3809              	.LBE362:
ARM GAS  /tmp/ccJoevLK.s 			page 110


1092:lwIP/src/core/pbuf.c ****     }
 3810              		.loc 1 1092 14 view .LVU1376
 3811 002c 0020     		movs	r0, #0
 3812              	.LVL349:
 3813              	.L344:
1098:lwIP/src/core/pbuf.c **** 
 3814              		.loc 1 1098 1 view .LVU1377
 3815 002e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3816              	.LVL350:
 3817              	.L379:
1081:lwIP/src/core/pbuf.c **** 
 3818              		.loc 1 1081 3 is_stmt 1 discriminator 1 view .LVU1378
 3819 0032 2048     		ldr	r0, .L383
 3820              	.LVL351:
1081:lwIP/src/core/pbuf.c **** 
 3821              		.loc 1 1081 3 is_stmt 0 discriminator 1 view .LVU1379
 3822 0034 FFF7FEFF 		bl	printf
 3823              	.LVL352:
 3824              	.L350:
1081:lwIP/src/core/pbuf.c **** 
 3825              		.loc 1 1081 3 is_stmt 1 discriminator 3 view .LVU1380
1081:lwIP/src/core/pbuf.c **** 
 3826              		.loc 1 1081 3 discriminator 3 view .LVU1381
1081:lwIP/src/core/pbuf.c **** 
 3827              		.loc 1 1081 3 discriminator 3 view .LVU1382
1081:lwIP/src/core/pbuf.c **** 
 3828              		.loc 1 1081 3 discriminator 3 view .LVU1383
1081:lwIP/src/core/pbuf.c **** 
 3829              		.loc 1 1081 3 discriminator 3 view .LVU1384
1081:lwIP/src/core/pbuf.c **** 
 3830              		.loc 1 1081 3 discriminator 3 view .LVU1385
 3831 0038 FEE7     		b	.L350
 3832              	.LVL353:
 3833              	.L380:
 3834              	.LBB365:
 3835              	.LBB364:
1161:lwIP/src/core/pbuf.c ****   }
1162:lwIP/src/core/pbuf.c ****   if (out_offset != NULL) {
 3836              		.loc 1 1162 3 view .LVU1386
1163:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 3837              		.loc 1 1163 5 view .LVU1387
1164:lwIP/src/core/pbuf.c ****   }
1165:lwIP/src/core/pbuf.c ****   return q;
 3838              		.loc 1 1165 3 view .LVU1388
 3839              		.loc 1 1165 3 is_stmt 0 view .LVU1389
 3840              	.LBE364:
 3841              	.LBE365:
1084:lwIP/src/core/pbuf.c ****     if (q->len >= (out_offset + len)) {
 3842              		.loc 1 1084 3 is_stmt 1 view .LVU1390
1085:lwIP/src/core/pbuf.c ****       /* all data in this pbuf, return zero-copy */
 3843              		.loc 1 1085 5 view .LVU1391
1085:lwIP/src/core/pbuf.c ****       /* all data in this pbuf, return zero-copy */
 3844              		.loc 1 1085 31 is_stmt 0 view .LVU1392
 3845 003a EB19     		adds	r3, r5, r7
1085:lwIP/src/core/pbuf.c ****       /* all data in this pbuf, return zero-copy */
 3846              		.loc 1 1085 8 view .LVU1393
 3847 003c 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccJoevLK.s 			page 111


 3848 003e 03DB     		blt	.L381
1087:lwIP/src/core/pbuf.c ****     }
 3849              		.loc 1 1087 7 is_stmt 1 view .LVU1394
1087:lwIP/src/core/pbuf.c ****     }
 3850              		.loc 1 1087 33 is_stmt 0 view .LVU1395
 3851 0040 6068     		ldr	r0, [r4, #4]
 3852              	.LVL354:
1087:lwIP/src/core/pbuf.c ****     }
 3853              		.loc 1 1087 33 view .LVU1396
 3854 0042 2844     		add	r0, r0, r5
1098:lwIP/src/core/pbuf.c **** 
 3855              		.loc 1 1098 1 view .LVU1397
 3856 0044 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3857              	.LVL355:
 3858              	.L381:
 3859              	.LBB366:
 3860              	.LBB367:
 3861              	.LBB368:
 3862              	.LBB369:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3863              		.loc 1 1038 17 is_stmt 1 view .LVU1398
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3864              		.loc 1 1038 3 is_stmt 0 view .LVU1399
 3865 0048 8FB3     		cbz	r7, .L360
 3866 004a B946     		mov	r9, r7
1030:lwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
 3867              		.loc 1 1030 9 view .LVU1400
 3868 004c 4FF00008 		mov	r8, #0
 3869 0050 06E0     		b	.L358
 3870              	.LVL356:
 3871              	.L382:
1041:lwIP/src/core/pbuf.c ****     } else {
 3872              		.loc 1 1041 14 view .LVU1401
 3873 0052 95B2     		uxth	r5, r2
 3874              	.LVL357:
 3875              	.L356:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3876              		.loc 1 1038 40 is_stmt 1 view .LVU1402
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3877              		.loc 1 1038 42 is_stmt 0 view .LVU1403
 3878 0054 2468     		ldr	r4, [r4]
 3879              	.LVL358:
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3880              		.loc 1 1038 17 is_stmt 1 view .LVU1404
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3881              		.loc 1 1038 3 is_stmt 0 view .LVU1405
 3882 0056 B9F1000F 		cmp	r9, #0
 3883 005a 26D0     		beq	.L357
1038:lwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 3884              		.loc 1 1038 3 view .LVU1406
 3885 005c 2CB3     		cbz	r4, .L357
 3886 005e 6289     		ldrh	r2, [r4, #10]
 3887              	.LVL359:
 3888              	.L358:
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3889              		.loc 1 1039 5 is_stmt 1 view .LVU1407
1044:lwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
ARM GAS  /tmp/ccJoevLK.s 			page 112


 3890              		.loc 1 1044 7 view .LVU1408
1044:lwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 3891              		.loc 1 1044 20 is_stmt 0 view .LVU1409
 3892 0060 A2EB050A 		sub	r10, r2, r5
1049:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3893              		.loc 1 1049 7 view .LVU1410
 3894 0064 06EB0800 		add	r0, r6, r8
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3895              		.loc 1 1039 8 view .LVU1411
 3896 0068 1DB1     		cbz	r5, .L355
1041:lwIP/src/core/pbuf.c ****     } else {
 3897              		.loc 1 1041 7 is_stmt 1 view .LVU1412
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3898              		.loc 1 1039 23 is_stmt 0 view .LVU1413
 3899 006a 9542     		cmp	r5, r2
1041:lwIP/src/core/pbuf.c ****     } else {
 3900              		.loc 1 1041 14 view .LVU1414
 3901 006c A5EB0202 		sub	r2, r5, r2
1039:lwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
 3902              		.loc 1 1039 23 view .LVU1415
 3903 0070 EFD2     		bcs	.L382
 3904              	.L355:
1044:lwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 3905              		.loc 1 1044 20 view .LVU1416
 3906 0072 1FFA8AFA 		uxth	r10, r10
 3907              	.LVL360:
1045:lwIP/src/core/pbuf.c ****         buf_copy_len = len;
 3908              		.loc 1 1045 7 is_stmt 1 view .LVU1417
1049:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3909              		.loc 1 1049 7 is_stmt 0 view .LVU1418
 3910 0076 6168     		ldr	r1, [r4, #4]
 3911 0078 CA45     		cmp	r10, r9
 3912 007a 2944     		add	r1, r1, r5
1053:lwIP/src/core/pbuf.c ****     }
 3913              		.loc 1 1053 14 view .LVU1419
 3914 007c 4FF00005 		mov	r5, #0
 3915              	.LVL361:
1053:lwIP/src/core/pbuf.c ****     }
 3916              		.loc 1 1053 14 view .LVU1420
 3917 0080 28BF     		it	cs
 3918 0082 CA46     		movcs	r10, r9
 3919              	.LVL362:
1049:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3920              		.loc 1 1049 7 is_stmt 1 view .LVU1421
1050:lwIP/src/core/pbuf.c ****       left = (u16_t)(left + buf_copy_len);
 3921              		.loc 1 1050 20 is_stmt 0 view .LVU1422
 3922 0084 D044     		add	r8, r8, r10
 3923              	.LVL363:
1052:lwIP/src/core/pbuf.c ****       offset = 0;
 3924              		.loc 1 1052 11 view .LVU1423
 3925 0086 A9EB0A09 		sub	r9, r9, r10
 3926              	.LVL364:
1049:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3927              		.loc 1 1049 7 view .LVU1424
 3928 008a 5246     		mov	r2, r10
1050:lwIP/src/core/pbuf.c ****       left = (u16_t)(left + buf_copy_len);
 3929              		.loc 1 1050 20 view .LVU1425
ARM GAS  /tmp/ccJoevLK.s 			page 113


 3930 008c 1FFA88F8 		uxth	r8, r8
1052:lwIP/src/core/pbuf.c ****       offset = 0;
 3931              		.loc 1 1052 11 view .LVU1426
 3932 0090 1FFA89F9 		uxth	r9, r9
1049:lwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 3933              		.loc 1 1049 7 view .LVU1427
 3934 0094 FFF7FEFF 		bl	memcpy
 3935              	.LVL365:
1050:lwIP/src/core/pbuf.c ****       left = (u16_t)(left + buf_copy_len);
 3936              		.loc 1 1050 7 is_stmt 1 view .LVU1428
1051:lwIP/src/core/pbuf.c ****       len = (u16_t)(len - buf_copy_len);
 3937              		.loc 1 1051 7 view .LVU1429
1052:lwIP/src/core/pbuf.c ****       offset = 0;
 3938              		.loc 1 1052 7 view .LVU1430
1053:lwIP/src/core/pbuf.c ****     }
 3939              		.loc 1 1053 7 view .LVU1431
1053:lwIP/src/core/pbuf.c ****     }
 3940              		.loc 1 1053 7 is_stmt 0 view .LVU1432
 3941 0098 DCE7     		b	.L356
 3942              	.LVL366:
 3943              	.L377:
1053:lwIP/src/core/pbuf.c ****     }
 3944              		.loc 1 1053 7 view .LVU1433
 3945              	.LBE369:
 3946              	.LBE368:
 3947              	.LBE367:
 3948              	.LBE366:
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3949              		.loc 1 1079 3 is_stmt 1 discriminator 1 view .LVU1434
 3950 009a 0748     		ldr	r0, .L383+4
 3951              	.LVL367:
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3952              		.loc 1 1079 3 is_stmt 0 discriminator 1 view .LVU1435
 3953 009c FFF7FEFF 		bl	printf
 3954              	.LVL368:
 3955              	.L346:
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3956              		.loc 1 1079 3 is_stmt 1 discriminator 1 view .LVU1436
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3957              		.loc 1 1079 3 discriminator 1 view .LVU1437
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3958              		.loc 1 1079 3 discriminator 1 view .LVU1438
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3959              		.loc 1 1079 3 discriminator 1 view .LVU1439
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3960              		.loc 1 1079 3 discriminator 1 view .LVU1440
1079:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 3961              		.loc 1 1079 3 discriminator 1 view .LVU1441
 3962 00a0 FEE7     		b	.L346
 3963              	.LVL369:
 3964              	.L378:
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3965              		.loc 1 1080 3 discriminator 1 view .LVU1442
 3966 00a2 0448     		ldr	r0, .L383
 3967              	.LVL370:
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3968              		.loc 1 1080 3 is_stmt 0 discriminator 1 view .LVU1443
ARM GAS  /tmp/ccJoevLK.s 			page 114


 3969 00a4 FFF7FEFF 		bl	printf
 3970              	.LVL371:
 3971              	.L348:
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3972              		.loc 1 1080 3 is_stmt 1 discriminator 2 view .LVU1444
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3973              		.loc 1 1080 3 discriminator 2 view .LVU1445
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3974              		.loc 1 1080 3 discriminator 2 view .LVU1446
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3975              		.loc 1 1080 3 discriminator 2 view .LVU1447
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3976              		.loc 1 1080 3 discriminator 2 view .LVU1448
1080:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 3977              		.loc 1 1080 3 discriminator 2 view .LVU1449
 3978 00a8 FEE7     		b	.L348
 3979              	.LVL372:
 3980              	.L357:
 3981              	.LBB373:
 3982              	.LBB372:
 3983              	.LBB371:
 3984              	.LBB370:
1056:lwIP/src/core/pbuf.c **** }
 3985              		.loc 1 1056 3 view .LVU1450
1056:lwIP/src/core/pbuf.c **** }
 3986              		.loc 1 1056 3 is_stmt 0 view .LVU1451
 3987              	.LBE370:
 3988              	.LBE371:
1056:lwIP/src/core/pbuf.c **** }
 3989              		.loc 1 1056 3 is_stmt 1 view .LVU1452
 3990              	.LBE372:
 3991              	.LBE373:
1090:lwIP/src/core/pbuf.c ****       /* copying failed: pbuf is too short */
 3992              		.loc 1 1090 8 is_stmt 0 view .LVU1453
 3993 00aa 4745     		cmp	r7, r8
 3994 00ac BED1     		bne	.L351
 3995              	.L360:
1092:lwIP/src/core/pbuf.c ****     }
 3996              		.loc 1 1092 14 view .LVU1454
 3997 00ae 3046     		mov	r0, r6
 3998 00b0 BDE7     		b	.L344
 3999              	.L384:
 4000 00b2 00BF     		.align	2
 4001              	.L383:
 4002 00b4 24000000 		.word	.LC23
 4003 00b8 00000000 		.word	.LC22
 4004              		.cfi_endproc
 4005              	.LFE126:
 4007              		.section	.text.pbuf_skip,"ax",%progbits
 4008              		.align	1
 4009              		.p2align 2,,3
 4010              		.global	pbuf_skip
 4011              		.syntax unified
 4012              		.thumb
 4013              		.thumb_func
 4014              		.fpu fpv4-sp-d16
 4016              	pbuf_skip:
ARM GAS  /tmp/ccJoevLK.s 			page 115


 4017              	.LVL373:
 4018              	.LFB128:
1166:lwIP/src/core/pbuf.c **** }
1167:lwIP/src/core/pbuf.c **** 
1168:lwIP/src/core/pbuf.c **** /**
1169:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1170:lwIP/src/core/pbuf.c ****  * Skip a number of bytes at the start of a pbuf
1171:lwIP/src/core/pbuf.c ****  *
1172:lwIP/src/core/pbuf.c ****  * @param in input pbuf
1173:lwIP/src/core/pbuf.c ****  * @param in_offset offset to skip
1174:lwIP/src/core/pbuf.c ****  * @param out_offset resulting offset in the returned pbuf
1175:lwIP/src/core/pbuf.c ****  * @return the pbuf in the queue where the offset is
1176:lwIP/src/core/pbuf.c ****  */
1177:lwIP/src/core/pbuf.c **** struct pbuf *
1178:lwIP/src/core/pbuf.c **** pbuf_skip(struct pbuf *in, u16_t in_offset, u16_t *out_offset)
1179:lwIP/src/core/pbuf.c **** {
 4019              		.loc 1 1179 1 is_stmt 1 view -0
 4020              		.cfi_startproc
 4021              		@ args = 0, pretend = 0, frame = 0
 4022              		@ frame_needed = 0, uses_anonymous_args = 0
 4023              		@ link register save eliminated.
 4024              	.LBB374:
 4025              	.LBB375:
1160:lwIP/src/core/pbuf.c ****   }
 4026              		.loc 1 1160 5 view .LVU1456
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4027              		.loc 1 1158 9 view .LVU1457
 4028 0000 40B1     		cbz	r0, .L387
 4029              	.LVL374:
 4030              	.L397:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4031              		.loc 1 1159 5 view .LVU1458
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4032              		.loc 1 1158 27 is_stmt 0 view .LVU1459
 4033 0002 4389     		ldrh	r3, [r0, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4034              		.loc 1 1158 22 view .LVU1460
 4035 0004 8B42     		cmp	r3, r1
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4036              		.loc 1 1159 17 view .LVU1461
 4037 0006 A1EB0303 		sub	r3, r1, r3
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4038              		.loc 1 1158 22 view .LVU1462
 4039 000a 03D8     		bhi	.L387
1160:lwIP/src/core/pbuf.c ****   }
 4040              		.loc 1 1160 7 view .LVU1463
 4041 000c 0068     		ldr	r0, [r0]
 4042              	.LVL375:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4043              		.loc 1 1159 17 view .LVU1464
 4044 000e 99B2     		uxth	r1, r3
 4045              	.LVL376:
1160:lwIP/src/core/pbuf.c ****   }
 4046              		.loc 1 1160 5 is_stmt 1 view .LVU1465
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4047              		.loc 1 1158 9 view .LVU1466
 4048 0010 0028     		cmp	r0, #0
ARM GAS  /tmp/ccJoevLK.s 			page 116


 4049 0012 F6D1     		bne	.L397
 4050              	.L387:
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 4051              		.loc 1 1162 3 view .LVU1467
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 4052              		.loc 1 1162 6 is_stmt 0 view .LVU1468
 4053 0014 02B1     		cbz	r2, .L385
1163:lwIP/src/core/pbuf.c ****   }
 4054              		.loc 1 1163 5 is_stmt 1 view .LVU1469
1163:lwIP/src/core/pbuf.c ****   }
 4055              		.loc 1 1163 17 is_stmt 0 view .LVU1470
 4056 0016 1180     		strh	r1, [r2]	@ movhi
1165:lwIP/src/core/pbuf.c **** }
 4057              		.loc 1 1165 3 is_stmt 1 view .LVU1471
 4058              	.LVL377:
1165:lwIP/src/core/pbuf.c **** }
 4059              		.loc 1 1165 3 is_stmt 0 view .LVU1472
 4060              	.LBE375:
 4061              	.LBE374:
1180:lwIP/src/core/pbuf.c ****   const struct pbuf *out = pbuf_skip_const(in, in_offset, out_offset);
1181:lwIP/src/core/pbuf.c ****   return LWIP_CONST_CAST(struct pbuf *, out);
 4062              		.loc 1 1181 3 is_stmt 1 view .LVU1473
 4063              	.L385:
1182:lwIP/src/core/pbuf.c **** }
 4064              		.loc 1 1182 1 is_stmt 0 view .LVU1474
 4065 0018 7047     		bx	lr
 4066              		.cfi_endproc
 4067              	.LFE128:
 4069 001a 00BF     		.section	.rodata.pbuf_take.str1.4,"aMS",%progbits,1
 4070              		.align	2
 4071              	.LC24:
 4072 0000 70627566 		.ascii	"pbuf_take: invalid buf\000"
 4072      5F74616B 
 4072      653A2069 
 4072      6E76616C 
 4072      69642062 
 4073 0017 00       		.align	2
 4074              	.LC25:
 4075 0018 70627566 		.ascii	"pbuf_take: invalid dataptr\000"
 4075      5F74616B 
 4075      653A2069 
 4075      6E76616C 
 4075      69642064 
 4076 0033 00       		.align	2
 4077              	.LC26:
 4078 0034 70627566 		.ascii	"pbuf_take: buf not large enough\000"
 4078      5F74616B 
 4078      653A2062 
 4078      7566206E 
 4078      6F74206C 
 4079              		.align	2
 4080              	.LC27:
 4081 0054 70627566 		.ascii	"pbuf_take: invalid pbuf\000"
 4081      5F74616B 
 4081      653A2069 
 4081      6E76616C 
 4081      69642070 
ARM GAS  /tmp/ccJoevLK.s 			page 117


 4082              		.align	2
 4083              	.LC28:
 4084 006c 64696420 		.ascii	"did not copy all data\000"
 4084      6E6F7420 
 4084      636F7079 
 4084      20616C6C 
 4084      20646174 
 4085              		.section	.text.pbuf_take,"ax",%progbits
 4086              		.align	1
 4087              		.p2align 2,,3
 4088              		.global	pbuf_take
 4089              		.syntax unified
 4090              		.thumb
 4091              		.thumb_func
 4092              		.fpu fpv4-sp-d16
 4094              	pbuf_take:
 4095              	.LVL378:
 4096              	.LFB129:
1183:lwIP/src/core/pbuf.c **** 
1184:lwIP/src/core/pbuf.c **** /**
1185:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1186:lwIP/src/core/pbuf.c ****  * Copy application supplied data into a pbuf.
1187:lwIP/src/core/pbuf.c ****  * This function can only be used to copy the equivalent of buf->tot_len data.
1188:lwIP/src/core/pbuf.c ****  *
1189:lwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1190:lwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1191:lwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1192:lwIP/src/core/pbuf.c ****  *
1193:lwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1194:lwIP/src/core/pbuf.c ****  */
1195:lwIP/src/core/pbuf.c **** err_t
1196:lwIP/src/core/pbuf.c **** pbuf_take(struct pbuf *buf, const void *dataptr, u16_t len)
1197:lwIP/src/core/pbuf.c **** {
 4097              		.loc 1 1197 1 is_stmt 1 view -0
 4098              		.cfi_startproc
 4099              		@ args = 0, pretend = 0, frame = 0
 4100              		@ frame_needed = 0, uses_anonymous_args = 0
1198:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 4101              		.loc 1 1198 3 view .LVU1476
1199:lwIP/src/core/pbuf.c ****   size_t buf_copy_len;
 4102              		.loc 1 1199 3 view .LVU1477
1200:lwIP/src/core/pbuf.c ****   size_t total_copy_len = len;
 4103              		.loc 1 1200 3 view .LVU1478
1201:lwIP/src/core/pbuf.c ****   size_t copied_total = 0;
 4104              		.loc 1 1201 3 view .LVU1479
1202:lwIP/src/core/pbuf.c **** 
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid buf", (buf != NULL), return ERR_ARG;);
 4105              		.loc 1 1203 3 view .LVU1480
 4106              		.loc 1 1203 3 view .LVU1481
1197:lwIP/src/core/pbuf.c ****   struct pbuf *p;
 4107              		.loc 1 1197 1 is_stmt 0 view .LVU1482
 4108 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4109              	.LCFI24:
 4110              		.cfi_def_cfa_offset 32
 4111              		.cfi_offset 3, -32
 4112              		.cfi_offset 4, -28
 4113              		.cfi_offset 5, -24
ARM GAS  /tmp/ccJoevLK.s 			page 118


 4114              		.cfi_offset 6, -20
 4115              		.cfi_offset 7, -16
 4116              		.cfi_offset 8, -12
 4117              		.cfi_offset 9, -8
 4118              		.cfi_offset 14, -4
 4119              		.loc 1 1203 3 view .LVU1483
 4120 0004 58B3     		cbz	r0, .L413
 4121              		.loc 1 1203 3 is_stmt 1 discriminator 2 view .LVU1484
 4122              		.loc 1 1203 3 discriminator 2 view .LVU1485
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4123              		.loc 1 1204 3 discriminator 2 view .LVU1486
 4124              		.loc 1 1204 3 discriminator 2 view .LVU1487
 4125 0006 8946     		mov	r9, r1
 4126 0008 69B3     		cbz	r1, .L414
1205:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4127              		.loc 1 1205 3 is_stmt 0 discriminator 2 view .LVU1488
 4128 000a 0389     		ldrh	r3, [r0, #8]
 4129 000c 0446     		mov	r4, r0
 4130 000e 1546     		mov	r5, r2
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4131              		.loc 1 1204 3 is_stmt 1 discriminator 2 view .LVU1489
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4132              		.loc 1 1204 3 discriminator 2 view .LVU1490
 4133              		.loc 1 1205 3 discriminator 2 view .LVU1491
 4134              		.loc 1 1205 3 discriminator 2 view .LVU1492
 4135 0010 9342     		cmp	r3, r2
 4136 0012 19D3     		bcc	.L403
 4137              	.LVL379:
1206:lwIP/src/core/pbuf.c **** 
1207:lwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL) || (buf->tot_len < len)) {
1208:lwIP/src/core/pbuf.c ****     return ERR_ARG;
1209:lwIP/src/core/pbuf.c ****   }
1210:lwIP/src/core/pbuf.c **** 
1211:lwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1212:lwIP/src/core/pbuf.c ****   for (p = buf; total_copy_len != 0; p = p->next) {
 4138              		.loc 1 1212 17 view .LVU1493
 4139              		.loc 1 1212 3 is_stmt 0 view .LVU1494
 4140 0014 02B3     		cbz	r2, .L405
 4141 0016 9046     		mov	r8, r2
1201:lwIP/src/core/pbuf.c **** 
 4142              		.loc 1 1201 10 view .LVU1495
 4143 0018 0027     		movs	r7, #0
 4144 001a 00E0     		b	.L404
 4145              	.LVL380:
 4146              	.L408:
1213:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4147              		.loc 1 1213 5 view .LVU1496
 4148 001c C4B1     		cbz	r4, .L415
 4149              	.LVL381:
 4150              	.L404:
 4151              		.loc 1 1213 5 is_stmt 1 discriminator 2 view .LVU1497
1214:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4152              		.loc 1 1214 5 discriminator 2 view .LVU1498
1215:lwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
 4153              		.loc 1 1215 5 discriminator 2 view .LVU1499
 4154              		.loc 1 1215 25 is_stmt 0 discriminator 2 view .LVU1500
 4155 001e 6689     		ldrh	r6, [r4, #10]
ARM GAS  /tmp/ccJoevLK.s 			page 119


1216:lwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
1217:lwIP/src/core/pbuf.c ****       buf_copy_len = p->len;
1218:lwIP/src/core/pbuf.c ****     }
1219:lwIP/src/core/pbuf.c ****     /* copy the necessary parts of the buffer */
1220:lwIP/src/core/pbuf.c ****     MEMCPY(p->payload, &((const char *)dataptr)[copied_total], buf_copy_len);
 4156              		.loc 1 1220 5 discriminator 2 view .LVU1501
 4157 0020 09EB0701 		add	r1, r9, r7
 4158 0024 6068     		ldr	r0, [r4, #4]
 4159 0026 4645     		cmp	r6, r8
 4160 0028 28BF     		it	cs
 4161 002a 4646     		movcs	r6, r8
 4162              	.LVL382:
 4163              		.loc 1 1220 5 is_stmt 1 discriminator 2 view .LVU1502
 4164 002c 3246     		mov	r2, r6
1221:lwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
1222:lwIP/src/core/pbuf.c ****     copied_total += buf_copy_len;
 4165              		.loc 1 1222 18 is_stmt 0 discriminator 2 view .LVU1503
 4166 002e 3744     		add	r7, r7, r6
 4167              	.LVL383:
1220:lwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 4168              		.loc 1 1220 5 discriminator 2 view .LVU1504
 4169 0030 FFF7FEFF 		bl	memcpy
 4170              	.LVL384:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4171              		.loc 1 1213 5 is_stmt 1 discriminator 2 view .LVU1505
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4172              		.loc 1 1213 5 discriminator 2 view .LVU1506
1221:lwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 4173              		.loc 1 1221 5 discriminator 2 view .LVU1507
 4174              		.loc 1 1222 5 discriminator 2 view .LVU1508
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4175              		.loc 1 1212 38 discriminator 2 view .LVU1509
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4176              		.loc 1 1212 3 is_stmt 0 discriminator 2 view .LVU1510
 4177 0034 B8EB0608 		subs	r8, r8, r6
 4178              	.LVL385:
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4179              		.loc 1 1212 40 discriminator 2 view .LVU1511
 4180 0038 2468     		ldr	r4, [r4]
 4181              	.LVL386:
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4182              		.loc 1 1212 17 is_stmt 1 discriminator 2 view .LVU1512
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4183              		.loc 1 1212 3 is_stmt 0 discriminator 2 view .LVU1513
 4184 003a EFD1     		bne	.L408
1223:lwIP/src/core/pbuf.c ****   }
1224:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("did not copy all data", total_copy_len == 0 && copied_total == len);
 4185              		.loc 1 1224 3 is_stmt 1 discriminator 2 view .LVU1514
 4186              		.loc 1 1224 3 discriminator 2 view .LVU1515
 4187 003c BD42     		cmp	r5, r7
 4188 003e 0BD0     		beq	.L405
 4189              		.loc 1 1224 3 discriminator 3 view .LVU1516
 4190 0040 0B48     		ldr	r0, .L416
 4191 0042 FFF7FEFF 		bl	printf
 4192              	.LVL387:
 4193              	.L409:
 4194              		.loc 1 1224 3 discriminator 5 view .LVU1517
ARM GAS  /tmp/ccJoevLK.s 			page 120


 4195              		.loc 1 1224 3 discriminator 5 view .LVU1518
 4196              		.loc 1 1224 3 discriminator 5 view .LVU1519
 4197              		.loc 1 1224 3 discriminator 5 view .LVU1520
 4198              		.loc 1 1224 3 discriminator 5 view .LVU1521
 4199              		.loc 1 1224 3 discriminator 5 view .LVU1522
 4200 0046 FEE7     		b	.L409
 4201              	.LVL388:
 4202              	.L403:
1205:lwIP/src/core/pbuf.c **** 
 4203              		.loc 1 1205 3 discriminator 1 view .LVU1523
 4204 0048 0A48     		ldr	r0, .L416+4
 4205              	.LVL389:
1205:lwIP/src/core/pbuf.c **** 
 4206              		.loc 1 1205 3 is_stmt 0 discriminator 1 view .LVU1524
 4207 004a FFF7FEFF 		bl	printf
 4208              	.LVL390:
 4209              	.L406:
1205:lwIP/src/core/pbuf.c **** 
 4210              		.loc 1 1205 3 is_stmt 1 discriminator 3 view .LVU1525
1205:lwIP/src/core/pbuf.c **** 
 4211              		.loc 1 1205 3 discriminator 3 view .LVU1526
1205:lwIP/src/core/pbuf.c **** 
 4212              		.loc 1 1205 3 discriminator 3 view .LVU1527
1205:lwIP/src/core/pbuf.c **** 
 4213              		.loc 1 1205 3 discriminator 3 view .LVU1528
1205:lwIP/src/core/pbuf.c **** 
 4214              		.loc 1 1205 3 discriminator 3 view .LVU1529
1205:lwIP/src/core/pbuf.c **** 
 4215              		.loc 1 1205 3 discriminator 3 view .LVU1530
 4216 004e FEE7     		b	.L406
 4217              	.LVL391:
 4218              	.L415:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4219              		.loc 1 1213 5 discriminator 1 view .LVU1531
 4220 0050 0948     		ldr	r0, .L416+8
 4221 0052 FFF7FEFF 		bl	printf
 4222              	.LVL392:
 4223              	.L407:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4224              		.loc 1 1213 5 discriminator 4 view .LVU1532
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4225              		.loc 1 1213 5 discriminator 4 view .LVU1533
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4226              		.loc 1 1213 5 discriminator 4 view .LVU1534
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4227              		.loc 1 1213 5 discriminator 4 view .LVU1535
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4228              		.loc 1 1213 5 discriminator 4 view .LVU1536
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4229              		.loc 1 1213 5 discriminator 4 view .LVU1537
 4230 0056 FEE7     		b	.L407
 4231              	.LVL393:
 4232              	.L405:
1225:lwIP/src/core/pbuf.c ****   return ERR_OK;
1226:lwIP/src/core/pbuf.c **** }
 4233              		.loc 1 1226 1 is_stmt 0 view .LVU1538
 4234 0058 0020     		movs	r0, #0
ARM GAS  /tmp/ccJoevLK.s 			page 121


 4235 005a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4236              	.LVL394:
 4237              	.L413:
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4238              		.loc 1 1203 3 is_stmt 1 discriminator 1 view .LVU1539
 4239 005e 0748     		ldr	r0, .L416+12
 4240              	.LVL395:
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4241              		.loc 1 1203 3 is_stmt 0 discriminator 1 view .LVU1540
 4242 0060 FFF7FEFF 		bl	printf
 4243              	.LVL396:
 4244              	.L400:
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4245              		.loc 1 1203 3 is_stmt 1 discriminator 1 view .LVU1541
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4246              		.loc 1 1203 3 discriminator 1 view .LVU1542
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4247              		.loc 1 1203 3 discriminator 1 view .LVU1543
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4248              		.loc 1 1203 3 discriminator 1 view .LVU1544
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4249              		.loc 1 1203 3 discriminator 1 view .LVU1545
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4250              		.loc 1 1203 3 discriminator 1 view .LVU1546
 4251 0064 FEE7     		b	.L400
 4252              	.LVL397:
 4253              	.L414:
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4254              		.loc 1 1204 3 discriminator 1 view .LVU1547
 4255 0066 0648     		ldr	r0, .L416+16
 4256              	.LVL398:
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4257              		.loc 1 1204 3 is_stmt 0 discriminator 1 view .LVU1548
 4258 0068 FFF7FEFF 		bl	printf
 4259              	.LVL399:
 4260              	.L402:
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4261              		.loc 1 1204 3 is_stmt 1 discriminator 2 view .LVU1549
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4262              		.loc 1 1204 3 discriminator 2 view .LVU1550
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4263              		.loc 1 1204 3 discriminator 2 view .LVU1551
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4264              		.loc 1 1204 3 discriminator 2 view .LVU1552
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4265              		.loc 1 1204 3 discriminator 2 view .LVU1553
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4266              		.loc 1 1204 3 discriminator 2 view .LVU1554
 4267 006c FEE7     		b	.L402
 4268              	.L417:
 4269 006e 00BF     		.align	2
 4270              	.L416:
 4271 0070 6C000000 		.word	.LC28
 4272 0074 34000000 		.word	.LC26
 4273 0078 54000000 		.word	.LC27
 4274 007c 00000000 		.word	.LC24
 4275 0080 18000000 		.word	.LC25
ARM GAS  /tmp/ccJoevLK.s 			page 122


 4276              		.cfi_endproc
 4277              	.LFE129:
 4279              		.section	.text.pbuf_take_at,"ax",%progbits
 4280              		.align	1
 4281              		.p2align 2,,3
 4282              		.global	pbuf_take_at
 4283              		.syntax unified
 4284              		.thumb
 4285              		.thumb_func
 4286              		.fpu fpv4-sp-d16
 4288              	pbuf_take_at:
 4289              	.LVL400:
 4290              	.LFB130:
1227:lwIP/src/core/pbuf.c **** 
1228:lwIP/src/core/pbuf.c **** /**
1229:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1230:lwIP/src/core/pbuf.c ****  * Same as pbuf_take() but puts data at an offset
1231:lwIP/src/core/pbuf.c ****  *
1232:lwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1233:lwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1234:lwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1235:lwIP/src/core/pbuf.c ****  * @param offset offset in pbuf where to copy dataptr to
1236:lwIP/src/core/pbuf.c ****  *
1237:lwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1238:lwIP/src/core/pbuf.c ****  */
1239:lwIP/src/core/pbuf.c **** err_t
1240:lwIP/src/core/pbuf.c **** pbuf_take_at(struct pbuf *buf, const void *dataptr, u16_t len, u16_t offset)
1241:lwIP/src/core/pbuf.c **** {
 4291              		.loc 1 1241 1 view -0
 4292              		.cfi_startproc
 4293              		@ args = 0, pretend = 0, frame = 0
 4294              		@ frame_needed = 0, uses_anonymous_args = 0
1242:lwIP/src/core/pbuf.c ****   u16_t target_offset;
 4295              		.loc 1 1242 3 view .LVU1556
1243:lwIP/src/core/pbuf.c ****   struct pbuf *q = pbuf_skip(buf, offset, &target_offset);
 4296              		.loc 1 1243 3 view .LVU1557
 4297              	.LBB383:
 4298              	.LBI383:
1178:lwIP/src/core/pbuf.c **** {
 4299              		.loc 1 1178 1 view .LVU1558
 4300              	.LBB384:
1180:lwIP/src/core/pbuf.c ****   return LWIP_CONST_CAST(struct pbuf *, out);
 4301              		.loc 1 1180 3 view .LVU1559
 4302              	.LBB385:
 4303              	.LBI385:
1152:lwIP/src/core/pbuf.c **** {
 4304              		.loc 1 1152 1 view .LVU1560
 4305              	.LBB386:
1154:lwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
 4306              		.loc 1 1154 3 view .LVU1561
1155:lwIP/src/core/pbuf.c **** 
 4307              		.loc 1 1155 3 view .LVU1562
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4308              		.loc 1 1158 3 view .LVU1563
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4309              		.loc 1 1158 9 view .LVU1564
 4310 0000 0028     		cmp	r0, #0
ARM GAS  /tmp/ccJoevLK.s 			page 123


 4311 0002 4BD0     		beq	.L446
 4312              	.LBE386:
 4313              	.LBE385:
 4314              	.LBE384:
 4315              	.LBE383:
1241:lwIP/src/core/pbuf.c ****   u16_t target_offset;
 4316              		.loc 1 1241 1 is_stmt 0 view .LVU1565
 4317 0004 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4318              	.LCFI25:
 4319              		.cfi_def_cfa_offset 32
 4320              		.cfi_offset 4, -32
 4321              		.cfi_offset 5, -28
 4322              		.cfi_offset 6, -24
 4323              		.cfi_offset 7, -20
 4324              		.cfi_offset 8, -16
 4325              		.cfi_offset 9, -12
 4326              		.cfi_offset 10, -8
 4327              		.cfi_offset 14, -4
 4328 0008 0F46     		mov	r7, r1
 4329 000a 0446     		mov	r4, r0
 4330 000c 03E0     		b	.L419
 4331              	.LVL401:
 4332              	.L421:
 4333              	.LBB390:
 4334              	.LBB389:
 4335              	.LBB388:
 4336              	.LBB387:
1160:lwIP/src/core/pbuf.c ****   }
 4337              		.loc 1 1160 7 view .LVU1566
 4338 000e 2468     		ldr	r4, [r4]
 4339              	.LVL402:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4340              		.loc 1 1159 17 view .LVU1567
 4341 0010 8BB2     		uxth	r3, r1
 4342              	.LVL403:
1160:lwIP/src/core/pbuf.c ****   }
 4343              		.loc 1 1160 5 is_stmt 1 view .LVU1568
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4344              		.loc 1 1158 9 view .LVU1569
 4345 0012 002C     		cmp	r4, #0
 4346 0014 3ED0     		beq	.L444
 4347              	.LVL404:
 4348              	.L419:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4349              		.loc 1 1159 5 view .LVU1570
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4350              		.loc 1 1158 27 is_stmt 0 view .LVU1571
 4351 0016 6689     		ldrh	r6, [r4, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4352              		.loc 1 1158 22 view .LVU1572
 4353 0018 9E42     		cmp	r6, r3
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4354              		.loc 1 1159 17 view .LVU1573
 4355 001a A3EB0601 		sub	r1, r3, r6
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4356              		.loc 1 1158 22 view .LVU1574
 4357 001e F6D9     		bls	.L421
ARM GAS  /tmp/ccJoevLK.s 			page 124


1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 4358              		.loc 1 1162 3 is_stmt 1 view .LVU1575
1163:lwIP/src/core/pbuf.c ****   }
 4359              		.loc 1 1163 5 view .LVU1576
 4360              	.LVL405:
1165:lwIP/src/core/pbuf.c **** }
 4361              		.loc 1 1165 3 view .LVU1577
1165:lwIP/src/core/pbuf.c **** }
 4362              		.loc 1 1165 3 is_stmt 0 view .LVU1578
 4363              	.LBE387:
 4364              	.LBE388:
1181:lwIP/src/core/pbuf.c **** }
 4365              		.loc 1 1181 3 is_stmt 1 view .LVU1579
1181:lwIP/src/core/pbuf.c **** }
 4366              		.loc 1 1181 3 is_stmt 0 view .LVU1580
 4367              	.LBE389:
 4368              	.LBE390:
1244:lwIP/src/core/pbuf.c **** 
1245:lwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1246:lwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->tot_len >= target_offset + len)) {
 4369              		.loc 1 1246 3 is_stmt 1 view .LVU1581
 4370              		.loc 1 1246 24 is_stmt 0 view .LVU1582
 4371 0020 2189     		ldrh	r1, [r4, #8]
 4372              		.loc 1 1246 51 view .LVU1583
 4373 0022 9D18     		adds	r5, r3, r2
 4374              		.loc 1 1246 19 view .LVU1584
 4375 0024 A942     		cmp	r1, r5
 4376 0026 35DB     		blt	.L444
 4377              	.LBB391:
1247:lwIP/src/core/pbuf.c ****     u16_t remaining_len = len;
 4378              		.loc 1 1247 5 is_stmt 1 discriminator 2 view .LVU1585
 4379              	.LVL406:
1248:lwIP/src/core/pbuf.c ****     const u8_t *src_ptr = (const u8_t *)dataptr;
 4380              		.loc 1 1248 5 discriminator 2 view .LVU1586
1249:lwIP/src/core/pbuf.c ****     /* copy the part that goes into the first pbuf */
1250:lwIP/src/core/pbuf.c ****     u16_t first_copy_len;
 4381              		.loc 1 1250 5 discriminator 2 view .LVU1587
1251:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("check pbuf_skip result", target_offset < q->len);
 4382              		.loc 1 1251 5 discriminator 2 view .LVU1588
 4383              		.loc 1 1251 5 discriminator 2 view .LVU1589
 4384              		.loc 1 1251 5 discriminator 2 view .LVU1590
1252:lwIP/src/core/pbuf.c ****     first_copy_len = (u16_t)LWIP_MIN(q->len - target_offset, len);
 4385              		.loc 1 1252 5 discriminator 2 view .LVU1591
 4386              		.loc 1 1252 29 is_stmt 0 discriminator 2 view .LVU1592
 4387 0028 A6EB0308 		sub	r8, r6, r3
 4388 002c 6068     		ldr	r0, [r4, #4]
 4389              	.LVL407:
 4390              		.loc 1 1252 22 discriminator 2 view .LVU1593
 4391 002e 4245     		cmp	r2, r8
 4392 0030 1844     		add	r0, r0, r3
 4393 0032 05DC     		bgt	.L447
 4394              	.LVL408:
1253:lwIP/src/core/pbuf.c ****     MEMCPY(((u8_t *)q->payload) + target_offset, dataptr, first_copy_len);
 4395              		.loc 1 1253 5 is_stmt 1 view .LVU1594
 4396 0034 3946     		mov	r1, r7
 4397 0036 FFF7FEFF 		bl	memcpy
 4398              	.LVL409:
ARM GAS  /tmp/ccJoevLK.s 			page 125


 4399              	.L445:
1254:lwIP/src/core/pbuf.c ****     remaining_len = (u16_t)(remaining_len - first_copy_len);
 4400              		.loc 1 1254 5 view .LVU1595
1255:lwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 4401              		.loc 1 1255 5 view .LVU1596
1256:lwIP/src/core/pbuf.c ****     if (remaining_len > 0) {
 4402              		.loc 1 1256 5 view .LVU1597
1257:lwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
1258:lwIP/src/core/pbuf.c ****     }
1259:lwIP/src/core/pbuf.c ****     return ERR_OK;
 4403              		.loc 1 1259 12 is_stmt 0 view .LVU1598
 4404 003a 0020     		movs	r0, #0
 4405              	.LBE391:
1260:lwIP/src/core/pbuf.c ****   }
1261:lwIP/src/core/pbuf.c ****   return ERR_MEM;
1262:lwIP/src/core/pbuf.c **** }
 4406              		.loc 1 1262 1 view .LVU1599
 4407 003c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4408              	.LVL410:
 4409              	.L447:
 4410              	.LBB396:
1253:lwIP/src/core/pbuf.c ****     remaining_len = (u16_t)(remaining_len - first_copy_len);
 4411              		.loc 1 1253 5 is_stmt 1 discriminator 1 view .LVU1600
1254:lwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 4412              		.loc 1 1254 19 is_stmt 0 discriminator 1 view .LVU1601
 4413 0040 AD1B     		subs	r5, r5, r6
1253:lwIP/src/core/pbuf.c ****     remaining_len = (u16_t)(remaining_len - first_copy_len);
 4414              		.loc 1 1253 5 discriminator 1 view .LVU1602
 4415 0042 1FFA88F8 		uxth	r8, r8
 4416 0046 3946     		mov	r1, r7
1254:lwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 4417              		.loc 1 1254 19 discriminator 1 view .LVU1603
 4418 0048 ADB2     		uxth	r5, r5
1253:lwIP/src/core/pbuf.c ****     remaining_len = (u16_t)(remaining_len - first_copy_len);
 4419              		.loc 1 1253 5 discriminator 1 view .LVU1604
 4420 004a 4246     		mov	r2, r8
 4421              	.LVL411:
1253:lwIP/src/core/pbuf.c ****     remaining_len = (u16_t)(remaining_len - first_copy_len);
 4422              		.loc 1 1253 5 discriminator 1 view .LVU1605
 4423 004c FFF7FEFF 		bl	memcpy
 4424              	.LVL412:
1254:lwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 4425              		.loc 1 1254 5 is_stmt 1 discriminator 1 view .LVU1606
1255:lwIP/src/core/pbuf.c ****     if (remaining_len > 0) {
 4426              		.loc 1 1255 5 discriminator 1 view .LVU1607
1256:lwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
 4427              		.loc 1 1256 5 discriminator 1 view .LVU1608
1256:lwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
 4428              		.loc 1 1256 8 is_stmt 0 discriminator 1 view .LVU1609
 4429 0050 002D     		cmp	r5, #0
 4430 0052 F2D0     		beq	.L445
1257:lwIP/src/core/pbuf.c ****     }
 4431              		.loc 1 1257 7 is_stmt 1 view .LVU1610
1257:lwIP/src/core/pbuf.c ****     }
 4432              		.loc 1 1257 14 is_stmt 0 view .LVU1611
 4433 0054 2468     		ldr	r4, [r4]
 4434              	.LVL413:
ARM GAS  /tmp/ccJoevLK.s 			page 126


 4435              	.LBB392:
 4436              	.LBI392:
1196:lwIP/src/core/pbuf.c **** {
 4437              		.loc 1 1196 1 is_stmt 1 view .LVU1612
 4438              	.LBB393:
1198:lwIP/src/core/pbuf.c ****   size_t buf_copy_len;
 4439              		.loc 1 1198 3 view .LVU1613
1199:lwIP/src/core/pbuf.c ****   size_t total_copy_len = len;
 4440              		.loc 1 1199 3 view .LVU1614
1200:lwIP/src/core/pbuf.c ****   size_t copied_total = 0;
 4441              		.loc 1 1200 3 view .LVU1615
1201:lwIP/src/core/pbuf.c **** 
 4442              		.loc 1 1201 3 view .LVU1616
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4443              		.loc 1 1203 3 view .LVU1617
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4444              		.loc 1 1203 3 view .LVU1618
 4445 0056 44B3     		cbz	r4, .L448
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4446              		.loc 1 1203 3 view .LVU1619
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4447              		.loc 1 1203 3 view .LVU1620
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4448              		.loc 1 1204 3 view .LVU1621
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4449              		.loc 1 1204 3 view .LVU1622
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4450              		.loc 1 1204 3 view .LVU1623
1204:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 4451              		.loc 1 1204 3 view .LVU1624
1205:lwIP/src/core/pbuf.c **** 
 4452              		.loc 1 1205 3 view .LVU1625
1205:lwIP/src/core/pbuf.c **** 
 4453              		.loc 1 1205 3 view .LVU1626
 4454 0058 2389     		ldrh	r3, [r4, #8]
 4455 005a AB42     		cmp	r3, r5
 4456 005c 21D3     		bcc	.L449
1200:lwIP/src/core/pbuf.c ****   size_t copied_total = 0;
 4457              		.loc 1 1200 10 is_stmt 0 view .LVU1627
 4458 005e AA46     		mov	r10, r5
1201:lwIP/src/core/pbuf.c **** 
 4459              		.loc 1 1201 10 view .LVU1628
 4460 0060 4FF00009 		mov	r9, #0
 4461 0064 00E0     		b	.L429
 4462              	.LVL414:
 4463              	.L431:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4464              		.loc 1 1213 5 view .LVU1629
 4465 0066 24B3     		cbz	r4, .L450
 4466              	.LVL415:
 4467              	.L429:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4468              		.loc 1 1213 5 is_stmt 1 view .LVU1630
1214:lwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
 4469              		.loc 1 1214 5 view .LVU1631
1215:lwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
 4470              		.loc 1 1215 5 view .LVU1632
ARM GAS  /tmp/ccJoevLK.s 			page 127


1215:lwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
 4471              		.loc 1 1215 25 is_stmt 0 view .LVU1633
 4472 0068 6689     		ldrh	r6, [r4, #10]
1220:lwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 4473              		.loc 1 1220 5 view .LVU1634
 4474 006a 08EB0901 		add	r1, r8, r9
 4475 006e 6068     		ldr	r0, [r4, #4]
 4476 0070 5645     		cmp	r6, r10
 4477 0072 3944     		add	r1, r1, r7
 4478 0074 28BF     		it	cs
 4479 0076 5646     		movcs	r6, r10
 4480              	.LVL416:
1220:lwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 4481              		.loc 1 1220 5 is_stmt 1 view .LVU1635
 4482 0078 3246     		mov	r2, r6
1222:lwIP/src/core/pbuf.c ****   }
 4483              		.loc 1 1222 18 is_stmt 0 view .LVU1636
 4484 007a B144     		add	r9, r9, r6
 4485              	.LVL417:
1220:lwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 4486              		.loc 1 1220 5 view .LVU1637
 4487 007c FFF7FEFF 		bl	memcpy
 4488              	.LVL418:
1221:lwIP/src/core/pbuf.c ****     copied_total += buf_copy_len;
 4489              		.loc 1 1221 5 is_stmt 1 view .LVU1638
1222:lwIP/src/core/pbuf.c ****   }
 4490              		.loc 1 1222 5 view .LVU1639
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4491              		.loc 1 1212 38 view .LVU1640
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4492              		.loc 1 1212 3 is_stmt 0 view .LVU1641
 4493 0080 BAEB060A 		subs	r10, r10, r6
 4494              	.LVL419:
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4495              		.loc 1 1212 40 view .LVU1642
 4496 0084 2468     		ldr	r4, [r4]
 4497              	.LVL420:
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4498              		.loc 1 1212 17 is_stmt 1 view .LVU1643
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4499              		.loc 1 1213 5 view .LVU1644
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4500              		.loc 1 1213 5 view .LVU1645
1212:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 4501              		.loc 1 1212 3 is_stmt 0 view .LVU1646
 4502 0086 EED1     		bne	.L431
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4503              		.loc 1 1224 3 is_stmt 1 view .LVU1647
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4504              		.loc 1 1224 3 view .LVU1648
 4505 0088 4D45     		cmp	r5, r9
 4506 008a D6D0     		beq	.L445
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4507              		.loc 1 1224 3 view .LVU1649
 4508 008c 0B48     		ldr	r0, .L451
 4509 008e FFF7FEFF 		bl	printf
 4510              	.LVL421:
ARM GAS  /tmp/ccJoevLK.s 			page 128


 4511              	.L433:
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4512              		.loc 1 1224 3 view .LVU1650
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4513              		.loc 1 1224 3 view .LVU1651
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4514              		.loc 1 1224 3 view .LVU1652
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4515              		.loc 1 1224 3 view .LVU1653
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4516              		.loc 1 1224 3 view .LVU1654
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4517              		.loc 1 1224 3 view .LVU1655
 4518 0092 FEE7     		b	.L433
 4519              	.LVL422:
 4520              	.L444:
1224:lwIP/src/core/pbuf.c ****   return ERR_OK;
 4521              		.loc 1 1224 3 is_stmt 0 view .LVU1656
 4522              	.LBE393:
 4523              	.LBE392:
 4524              	.LBE396:
1261:lwIP/src/core/pbuf.c **** }
 4525              		.loc 1 1261 10 view .LVU1657
 4526 0094 4FF0FF30 		mov	r0, #-1
 4527              	.LVL423:
 4528              		.loc 1 1262 1 view .LVU1658
 4529 0098 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4530              	.LVL424:
 4531              	.L446:
 4532              	.LCFI26:
 4533              		.cfi_def_cfa_offset 0
 4534              		.cfi_restore 4
 4535              		.cfi_restore 5
 4536              		.cfi_restore 6
 4537              		.cfi_restore 7
 4538              		.cfi_restore 8
 4539              		.cfi_restore 9
 4540              		.cfi_restore 10
 4541              		.cfi_restore 14
1261:lwIP/src/core/pbuf.c **** }
 4542              		.loc 1 1261 10 view .LVU1659
 4543 009c 4FF0FF30 		mov	r0, #-1
 4544              	.LVL425:
 4545              		.loc 1 1262 1 view .LVU1660
 4546 00a0 7047     		bx	lr
 4547              	.LVL426:
 4548              	.L449:
 4549              	.LCFI27:
 4550              		.cfi_def_cfa_offset 32
 4551              		.cfi_offset 4, -32
 4552              		.cfi_offset 5, -28
 4553              		.cfi_offset 6, -24
 4554              		.cfi_offset 7, -20
 4555              		.cfi_offset 8, -16
 4556              		.cfi_offset 9, -12
 4557              		.cfi_offset 10, -8
 4558              		.cfi_offset 14, -4
ARM GAS  /tmp/ccJoevLK.s 			page 129


 4559              	.LBB397:
 4560              	.LBB395:
 4561              	.LBB394:
1205:lwIP/src/core/pbuf.c **** 
 4562              		.loc 1 1205 3 is_stmt 1 view .LVU1661
 4563 00a2 0748     		ldr	r0, .L451+4
 4564 00a4 FFF7FEFF 		bl	printf
 4565              	.LVL427:
 4566              	.L428:
1205:lwIP/src/core/pbuf.c **** 
 4567              		.loc 1 1205 3 view .LVU1662
1205:lwIP/src/core/pbuf.c **** 
 4568              		.loc 1 1205 3 view .LVU1663
1205:lwIP/src/core/pbuf.c **** 
 4569              		.loc 1 1205 3 view .LVU1664
1205:lwIP/src/core/pbuf.c **** 
 4570              		.loc 1 1205 3 view .LVU1665
1205:lwIP/src/core/pbuf.c **** 
 4571              		.loc 1 1205 3 view .LVU1666
1205:lwIP/src/core/pbuf.c **** 
 4572              		.loc 1 1205 3 view .LVU1667
 4573 00a8 FEE7     		b	.L428
 4574              	.L448:
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4575              		.loc 1 1203 3 view .LVU1668
 4576 00aa 0648     		ldr	r0, .L451+8
 4577 00ac FFF7FEFF 		bl	printf
 4578              	.LVL428:
 4579              	.L426:
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4580              		.loc 1 1203 3 view .LVU1669
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4581              		.loc 1 1203 3 view .LVU1670
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4582              		.loc 1 1203 3 view .LVU1671
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4583              		.loc 1 1203 3 view .LVU1672
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4584              		.loc 1 1203 3 view .LVU1673
1203:lwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 4585              		.loc 1 1203 3 view .LVU1674
 4586 00b0 FEE7     		b	.L426
 4587              	.LVL429:
 4588              	.L450:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4589              		.loc 1 1213 5 view .LVU1675
 4590 00b2 0548     		ldr	r0, .L451+12
 4591 00b4 FFF7FEFF 		bl	printf
 4592              	.LVL430:
 4593              	.L430:
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4594              		.loc 1 1213 5 view .LVU1676
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4595              		.loc 1 1213 5 view .LVU1677
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4596              		.loc 1 1213 5 view .LVU1678
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
ARM GAS  /tmp/ccJoevLK.s 			page 130


 4597              		.loc 1 1213 5 view .LVU1679
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4598              		.loc 1 1213 5 view .LVU1680
1213:lwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 4599              		.loc 1 1213 5 view .LVU1681
 4600 00b8 FEE7     		b	.L430
 4601              	.L452:
 4602 00ba 00BF     		.align	2
 4603              	.L451:
 4604 00bc 6C000000 		.word	.LC28
 4605 00c0 34000000 		.word	.LC26
 4606 00c4 00000000 		.word	.LC24
 4607 00c8 54000000 		.word	.LC27
 4608              	.LBE394:
 4609              	.LBE395:
 4610              	.LBE397:
 4611              		.cfi_endproc
 4612              	.LFE130:
 4614              		.section	.rodata.pbuf_coalesce.str1.4,"aMS",%progbits,1
 4615              		.align	2
 4616              	.LC29:
 4617 0000 70627566 		.ascii	"pbuf_copy failed\000"
 4617      5F636F70 
 4617      79206661 
 4617      696C6564 
 4617      00
 4618              		.section	.text.pbuf_coalesce,"ax",%progbits
 4619              		.align	1
 4620              		.p2align 2,,3
 4621              		.global	pbuf_coalesce
 4622              		.syntax unified
 4623              		.thumb
 4624              		.thumb_func
 4625              		.fpu fpv4-sp-d16
 4627              	pbuf_coalesce:
 4628              	.LVL431:
 4629              	.LFB131:
1263:lwIP/src/core/pbuf.c **** 
1264:lwIP/src/core/pbuf.c **** /**
1265:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1266:lwIP/src/core/pbuf.c ****  * Creates a single pbuf out of a queue of pbufs.
1267:lwIP/src/core/pbuf.c ****  *
1268:lwIP/src/core/pbuf.c ****  * @remark: Either the source pbuf 'p' is freed by this function or the original
1269:lwIP/src/core/pbuf.c ****  *          pbuf 'p' is returned, therefore the caller has to check the result!
1270:lwIP/src/core/pbuf.c ****  *
1271:lwIP/src/core/pbuf.c ****  * @param p the source pbuf
1272:lwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1273:lwIP/src/core/pbuf.c ****  *
1274:lwIP/src/core/pbuf.c ****  * @return a new, single pbuf (p->next is NULL)
1275:lwIP/src/core/pbuf.c ****  *         or the old pbuf if allocation fails
1276:lwIP/src/core/pbuf.c ****  */
1277:lwIP/src/core/pbuf.c **** struct pbuf *
1278:lwIP/src/core/pbuf.c **** pbuf_coalesce(struct pbuf *p, pbuf_layer layer)
1279:lwIP/src/core/pbuf.c **** {
 4630              		.loc 1 1279 1 view -0
 4631              		.cfi_startproc
 4632              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccJoevLK.s 			page 131


 4633              		@ frame_needed = 0, uses_anonymous_args = 0
1280:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4634              		.loc 1 1280 3 view .LVU1683
1281:lwIP/src/core/pbuf.c ****   if (p->next == NULL) {
 4635              		.loc 1 1281 3 view .LVU1684
1279:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4636              		.loc 1 1279 1 is_stmt 0 view .LVU1685
 4637 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4638              	.LCFI28:
 4639              		.cfi_def_cfa_offset 24
 4640              		.cfi_offset 3, -24
 4641              		.cfi_offset 4, -20
 4642              		.cfi_offset 5, -16
 4643              		.cfi_offset 6, -12
 4644              		.cfi_offset 7, -8
 4645              		.cfi_offset 14, -4
 4646              		.loc 1 1281 6 view .LVU1686
 4647 0002 0368     		ldr	r3, [r0]
1279:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4648              		.loc 1 1279 1 view .LVU1687
 4649 0004 0646     		mov	r6, r0
 4650              		.loc 1 1281 6 view .LVU1688
 4651 0006 63B3     		cbz	r3, .L454
 4652              	.LBB419:
 4653              	.LBB420:
1282:lwIP/src/core/pbuf.c ****     return p;
1283:lwIP/src/core/pbuf.c ****   }
1284:lwIP/src/core/pbuf.c ****   q = pbuf_clone(layer, PBUF_RAM, p);
1285:lwIP/src/core/pbuf.c ****   if (q == NULL) {
1286:lwIP/src/core/pbuf.c ****     /* @todo: what do we do now? */
1287:lwIP/src/core/pbuf.c ****     return p;
1288:lwIP/src/core/pbuf.c ****   }
1289:lwIP/src/core/pbuf.c ****   pbuf_free(p);
1290:lwIP/src/core/pbuf.c ****   return q;
1291:lwIP/src/core/pbuf.c **** }
1292:lwIP/src/core/pbuf.c **** 
1293:lwIP/src/core/pbuf.c **** /**
1294:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1295:lwIP/src/core/pbuf.c ****  * Allocates a new pbuf of same length (via pbuf_alloc()) and copies the source
1296:lwIP/src/core/pbuf.c ****  * pbuf into this new pbuf (using pbuf_copy()).
1297:lwIP/src/core/pbuf.c ****  *
1298:lwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1299:lwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf should be allocated
1300:lwIP/src/core/pbuf.c ****  *             (@see pbuf_alloc())
1301:lwIP/src/core/pbuf.c ****  * @param p the source pbuf
1302:lwIP/src/core/pbuf.c ****  *
1303:lwIP/src/core/pbuf.c ****  * @return a new pbuf or NULL if allocation fails
1304:lwIP/src/core/pbuf.c ****  */
1305:lwIP/src/core/pbuf.c **** struct pbuf *
1306:lwIP/src/core/pbuf.c **** pbuf_clone(pbuf_layer layer, pbuf_type type, struct pbuf *p)
1307:lwIP/src/core/pbuf.c **** {
1308:lwIP/src/core/pbuf.c ****   struct pbuf *q;
1309:lwIP/src/core/pbuf.c ****   err_t err;
1310:lwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, type);
 4654              		.loc 1 1310 7 view .LVU1689
 4655 0008 0789     		ldrh	r7, [r0, #8]
 4656              	.LBB421:
ARM GAS  /tmp/ccJoevLK.s 			page 132


 4657              	.LBB422:
 4658              	.LBB423:
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 4659              		.loc 1 274 35 view .LVU1690
 4660 000a CB1C     		adds	r3, r1, #3
 4661 000c 0C46     		mov	r4, r1
 4662              	.LBE423:
 4663              	.LBE422:
 4664              	.LBE421:
 4665              	.LBE420:
 4666              	.LBE419:
1284:lwIP/src/core/pbuf.c ****   if (q == NULL) {
 4667              		.loc 1 1284 3 is_stmt 1 view .LVU1691
 4668              	.LVL432:
 4669              	.LBB440:
 4670              	.LBI419:
1306:lwIP/src/core/pbuf.c **** {
 4671              		.loc 1 1306 1 view .LVU1692
 4672              	.LBB438:
1308:lwIP/src/core/pbuf.c ****   err_t err;
 4673              		.loc 1 1308 3 view .LVU1693
1309:lwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, type);
 4674              		.loc 1 1309 3 view .LVU1694
 4675              		.loc 1 1310 3 view .LVU1695
 4676              	.LBB436:
 4677              	.LBI421:
 224:lwIP/src/core/pbuf.c **** {
 4678              		.loc 1 224 1 view .LVU1696
 4679              	.LBB434:
 226:lwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)layer;
 4680              		.loc 1 226 3 view .LVU1697
 227:lwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 4681              		.loc 1 227 3 view .LVU1698
 228:lwIP/src/core/pbuf.c **** 
 4682              		.loc 1 228 86 view .LVU1699
 230:lwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 4683              		.loc 1 230 3 view .LVU1700
 4684              	.LBB432:
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 4685              		.loc 1 274 7 view .LVU1701
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 4686              		.loc 1 274 65 is_stmt 0 view .LVU1702
 4687 000e FA1C     		adds	r2, r7, #3
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 4688              		.loc 1 274 35 view .LVU1703
 4689 0010 23F00303 		bic	r3, r3, #3
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 4690              		.loc 1 274 65 view .LVU1704
 4691 0014 22F00302 		bic	r2, r2, #3
 274:lwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 4692              		.loc 1 274 13 view .LVU1705
 4693 0018 1344     		add	r3, r3, r2
 4694 001a 9BB2     		uxth	r3, r3
 4695              	.LVL433:
 275:lwIP/src/core/pbuf.c **** 
 4696              		.loc 1 275 7 is_stmt 1 view .LVU1706
 275:lwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccJoevLK.s 			page 133


 4697              		.loc 1 275 18 is_stmt 0 view .LVU1707
 4698 001c 03F11000 		add	r0, r3, #16
 4699              	.LVL434:
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 4700              		.loc 1 278 10 view .LVU1708
 4701 0020 9342     		cmp	r3, r2
 275:lwIP/src/core/pbuf.c **** 
 4702              		.loc 1 275 18 view .LVU1709
 4703 0022 80B2     		uxth	r0, r0
 4704              	.LVL435:
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 4705              		.loc 1 278 7 is_stmt 1 view .LVU1710
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 4706              		.loc 1 278 10 is_stmt 0 view .LVU1711
 4707 0024 1DD3     		bcc	.L454
 278:lwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 4708              		.loc 1 278 55 view .LVU1712
 4709 0026 8242     		cmp	r2, r0
 4710 0028 1BD8     		bhi	.L454
 284:lwIP/src/core/pbuf.c ****       if (p == NULL) {
 4711              		.loc 1 284 7 is_stmt 1 view .LVU1713
 284:lwIP/src/core/pbuf.c ****       if (p == NULL) {
 4712              		.loc 1 284 26 is_stmt 0 view .LVU1714
 4713 002a FFF7FEFF 		bl	mem_malloc
 4714              	.LVL436:
 285:lwIP/src/core/pbuf.c ****         return NULL;
 4715              		.loc 1 285 7 is_stmt 1 view .LVU1715
 285:lwIP/src/core/pbuf.c ****         return NULL;
 4716              		.loc 1 285 10 is_stmt 0 view .LVU1716
 4717 002e 0546     		mov	r5, r0
 4718 0030 B8B1     		cbz	r0, .L454
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 4719              		.loc 1 288 7 is_stmt 1 view .LVU1717
 4720              	.LVL437:
 4721              	.LBB424:
 4722              	.LBI424:
 179:lwIP/src/core/pbuf.c **** {
 4723              		.loc 1 179 1 view .LVU1718
 4724              	.LBB425:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 4725              		.loc 1 181 3 view .LVU1719
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 4726              		.loc 1 181 11 is_stmt 0 view .LVU1720
 4727 0032 0022     		movs	r2, #0
 4728              	.LBE425:
 4729              	.LBE424:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 4730              		.loc 1 288 33 view .LVU1721
 4731 0034 0444     		add	r4, r4, r0
 4732              	.LVL438:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 4733              		.loc 1 288 33 view .LVU1722
 4734              	.LBE432:
 4735              	.LBE434:
 4736              	.LBE436:
1311:lwIP/src/core/pbuf.c ****   if (q == NULL) {
1312:lwIP/src/core/pbuf.c ****     return NULL;
ARM GAS  /tmp/ccJoevLK.s 			page 134


1313:lwIP/src/core/pbuf.c ****   }
1314:lwIP/src/core/pbuf.c ****   err = pbuf_copy(q, p);
 4737              		.loc 1 1314 9 view .LVU1723
 4738 0036 3146     		mov	r1, r6
 4739              	.LBB437:
 4740              	.LBB435:
 4741              	.LBB433:
 4742              	.LBB429:
 4743              	.LBB426:
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 4744              		.loc 1 183 14 view .LVU1724
 4745 0038 1346     		mov	r3, r2
 4746              	.LBE426:
 4747              	.LBE429:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 4748              		.loc 1 288 33 view .LVU1725
 4749 003a 1334     		adds	r4, r4, #19
 4750              	.LBB430:
 4751              	.LBB427:
 181:lwIP/src/core/pbuf.c ****   p->payload = payload;
 4752              		.loc 1 181 11 view .LVU1726
 4753 003c 0260     		str	r2, [r0]
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 4754              		.loc 1 182 3 is_stmt 1 view .LVU1727
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 4755              		.loc 1 183 14 is_stmt 0 view .LVU1728
 4756 003e 67F30F03 		bfi	r3, r7, #0, #16
 4757              	.LBE427:
 4758              	.LBE430:
 288:lwIP/src/core/pbuf.c ****                              length, length, type, 0);
 4759              		.loc 1 288 33 view .LVU1729
 4760 0042 24F00304 		bic	r4, r4, #3
 4761              	.LBB431:
 4762              	.LBB428:
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 4763              		.loc 1 185 20 view .LVU1730
 4764 0046 0A4A     		ldr	r2, .L466
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 4765              		.loc 1 183 14 view .LVU1731
 4766 0048 67F31F43 		bfi	r3, r7, #16, #16
 182:lwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 4767              		.loc 1 182 14 view .LVU1732
 4768 004c 4460     		str	r4, [r0, #4]
 183:lwIP/src/core/pbuf.c ****   p->len = len;
 4769              		.loc 1 183 3 is_stmt 1 view .LVU1733
 184:lwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 4770              		.loc 1 184 3 view .LVU1734
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 4771              		.loc 1 185 20 is_stmt 0 view .LVU1735
 4772 004e C0E90232 		strd	r3, r2, [r0, #8]
 4773              	.LVL439:
 185:lwIP/src/core/pbuf.c ****   p->flags = flags;
 4774              		.loc 1 185 20 view .LVU1736
 4775              	.LBE428:
 4776              	.LBE431:
 290:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 4777              		.loc 1 290 7 is_stmt 1 view .LVU1737
ARM GAS  /tmp/ccJoevLK.s 			page 135


 290:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 4778              		.loc 1 290 7 view .LVU1738
 290:lwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 4779              		.loc 1 290 7 is_stmt 0 view .LVU1739
 4780              	.LBE433:
 4781              	.LBE435:
 4782              	.LBE437:
1311:lwIP/src/core/pbuf.c ****     return NULL;
 4783              		.loc 1 1311 3 is_stmt 1 view .LVU1740
 4784              		.loc 1 1314 3 view .LVU1741
 4785              		.loc 1 1314 9 is_stmt 0 view .LVU1742
 4786 0052 FFF7FEFF 		bl	pbuf_copy
 4787              	.LVL440:
1315:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
 4788              		.loc 1 1315 3 is_stmt 1 view .LVU1743
1316:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_copy failed", err == ERR_OK);
 4789              		.loc 1 1316 3 view .LVU1744
 4790              		.loc 1 1316 3 view .LVU1745
 4791 0056 38B9     		cbnz	r0, .L465
 4792              	.LVL441:
 4793              		.loc 1 1316 3 is_stmt 0 view .LVU1746
 4794              	.LBE438:
 4795              	.LBE440:
1285:lwIP/src/core/pbuf.c ****     /* @todo: what do we do now? */
 4796              		.loc 1 1285 3 is_stmt 1 view .LVU1747
1289:lwIP/src/core/pbuf.c ****   return q;
 4797              		.loc 1 1289 3 view .LVU1748
 4798              	.LBB441:
 4799              	.LBI441:
 725:lwIP/src/core/pbuf.c **** {
 4800              		.loc 1 725 1 view .LVU1749
 4801              	.LBB442:
 727:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4802              		.loc 1 727 3 view .LVU1750
 728:lwIP/src/core/pbuf.c ****   u8_t count;
 4803              		.loc 1 728 3 view .LVU1751
 729:lwIP/src/core/pbuf.c **** 
 4804              		.loc 1 729 3 view .LVU1752
 731:lwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 4805              		.loc 1 731 3 view .LVU1753
 4806 0058 3046     		mov	r0, r6
 4807 005a FFF7FEFF 		bl	pbuf_free.part.0
 4808              	.LVL442:
 797:lwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 4809              		.loc 1 797 25 view .LVU1754
 799:lwIP/src/core/pbuf.c **** }
 4810              		.loc 1 799 3 view .LVU1755
 4811              	.LBE442:
 4812              	.LBE441:
1291:lwIP/src/core/pbuf.c **** 
 4813              		.loc 1 1291 1 is_stmt 0 view .LVU1756
 4814 005e 2846     		mov	r0, r5
 4815 0060 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4816              	.LVL443:
 4817              	.L454:
1279:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4818              		.loc 1 1279 1 view .LVU1757
ARM GAS  /tmp/ccJoevLK.s 			page 136


 4819 0062 3546     		mov	r5, r6
1291:lwIP/src/core/pbuf.c **** 
 4820              		.loc 1 1291 1 view .LVU1758
 4821 0064 2846     		mov	r0, r5
 4822 0066 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4823              	.LVL444:
 4824              	.L465:
 4825              	.LBB443:
 4826              	.LBB439:
 4827              		.loc 1 1316 3 is_stmt 1 view .LVU1759
 4828 0068 0248     		ldr	r0, .L466+4
 4829              	.LVL445:
 4830              		.loc 1 1316 3 is_stmt 0 view .LVU1760
 4831 006a FFF7FEFF 		bl	printf
 4832              	.LVL446:
 4833              	.L456:
 4834              		.loc 1 1316 3 is_stmt 1 view .LVU1761
 4835              		.loc 1 1316 3 view .LVU1762
 4836              		.loc 1 1316 3 view .LVU1763
 4837              		.loc 1 1316 3 view .LVU1764
 4838              		.loc 1 1316 3 view .LVU1765
 4839              		.loc 1 1316 3 view .LVU1766
 4840 006e FEE7     		b	.L456
 4841              	.L467:
 4842              		.align	2
 4843              	.L466:
 4844 0070 80000100 		.word	65664
 4845 0074 00000000 		.word	.LC29
 4846              	.LBE439:
 4847              	.LBE443:
 4848              		.cfi_endproc
 4849              	.LFE131:
 4851              		.section	.text.pbuf_clone,"ax",%progbits
 4852              		.align	1
 4853              		.p2align 2,,3
 4854              		.global	pbuf_clone
 4855              		.syntax unified
 4856              		.thumb
 4857              		.thumb_func
 4858              		.fpu fpv4-sp-d16
 4860              	pbuf_clone:
 4861              	.LVL447:
 4862              	.LFB132:
1307:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4863              		.loc 1 1307 1 view -0
 4864              		.cfi_startproc
 4865              		@ args = 0, pretend = 0, frame = 0
 4866              		@ frame_needed = 0, uses_anonymous_args = 0
1308:lwIP/src/core/pbuf.c ****   err_t err;
 4867              		.loc 1 1308 3 view .LVU1768
1309:lwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, type);
 4868              		.loc 1 1309 3 view .LVU1769
1310:lwIP/src/core/pbuf.c ****   if (q == NULL) {
 4869              		.loc 1 1310 3 view .LVU1770
1307:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4870              		.loc 1 1307 1 is_stmt 0 view .LVU1771
 4871 0000 38B5     		push	{r3, r4, r5, lr}
ARM GAS  /tmp/ccJoevLK.s 			page 137


 4872              	.LCFI29:
 4873              		.cfi_def_cfa_offset 16
 4874              		.cfi_offset 3, -16
 4875              		.cfi_offset 4, -12
 4876              		.cfi_offset 5, -8
 4877              		.cfi_offset 14, -4
1307:lwIP/src/core/pbuf.c ****   struct pbuf *q;
 4878              		.loc 1 1307 1 view .LVU1772
 4879 0002 1546     		mov	r5, r2
 4880 0004 0A46     		mov	r2, r1
 4881              	.LVL448:
1310:lwIP/src/core/pbuf.c ****   if (q == NULL) {
 4882              		.loc 1 1310 7 view .LVU1773
 4883 0006 2989     		ldrh	r1, [r5, #8]
 4884              	.LVL449:
1310:lwIP/src/core/pbuf.c ****   if (q == NULL) {
 4885              		.loc 1 1310 7 view .LVU1774
 4886 0008 FFF7FEFF 		bl	pbuf_alloc
 4887              	.LVL450:
1311:lwIP/src/core/pbuf.c ****     return NULL;
 4888              		.loc 1 1311 3 is_stmt 1 view .LVU1775
1311:lwIP/src/core/pbuf.c ****     return NULL;
 4889              		.loc 1 1311 6 is_stmt 0 view .LVU1776
 4890 000c 0446     		mov	r4, r0
 4891 000e 18B1     		cbz	r0, .L468
1314:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
 4892              		.loc 1 1314 3 is_stmt 1 view .LVU1777
1314:lwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
 4893              		.loc 1 1314 9 is_stmt 0 view .LVU1778
 4894 0010 2946     		mov	r1, r5
 4895 0012 FFF7FEFF 		bl	pbuf_copy
 4896              	.LVL451:
1315:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_copy failed", err == ERR_OK);
 4897              		.loc 1 1315 3 is_stmt 1 view .LVU1779
 4898              		.loc 1 1316 3 view .LVU1780
 4899              		.loc 1 1316 3 view .LVU1781
 4900 0016 08B9     		cbnz	r0, .L478
 4901              	.LVL452:
 4902              	.L468:
1317:lwIP/src/core/pbuf.c ****   return q;
1318:lwIP/src/core/pbuf.c **** }
 4903              		.loc 1 1318 1 is_stmt 0 view .LVU1782
 4904 0018 2046     		mov	r0, r4
 4905 001a 38BD     		pop	{r3, r4, r5, pc}
 4906              	.LVL453:
 4907              	.L478:
1316:lwIP/src/core/pbuf.c ****   return q;
 4908              		.loc 1 1316 3 is_stmt 1 discriminator 1 view .LVU1783
 4909 001c 0148     		ldr	r0, .L479
 4910              	.LVL454:
1316:lwIP/src/core/pbuf.c ****   return q;
 4911              		.loc 1 1316 3 is_stmt 0 discriminator 1 view .LVU1784
 4912 001e FFF7FEFF 		bl	printf
 4913              	.LVL455:
 4914              	.L470:
1316:lwIP/src/core/pbuf.c ****   return q;
 4915              		.loc 1 1316 3 is_stmt 1 discriminator 1 view .LVU1785
ARM GAS  /tmp/ccJoevLK.s 			page 138


1316:lwIP/src/core/pbuf.c ****   return q;
 4916              		.loc 1 1316 3 discriminator 1 view .LVU1786
1316:lwIP/src/core/pbuf.c ****   return q;
 4917              		.loc 1 1316 3 discriminator 1 view .LVU1787
1316:lwIP/src/core/pbuf.c ****   return q;
 4918              		.loc 1 1316 3 discriminator 1 view .LVU1788
1316:lwIP/src/core/pbuf.c ****   return q;
 4919              		.loc 1 1316 3 discriminator 1 view .LVU1789
1316:lwIP/src/core/pbuf.c ****   return q;
 4920              		.loc 1 1316 3 discriminator 1 view .LVU1790
 4921 0022 FEE7     		b	.L470
 4922              	.L480:
 4923              		.align	2
 4924              	.L479:
 4925 0024 00000000 		.word	.LC29
 4926              		.cfi_endproc
 4927              	.LFE132:
 4929              		.section	.text.pbuf_get_at,"ax",%progbits
 4930              		.align	1
 4931              		.p2align 2,,3
 4932              		.global	pbuf_get_at
 4933              		.syntax unified
 4934              		.thumb
 4935              		.thumb_func
 4936              		.fpu fpv4-sp-d16
 4938              	pbuf_get_at:
 4939              	.LVL456:
 4940              	.LFB133:
1319:lwIP/src/core/pbuf.c **** 
1320:lwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
1321:lwIP/src/core/pbuf.c **** /**
1322:lwIP/src/core/pbuf.c ****  * Copies data into a single pbuf (*not* into a pbuf queue!) and updates
1323:lwIP/src/core/pbuf.c ****  * the checksum while copying
1324:lwIP/src/core/pbuf.c ****  *
1325:lwIP/src/core/pbuf.c ****  * @param p the pbuf to copy data into
1326:lwIP/src/core/pbuf.c ****  * @param start_offset offset of p->payload where to copy the data to
1327:lwIP/src/core/pbuf.c ****  * @param dataptr data to copy into the pbuf
1328:lwIP/src/core/pbuf.c ****  * @param len length of data to copy into the pbuf
1329:lwIP/src/core/pbuf.c ****  * @param chksum pointer to the checksum which is updated
1330:lwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, another error if the data does not fit
1331:lwIP/src/core/pbuf.c ****  *         within the (first) pbuf (no pbuf queues!)
1332:lwIP/src/core/pbuf.c ****  */
1333:lwIP/src/core/pbuf.c **** err_t
1334:lwIP/src/core/pbuf.c **** pbuf_fill_chksum(struct pbuf *p, u16_t start_offset, const void *dataptr,
1335:lwIP/src/core/pbuf.c ****                  u16_t len, u16_t *chksum)
1336:lwIP/src/core/pbuf.c **** {
1337:lwIP/src/core/pbuf.c ****   u32_t acc;
1338:lwIP/src/core/pbuf.c ****   u16_t copy_chksum;
1339:lwIP/src/core/pbuf.c ****   char *dst_ptr;
1340:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
1341:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("dataptr != NULL", dataptr != NULL);
1342:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("chksum != NULL", chksum != NULL);
1343:lwIP/src/core/pbuf.c ****   LWIP_ASSERT("len != 0", len != 0);
1344:lwIP/src/core/pbuf.c **** 
1345:lwIP/src/core/pbuf.c ****   if ((start_offset >= p->len) || (start_offset + len > p->len)) {
1346:lwIP/src/core/pbuf.c ****     return ERR_ARG;
1347:lwIP/src/core/pbuf.c ****   }
ARM GAS  /tmp/ccJoevLK.s 			page 139


1348:lwIP/src/core/pbuf.c **** 
1349:lwIP/src/core/pbuf.c ****   dst_ptr = ((char *)p->payload) + start_offset;
1350:lwIP/src/core/pbuf.c ****   copy_chksum = LWIP_CHKSUM_COPY(dst_ptr, dataptr, len);
1351:lwIP/src/core/pbuf.c ****   if ((start_offset & 1) != 0) {
1352:lwIP/src/core/pbuf.c ****     copy_chksum = SWAP_BYTES_IN_WORD(copy_chksum);
1353:lwIP/src/core/pbuf.c ****   }
1354:lwIP/src/core/pbuf.c ****   acc = *chksum;
1355:lwIP/src/core/pbuf.c ****   acc += copy_chksum;
1356:lwIP/src/core/pbuf.c ****   *chksum = FOLD_U32T(acc);
1357:lwIP/src/core/pbuf.c ****   return ERR_OK;
1358:lwIP/src/core/pbuf.c **** }
1359:lwIP/src/core/pbuf.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1360:lwIP/src/core/pbuf.c **** 
1361:lwIP/src/core/pbuf.c **** /**
1362:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1363:lwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1364:lwIP/src/core/pbuf.c ****  * WARNING: returns zero for offset >= p->tot_len
1365:lwIP/src/core/pbuf.c ****  *
1366:lwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1367:lwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1368:lwIP/src/core/pbuf.c ****  * @return byte at an offset into p OR ZERO IF 'offset' >= p->tot_len
1369:lwIP/src/core/pbuf.c ****  */
1370:lwIP/src/core/pbuf.c **** u8_t
1371:lwIP/src/core/pbuf.c **** pbuf_get_at(const struct pbuf *p, u16_t offset)
1372:lwIP/src/core/pbuf.c **** {
 4941              		.loc 1 1372 1 view -0
 4942              		.cfi_startproc
 4943              		@ args = 0, pretend = 0, frame = 0
 4944              		@ frame_needed = 0, uses_anonymous_args = 0
 4945              		@ link register save eliminated.
1373:lwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
 4946              		.loc 1 1373 3 view .LVU1792
 4947              	.LBB444:
 4948              	.LBI444:
1374:lwIP/src/core/pbuf.c ****   if (ret >= 0) {
1375:lwIP/src/core/pbuf.c ****     return (u8_t)ret;
1376:lwIP/src/core/pbuf.c ****   }
1377:lwIP/src/core/pbuf.c ****   return 0;
1378:lwIP/src/core/pbuf.c **** }
1379:lwIP/src/core/pbuf.c **** 
1380:lwIP/src/core/pbuf.c **** /**
1381:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1382:lwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1383:lwIP/src/core/pbuf.c ****  *
1384:lwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1385:lwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1386:lwIP/src/core/pbuf.c ****  * @return byte at an offset into p [0..0xFF] OR negative if 'offset' >= p->tot_len
1387:lwIP/src/core/pbuf.c ****  */
1388:lwIP/src/core/pbuf.c **** int
1389:lwIP/src/core/pbuf.c **** pbuf_try_get_at(const struct pbuf *p, u16_t offset)
 4949              		.loc 1 1389 1 view .LVU1793
 4950              	.LBB445:
1390:lwIP/src/core/pbuf.c **** {
1391:lwIP/src/core/pbuf.c ****   u16_t q_idx;
 4951              		.loc 1 1391 3 view .LVU1794
1392:lwIP/src/core/pbuf.c ****   const struct pbuf *q = pbuf_skip_const(p, offset, &q_idx);
 4952              		.loc 1 1392 3 view .LVU1795
ARM GAS  /tmp/ccJoevLK.s 			page 140


 4953              	.LBB446:
 4954              	.LBI446:
1152:lwIP/src/core/pbuf.c **** {
 4955              		.loc 1 1152 1 view .LVU1796
 4956              	.LBB447:
1154:lwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
 4957              		.loc 1 1154 3 view .LVU1797
1155:lwIP/src/core/pbuf.c **** 
 4958              		.loc 1 1155 3 view .LVU1798
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4959              		.loc 1 1158 3 view .LVU1799
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4960              		.loc 1 1158 9 view .LVU1800
 4961 0000 18B9     		cbnz	r0, .L482
 4962 0002 0AE0     		b	.L487
 4963              	.LVL457:
 4964              	.L484:
1160:lwIP/src/core/pbuf.c ****   }
 4965              		.loc 1 1160 7 is_stmt 0 view .LVU1801
 4966 0004 0068     		ldr	r0, [r0]
 4967              	.LVL458:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4968              		.loc 1 1159 17 view .LVU1802
 4969 0006 99B2     		uxth	r1, r3
 4970              	.LVL459:
1160:lwIP/src/core/pbuf.c ****   }
 4971              		.loc 1 1160 5 is_stmt 1 view .LVU1803
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4972              		.loc 1 1158 9 view .LVU1804
 4973 0008 30B1     		cbz	r0, .L483
 4974              	.L482:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4975              		.loc 1 1159 5 view .LVU1805
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4976              		.loc 1 1158 27 is_stmt 0 view .LVU1806
 4977 000a 4389     		ldrh	r3, [r0, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4978              		.loc 1 1158 22 view .LVU1807
 4979 000c 8B42     		cmp	r3, r1
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 4980              		.loc 1 1159 17 view .LVU1808
 4981 000e A1EB0303 		sub	r3, r1, r3
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 4982              		.loc 1 1158 22 view .LVU1809
 4983 0012 F7D9     		bls	.L484
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 4984              		.loc 1 1162 3 is_stmt 1 view .LVU1810
1163:lwIP/src/core/pbuf.c ****   }
 4985              		.loc 1 1163 5 view .LVU1811
 4986              	.LVL460:
1165:lwIP/src/core/pbuf.c **** }
 4987              		.loc 1 1165 3 view .LVU1812
1165:lwIP/src/core/pbuf.c **** }
 4988              		.loc 1 1165 3 is_stmt 0 view .LVU1813
 4989              	.LBE447:
 4990              	.LBE446:
1393:lwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccJoevLK.s 			page 141


1394:lwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1395:lwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 4991              		.loc 1 1395 3 is_stmt 1 view .LVU1814
1396:lwIP/src/core/pbuf.c ****     return ((u8_t *)q->payload)[q_idx];
 4992              		.loc 1 1396 5 view .LVU1815
 4993              		.loc 1 1396 32 is_stmt 0 view .LVU1816
 4994 0014 4368     		ldr	r3, [r0, #4]
 4995 0016 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 4996              	.LVL461:
 4997              		.loc 1 1396 32 view .LVU1817
 4998              	.LBE445:
 4999              	.LBE444:
1374:lwIP/src/core/pbuf.c ****     return (u8_t)ret;
 5000              		.loc 1 1374 3 is_stmt 1 view .LVU1818
1375:lwIP/src/core/pbuf.c ****   }
 5001              		.loc 1 1375 5 view .LVU1819
 5002              	.L483:
1378:lwIP/src/core/pbuf.c **** 
 5003              		.loc 1 1378 1 is_stmt 0 view .LVU1820
 5004 0018 7047     		bx	lr
 5005              	.LVL462:
 5006              	.L487:
1378:lwIP/src/core/pbuf.c **** 
 5007              		.loc 1 1378 1 view .LVU1821
 5008 001a 7047     		bx	lr
 5009              		.cfi_endproc
 5010              	.LFE133:
 5012              		.section	.text.pbuf_try_get_at,"ax",%progbits
 5013              		.align	1
 5014              		.p2align 2,,3
 5015              		.global	pbuf_try_get_at
 5016              		.syntax unified
 5017              		.thumb
 5018              		.thumb_func
 5019              		.fpu fpv4-sp-d16
 5021              	pbuf_try_get_at:
 5022              	.LVL463:
 5023              	.LFB134:
1390:lwIP/src/core/pbuf.c ****   u16_t q_idx;
 5024              		.loc 1 1390 1 is_stmt 1 view -0
 5025              		.cfi_startproc
 5026              		@ args = 0, pretend = 0, frame = 0
 5027              		@ frame_needed = 0, uses_anonymous_args = 0
 5028              		@ link register save eliminated.
 5029              	.LBB448:
 5030              	.LBB449:
1160:lwIP/src/core/pbuf.c ****   }
 5031              		.loc 1 1160 5 view .LVU1823
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5032              		.loc 1 1158 9 view .LVU1824
 5033 0000 40B1     		cbz	r0, .L492
 5034              	.LVL464:
 5035              	.L497:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5036              		.loc 1 1159 5 view .LVU1825
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5037              		.loc 1 1158 27 is_stmt 0 view .LVU1826
ARM GAS  /tmp/ccJoevLK.s 			page 142


 5038 0002 4389     		ldrh	r3, [r0, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5039              		.loc 1 1158 22 view .LVU1827
 5040 0004 8B42     		cmp	r3, r1
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5041              		.loc 1 1159 17 view .LVU1828
 5042 0006 A1EB0303 		sub	r3, r1, r3
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5043              		.loc 1 1158 22 view .LVU1829
 5044 000a 06D8     		bhi	.L496
1160:lwIP/src/core/pbuf.c ****   }
 5045              		.loc 1 1160 7 view .LVU1830
 5046 000c 0068     		ldr	r0, [r0]
 5047              	.LVL465:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5048              		.loc 1 1159 17 view .LVU1831
 5049 000e 99B2     		uxth	r1, r3
 5050              	.LVL466:
1160:lwIP/src/core/pbuf.c ****   }
 5051              		.loc 1 1160 5 is_stmt 1 view .LVU1832
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5052              		.loc 1 1158 9 view .LVU1833
 5053 0010 0028     		cmp	r0, #0
 5054 0012 F6D1     		bne	.L497
 5055              	.L492:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5056              		.loc 1 1158 9 is_stmt 0 view .LVU1834
 5057              	.LBE449:
 5058              	.LBE448:
1397:lwIP/src/core/pbuf.c ****   }
1398:lwIP/src/core/pbuf.c ****   return -1;
 5059              		.loc 1 1398 10 view .LVU1835
 5060 0014 4FF0FF30 		mov	r0, #-1
 5061              	.LVL467:
1399:lwIP/src/core/pbuf.c **** }
 5062              		.loc 1 1399 1 view .LVU1836
 5063 0018 7047     		bx	lr
 5064              	.LVL468:
 5065              	.L496:
 5066              	.LBB451:
 5067              	.LBB450:
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 5068              		.loc 1 1162 3 is_stmt 1 view .LVU1837
1163:lwIP/src/core/pbuf.c ****   }
 5069              		.loc 1 1163 5 view .LVU1838
1165:lwIP/src/core/pbuf.c **** }
 5070              		.loc 1 1165 3 view .LVU1839
1165:lwIP/src/core/pbuf.c **** }
 5071              		.loc 1 1165 3 is_stmt 0 view .LVU1840
 5072              	.LBE450:
 5073              	.LBE451:
1395:lwIP/src/core/pbuf.c ****     return ((u8_t *)q->payload)[q_idx];
 5074              		.loc 1 1395 3 is_stmt 1 view .LVU1841
1396:lwIP/src/core/pbuf.c ****   }
 5075              		.loc 1 1396 5 view .LVU1842
1396:lwIP/src/core/pbuf.c ****   }
 5076              		.loc 1 1396 32 is_stmt 0 view .LVU1843
ARM GAS  /tmp/ccJoevLK.s 			page 143


 5077 001a 4368     		ldr	r3, [r0, #4]
 5078 001c 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 5079              	.LVL469:
1396:lwIP/src/core/pbuf.c ****   }
 5080              		.loc 1 1396 32 view .LVU1844
 5081 001e 7047     		bx	lr
 5082              		.cfi_endproc
 5083              	.LFE134:
 5085              		.section	.text.pbuf_put_at,"ax",%progbits
 5086              		.align	1
 5087              		.p2align 2,,3
 5088              		.global	pbuf_put_at
 5089              		.syntax unified
 5090              		.thumb
 5091              		.thumb_func
 5092              		.fpu fpv4-sp-d16
 5094              	pbuf_put_at:
 5095              	.LVL470:
 5096              	.LFB135:
1400:lwIP/src/core/pbuf.c **** 
1401:lwIP/src/core/pbuf.c **** /**
1402:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1403:lwIP/src/core/pbuf.c ****  * Put one byte to the specified position in a pbuf
1404:lwIP/src/core/pbuf.c ****  * WARNING: silently ignores offset >= p->tot_len
1405:lwIP/src/core/pbuf.c ****  *
1406:lwIP/src/core/pbuf.c ****  * @param p pbuf to fill
1407:lwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to write
1408:lwIP/src/core/pbuf.c ****  * @param data byte to write at an offset into p
1409:lwIP/src/core/pbuf.c ****  */
1410:lwIP/src/core/pbuf.c **** void
1411:lwIP/src/core/pbuf.c **** pbuf_put_at(struct pbuf *p, u16_t offset, u8_t data)
1412:lwIP/src/core/pbuf.c **** {
 5097              		.loc 1 1412 1 is_stmt 1 view -0
 5098              		.cfi_startproc
 5099              		@ args = 0, pretend = 0, frame = 0
 5100              		@ frame_needed = 0, uses_anonymous_args = 0
 5101              		@ link register save eliminated.
1413:lwIP/src/core/pbuf.c ****   u16_t q_idx;
 5102              		.loc 1 1413 3 view .LVU1846
1414:lwIP/src/core/pbuf.c ****   struct pbuf *q = pbuf_skip(p, offset, &q_idx);
 5103              		.loc 1 1414 3 view .LVU1847
 5104              	.LBB452:
 5105              	.LBI452:
1178:lwIP/src/core/pbuf.c **** {
 5106              		.loc 1 1178 1 view .LVU1848
 5107              	.LBB453:
1180:lwIP/src/core/pbuf.c ****   return LWIP_CONST_CAST(struct pbuf *, out);
 5108              		.loc 1 1180 3 view .LVU1849
 5109              	.LBB454:
 5110              	.LBI454:
1152:lwIP/src/core/pbuf.c **** {
 5111              		.loc 1 1152 1 view .LVU1850
 5112              	.LBB455:
1154:lwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
 5113              		.loc 1 1154 3 view .LVU1851
1155:lwIP/src/core/pbuf.c **** 
 5114              		.loc 1 1155 3 view .LVU1852
ARM GAS  /tmp/ccJoevLK.s 			page 144


1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5115              		.loc 1 1158 3 view .LVU1853
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5116              		.loc 1 1158 9 view .LVU1854
 5117 0000 18B9     		cbnz	r0, .L499
 5118 0002 0AE0     		b	.L506
 5119              	.LVL471:
 5120              	.L501:
1160:lwIP/src/core/pbuf.c ****   }
 5121              		.loc 1 1160 7 is_stmt 0 view .LVU1855
 5122 0004 0068     		ldr	r0, [r0]
 5123              	.LVL472:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5124              		.loc 1 1159 17 view .LVU1856
 5125 0006 99B2     		uxth	r1, r3
 5126              	.LVL473:
1160:lwIP/src/core/pbuf.c ****   }
 5127              		.loc 1 1160 5 is_stmt 1 view .LVU1857
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5128              		.loc 1 1158 9 view .LVU1858
 5129 0008 30B1     		cbz	r0, .L498
 5130              	.L499:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5131              		.loc 1 1159 5 view .LVU1859
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5132              		.loc 1 1158 27 is_stmt 0 view .LVU1860
 5133 000a 4389     		ldrh	r3, [r0, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5134              		.loc 1 1158 22 view .LVU1861
 5135 000c 8B42     		cmp	r3, r1
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5136              		.loc 1 1159 17 view .LVU1862
 5137 000e A1EB0303 		sub	r3, r1, r3
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5138              		.loc 1 1158 22 view .LVU1863
 5139 0012 F7D9     		bls	.L501
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 5140              		.loc 1 1162 3 is_stmt 1 view .LVU1864
1163:lwIP/src/core/pbuf.c ****   }
 5141              		.loc 1 1163 5 view .LVU1865
 5142              	.LVL474:
1165:lwIP/src/core/pbuf.c **** }
 5143              		.loc 1 1165 3 view .LVU1866
1165:lwIP/src/core/pbuf.c **** }
 5144              		.loc 1 1165 3 is_stmt 0 view .LVU1867
 5145              	.LBE455:
 5146              	.LBE454:
1181:lwIP/src/core/pbuf.c **** }
 5147              		.loc 1 1181 3 is_stmt 1 view .LVU1868
1181:lwIP/src/core/pbuf.c **** }
 5148              		.loc 1 1181 3 is_stmt 0 view .LVU1869
 5149              	.LBE453:
 5150              	.LBE452:
1415:lwIP/src/core/pbuf.c **** 
1416:lwIP/src/core/pbuf.c ****   /* write requested data if pbuf is OK */
1417:lwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 5151              		.loc 1 1417 3 is_stmt 1 view .LVU1870
ARM GAS  /tmp/ccJoevLK.s 			page 145


1418:lwIP/src/core/pbuf.c ****     ((u8_t *)q->payload)[q_idx] = data;
 5152              		.loc 1 1418 5 view .LVU1871
 5153              		.loc 1 1418 33 is_stmt 0 view .LVU1872
 5154 0014 4368     		ldr	r3, [r0, #4]
 5155 0016 5A54     		strb	r2, [r3, r1]
 5156              	.LVL475:
 5157              	.L498:
1419:lwIP/src/core/pbuf.c ****   }
1420:lwIP/src/core/pbuf.c **** }
 5158              		.loc 1 1420 1 view .LVU1873
 5159 0018 7047     		bx	lr
 5160              	.LVL476:
 5161              	.L506:
 5162              		.loc 1 1420 1 view .LVU1874
 5163 001a 7047     		bx	lr
 5164              		.cfi_endproc
 5165              	.LFE135:
 5167              		.section	.text.pbuf_memcmp,"ax",%progbits
 5168              		.align	1
 5169              		.p2align 2,,3
 5170              		.global	pbuf_memcmp
 5171              		.syntax unified
 5172              		.thumb
 5173              		.thumb_func
 5174              		.fpu fpv4-sp-d16
 5176              	pbuf_memcmp:
 5177              	.LVL477:
 5178              	.LFB136:
1421:lwIP/src/core/pbuf.c **** 
1422:lwIP/src/core/pbuf.c **** /**
1423:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1424:lwIP/src/core/pbuf.c ****  * Compare pbuf contents at specified offset with memory s2, both of length n
1425:lwIP/src/core/pbuf.c ****  *
1426:lwIP/src/core/pbuf.c ****  * @param p pbuf to compare
1427:lwIP/src/core/pbuf.c ****  * @param offset offset into p at which to start comparing
1428:lwIP/src/core/pbuf.c ****  * @param s2 buffer to compare
1429:lwIP/src/core/pbuf.c ****  * @param n length of buffer to compare
1430:lwIP/src/core/pbuf.c ****  * @return zero if equal, nonzero otherwise
1431:lwIP/src/core/pbuf.c ****  *         (0xffff if p is too short, diffoffset+1 otherwise)
1432:lwIP/src/core/pbuf.c ****  */
1433:lwIP/src/core/pbuf.c **** u16_t
1434:lwIP/src/core/pbuf.c **** pbuf_memcmp(const struct pbuf *p, u16_t offset, const void *s2, u16_t n)
1435:lwIP/src/core/pbuf.c **** {
 5179              		.loc 1 1435 1 is_stmt 1 view -0
 5180              		.cfi_startproc
 5181              		@ args = 0, pretend = 0, frame = 0
 5182              		@ frame_needed = 0, uses_anonymous_args = 0
 5183              		@ link register save eliminated.
1436:lwIP/src/core/pbuf.c ****   u16_t start = offset;
 5184              		.loc 1 1436 3 view .LVU1876
1437:lwIP/src/core/pbuf.c ****   const struct pbuf *q = p;
 5185              		.loc 1 1437 3 view .LVU1877
1438:lwIP/src/core/pbuf.c ****   u16_t i;
 5186              		.loc 1 1438 3 view .LVU1878
1439:lwIP/src/core/pbuf.c **** 
1440:lwIP/src/core/pbuf.c ****   /* pbuf long enough to perform check? */
1441:lwIP/src/core/pbuf.c ****   if (p->tot_len < (offset + n)) {
ARM GAS  /tmp/ccJoevLK.s 			page 146


 5187              		.loc 1 1441 3 view .LVU1879
1435:lwIP/src/core/pbuf.c ****   u16_t start = offset;
 5188              		.loc 1 1435 1 is_stmt 0 view .LVU1880
 5189 0000 F0B4     		push	{r4, r5, r6, r7}
 5190              	.LCFI30:
 5191              		.cfi_def_cfa_offset 16
 5192              		.cfi_offset 4, -16
 5193              		.cfi_offset 5, -12
 5194              		.cfi_offset 6, -8
 5195              		.cfi_offset 7, -4
 5196              		.loc 1 1441 8 view .LVU1881
 5197 0002 0589     		ldrh	r5, [r0, #8]
 5198              		.loc 1 1441 28 view .LVU1882
 5199 0004 CC18     		adds	r4, r1, r3
 5200              		.loc 1 1441 6 view .LVU1883
 5201 0006 A542     		cmp	r5, r4
 5202 0008 2CDB     		blt	.L525
 5203              	.LVL478:
 5204              	.L509:
 5205              	.LBB465:
 5206              	.LBB466:
1442:lwIP/src/core/pbuf.c ****     return 0xffff;
1443:lwIP/src/core/pbuf.c ****   }
1444:lwIP/src/core/pbuf.c **** 
1445:lwIP/src/core/pbuf.c ****   /* get the correct pbuf from chain. We know it succeeds because of p->tot_len check above. */
1446:lwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= start)) {
1447:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5207              		.loc 1 1447 5 is_stmt 1 view .LVU1884
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5208              		.loc 1 1446 27 is_stmt 0 view .LVU1885
 5209 000a 4489     		ldrh	r4, [r0, #10]
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5210              		.loc 1 1446 22 view .LVU1886
 5211 000c 8C42     		cmp	r4, r1
 5212              		.loc 1 1447 11 view .LVU1887
 5213 000e A1EB0404 		sub	r4, r1, r4
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5214              		.loc 1 1446 22 view .LVU1888
 5215 0012 03D8     		bhi	.L512
1448:lwIP/src/core/pbuf.c ****     q = q->next;
 5216              		.loc 1 1448 7 view .LVU1889
 5217 0014 0068     		ldr	r0, [r0]
 5218              	.LVL479:
1447:lwIP/src/core/pbuf.c ****     q = q->next;
 5219              		.loc 1 1447 11 view .LVU1890
 5220 0016 A1B2     		uxth	r1, r4
 5221              	.LVL480:
 5222              		.loc 1 1448 5 is_stmt 1 view .LVU1891
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5223              		.loc 1 1446 9 view .LVU1892
 5224 0018 0028     		cmp	r0, #0
 5225 001a F6D1     		bne	.L509
 5226              	.L512:
 5227              	.LVL481:
1449:lwIP/src/core/pbuf.c ****   }
1450:lwIP/src/core/pbuf.c **** 
1451:lwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
ARM GAS  /tmp/ccJoevLK.s 			page 147


1452:lwIP/src/core/pbuf.c ****   for (i = 0; i < n; i++) {
 5228              		.loc 1 1452 15 view .LVU1893
 5229              		.loc 1 1452 3 is_stmt 0 view .LVU1894
 5230 001c D3B1     		cbz	r3, .L524
 5231 001e 0026     		movs	r6, #0
 5232 0020 571E     		subs	r7, r2, #1
 5233 0022 B446     		mov	ip, r6
 5234              	.LVL482:
 5235              	.L517:
 5236              	.LBB467:
1453:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
1454:lwIP/src/core/pbuf.c ****     u8_t a = pbuf_get_at(q, (u16_t)(start + i));
 5237              		.loc 1 1454 5 is_stmt 1 view .LVU1895
 5238 0024 8D19     		adds	r5, r1, r6
 5239              	.LBB468:
 5240              	.LBB469:
 5241              	.LBB470:
 5242              	.LBB471:
 5243              	.LBB472:
 5244              	.LBB473:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5245              		.loc 1 1158 9 is_stmt 0 view .LVU1896
 5246 0026 0446     		mov	r4, r0
 5247 0028 ADB2     		uxth	r5, r5
 5248              	.LVL483:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5249              		.loc 1 1158 9 view .LVU1897
 5250              	.LBE473:
 5251              	.LBE472:
 5252              	.LBE471:
 5253              	.LBE470:
 5254              	.LBE469:
 5255              	.LBI468:
1371:lwIP/src/core/pbuf.c **** {
 5256              		.loc 1 1371 1 is_stmt 1 view .LVU1898
 5257              	.LBB478:
1373:lwIP/src/core/pbuf.c ****   if (ret >= 0) {
 5258              		.loc 1 1373 3 view .LVU1899
 5259              	.LBB477:
 5260              	.LBI470:
1389:lwIP/src/core/pbuf.c **** {
 5261              		.loc 1 1389 1 view .LVU1900
 5262              	.LBB476:
1391:lwIP/src/core/pbuf.c ****   const struct pbuf *q = pbuf_skip_const(p, offset, &q_idx);
 5263              		.loc 1 1391 3 view .LVU1901
1392:lwIP/src/core/pbuf.c **** 
 5264              		.loc 1 1392 3 view .LVU1902
 5265              	.LBB475:
 5266              	.LBI472:
1152:lwIP/src/core/pbuf.c **** {
 5267              		.loc 1 1152 1 view .LVU1903
 5268              	.LBB474:
1154:lwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
 5269              		.loc 1 1154 3 view .LVU1904
1155:lwIP/src/core/pbuf.c **** 
 5270              		.loc 1 1155 3 view .LVU1905
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
ARM GAS  /tmp/ccJoevLK.s 			page 148


 5271              		.loc 1 1158 3 view .LVU1906
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5272              		.loc 1 1158 9 view .LVU1907
 5273 002a 18B9     		cbnz	r0, .L513
 5274              	.LVL484:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5275              		.loc 1 1158 9 is_stmt 0 view .LVU1908
 5276 002c 09E0     		b	.L514
 5277              	.LVL485:
 5278              	.L515:
1160:lwIP/src/core/pbuf.c ****   }
 5279              		.loc 1 1160 7 view .LVU1909
 5280 002e 2468     		ldr	r4, [r4]
 5281              	.LVL486:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5282              		.loc 1 1159 17 view .LVU1910
 5283 0030 95B2     		uxth	r5, r2
 5284              	.LVL487:
1160:lwIP/src/core/pbuf.c ****   }
 5285              		.loc 1 1160 5 is_stmt 1 view .LVU1911
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5286              		.loc 1 1158 9 view .LVU1912
 5287 0032 34B1     		cbz	r4, .L514
 5288              	.L513:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5289              		.loc 1 1159 5 view .LVU1913
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5290              		.loc 1 1158 27 is_stmt 0 view .LVU1914
 5291 0034 6289     		ldrh	r2, [r4, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5292              		.loc 1 1158 22 view .LVU1915
 5293 0036 AA42     		cmp	r2, r5
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5294              		.loc 1 1159 17 view .LVU1916
 5295 0038 A5EB0202 		sub	r2, r5, r2
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5296              		.loc 1 1158 22 view .LVU1917
 5297 003c F7D9     		bls	.L515
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 5298              		.loc 1 1162 3 is_stmt 1 view .LVU1918
1163:lwIP/src/core/pbuf.c ****   }
 5299              		.loc 1 1163 5 view .LVU1919
 5300              	.LVL488:
1165:lwIP/src/core/pbuf.c **** }
 5301              		.loc 1 1165 3 view .LVU1920
1165:lwIP/src/core/pbuf.c **** }
 5302              		.loc 1 1165 3 is_stmt 0 view .LVU1921
 5303              	.LBE474:
 5304              	.LBE475:
1395:lwIP/src/core/pbuf.c ****     return ((u8_t *)q->payload)[q_idx];
 5305              		.loc 1 1395 3 is_stmt 1 view .LVU1922
1396:lwIP/src/core/pbuf.c ****   }
 5306              		.loc 1 1396 5 view .LVU1923
1396:lwIP/src/core/pbuf.c ****   }
 5307              		.loc 1 1396 32 is_stmt 0 view .LVU1924
 5308 003e 6268     		ldr	r2, [r4, #4]
 5309 0040 545D     		ldrb	r4, [r2, r5]	@ zero_extendqisi2
ARM GAS  /tmp/ccJoevLK.s 			page 149


 5310              	.LVL489:
1396:lwIP/src/core/pbuf.c ****   }
 5311              		.loc 1 1396 32 view .LVU1925
 5312              	.LBE476:
 5313              	.LBE477:
1374:lwIP/src/core/pbuf.c ****     return (u8_t)ret;
 5314              		.loc 1 1374 3 is_stmt 1 view .LVU1926
1375:lwIP/src/core/pbuf.c ****   }
 5315              		.loc 1 1375 5 view .LVU1927
 5316              	.L514:
1375:lwIP/src/core/pbuf.c ****   }
 5317              		.loc 1 1375 5 is_stmt 0 view .LVU1928
 5318              	.LBE478:
 5319              	.LBE468:
1455:lwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t *)s2)[i];
 5320              		.loc 1 1455 5 is_stmt 1 view .LVU1929
1456:lwIP/src/core/pbuf.c ****     if (a != b) {
 5321              		.loc 1 1456 5 view .LVU1930
 5322              		.loc 1 1456 8 is_stmt 0 view .LVU1931
 5323 0042 17F8012F 		ldrb	r2, [r7, #1]!	@ zero_extendqisi2
 5324              	.LVL490:
 5325              		.loc 1 1456 8 view .LVU1932
 5326 0046 A242     		cmp	r2, r4
 5327 0048 07D1     		bne	.L526
 5328              	.LBE467:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5329              		.loc 1 1452 22 is_stmt 1 view .LVU1933
 5330              	.LVL491:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5331              		.loc 1 1452 15 view .LVU1934
 5332 004a 0136     		adds	r6, r6, #1
 5333              	.LVL492:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5334              		.loc 1 1452 3 is_stmt 0 view .LVU1935
 5335 004c 1FFA86FC 		uxth	ip, r6
 5336 0050 6345     		cmp	r3, ip
 5337 0052 E7D8     		bhi	.L517
 5338              	.LVL493:
 5339              	.L524:
1457:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
1458:lwIP/src/core/pbuf.c ****     }
1459:lwIP/src/core/pbuf.c ****   }
1460:lwIP/src/core/pbuf.c ****   return 0;
 5340              		.loc 1 1460 10 view .LVU1936
 5341 0054 0020     		movs	r0, #0
 5342              	.LVL494:
 5343              		.loc 1 1460 10 view .LVU1937
 5344              	.LBE466:
 5345              	.LBE465:
1461:lwIP/src/core/pbuf.c **** }
 5346              		.loc 1 1461 1 view .LVU1938
 5347 0056 F0BC     		pop	{r4, r5, r6, r7}
 5348              	.LCFI31:
 5349              		.cfi_remember_state
 5350              		.cfi_restore 7
 5351              		.cfi_restore 6
 5352              		.cfi_restore 5
ARM GAS  /tmp/ccJoevLK.s 			page 150


 5353              		.cfi_restore 4
 5354              		.cfi_def_cfa_offset 0
 5355 0058 7047     		bx	lr
 5356              	.LVL495:
 5357              	.L526:
 5358              	.LCFI32:
 5359              		.cfi_restore_state
 5360              	.LBB483:
 5361              	.LBB481:
 5362              	.LBB479:
1457:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5363              		.loc 1 1457 7 is_stmt 1 view .LVU1939
1457:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5364              		.loc 1 1457 14 is_stmt 0 view .LVU1940
 5365 005a 0CF10103 		add	r3, ip, #1
 5366              	.LVL496:
1457:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5367              		.loc 1 1457 14 view .LVU1941
 5368              	.LBE479:
 5369              	.LBE481:
 5370              	.LBE483:
 5371              		.loc 1 1461 1 view .LVU1942
 5372 005e F0BC     		pop	{r4, r5, r6, r7}
 5373              	.LCFI33:
 5374              		.cfi_remember_state
 5375              		.cfi_restore 7
 5376              		.cfi_restore 6
 5377              		.cfi_restore 5
 5378              		.cfi_restore 4
 5379              		.cfi_def_cfa_offset 0
 5380              	.LVL497:
 5381              	.LBB484:
 5382              	.LBB482:
 5383              	.LBB480:
1457:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5384              		.loc 1 1457 14 view .LVU1943
 5385 0060 98B2     		uxth	r0, r3
 5386              	.LVL498:
1457:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5387              		.loc 1 1457 14 view .LVU1944
 5388              	.LBE480:
 5389              	.LBE482:
 5390              	.LBE484:
 5391              		.loc 1 1461 1 view .LVU1945
 5392 0062 7047     		bx	lr
 5393              	.LVL499:
 5394              	.L525:
 5395              	.LCFI34:
 5396              		.cfi_restore_state
1442:lwIP/src/core/pbuf.c ****   }
 5397              		.loc 1 1442 12 view .LVU1946
 5398 0064 4FF6FF70 		movw	r0, #65535
 5399              	.LVL500:
 5400              		.loc 1 1461 1 view .LVU1947
 5401 0068 F0BC     		pop	{r4, r5, r6, r7}
 5402              	.LCFI35:
 5403              		.cfi_restore 7
ARM GAS  /tmp/ccJoevLK.s 			page 151


 5404              		.cfi_restore 6
 5405              		.cfi_restore 5
 5406              		.cfi_restore 4
 5407              		.cfi_def_cfa_offset 0
 5408 006a 7047     		bx	lr
 5409              		.cfi_endproc
 5410              	.LFE136:
 5412              		.section	.text.pbuf_memfind,"ax",%progbits
 5413              		.align	1
 5414              		.p2align 2,,3
 5415              		.global	pbuf_memfind
 5416              		.syntax unified
 5417              		.thumb
 5418              		.thumb_func
 5419              		.fpu fpv4-sp-d16
 5421              	pbuf_memfind:
 5422              	.LVL501:
 5423              	.LFB137:
1462:lwIP/src/core/pbuf.c **** 
1463:lwIP/src/core/pbuf.c **** /**
1464:lwIP/src/core/pbuf.c ****  * @ingroup pbuf
1465:lwIP/src/core/pbuf.c ****  * Find occurrence of mem (with length mem_len) in pbuf p, starting at offset
1466:lwIP/src/core/pbuf.c ****  * start_offset.
1467:lwIP/src/core/pbuf.c ****  *
1468:lwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1469:lwIP/src/core/pbuf.c ****  *        return value 'not found'
1470:lwIP/src/core/pbuf.c ****  * @param mem search for the contents of this buffer
1471:lwIP/src/core/pbuf.c ****  * @param mem_len length of 'mem'
1472:lwIP/src/core/pbuf.c ****  * @param start_offset offset into p at which to start searching
1473:lwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1474:lwIP/src/core/pbuf.c ****  */
1475:lwIP/src/core/pbuf.c **** u16_t
1476:lwIP/src/core/pbuf.c **** pbuf_memfind(const struct pbuf *p, const void *mem, u16_t mem_len, u16_t start_offset)
1477:lwIP/src/core/pbuf.c **** {
 5424              		.loc 1 1477 1 is_stmt 1 view -0
 5425              		.cfi_startproc
 5426              		@ args = 0, pretend = 0, frame = 0
 5427              		@ frame_needed = 0, uses_anonymous_args = 0
1478:lwIP/src/core/pbuf.c ****   u16_t i;
 5428              		.loc 1 1478 3 view .LVU1949
1479:lwIP/src/core/pbuf.c ****   u16_t max_cmp_start = (u16_t)(p->tot_len - mem_len);
 5429              		.loc 1 1479 3 view .LVU1950
1477:lwIP/src/core/pbuf.c ****   u16_t i;
 5430              		.loc 1 1477 1 is_stmt 0 view .LVU1951
 5431 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5432              	.LCFI36:
 5433              		.cfi_def_cfa_offset 32
 5434              		.cfi_offset 4, -32
 5435              		.cfi_offset 5, -28
 5436              		.cfi_offset 6, -24
 5437              		.cfi_offset 7, -20
 5438              		.cfi_offset 8, -16
 5439              		.cfi_offset 9, -12
 5440              		.cfi_offset 10, -8
 5441              		.cfi_offset 14, -4
 5442              		.loc 1 1479 34 view .LVU1952
 5443 0004 B0F80890 		ldrh	r9, [r0, #8]
ARM GAS  /tmp/ccJoevLK.s 			page 152


 5444              	.LVL502:
1480:lwIP/src/core/pbuf.c ****   if (p->tot_len >= mem_len + start_offset) {
 5445              		.loc 1 1480 3 is_stmt 1 view .LVU1953
 5446              		.loc 1 1480 29 is_stmt 0 view .LVU1954
 5447 0008 9C18     		adds	r4, r3, r2
 5448              		.loc 1 1480 6 view .LVU1955
 5449 000a A145     		cmp	r9, r4
 5450 000c 3BDB     		blt	.L540
1479:lwIP/src/core/pbuf.c ****   u16_t max_cmp_start = (u16_t)(p->tot_len - mem_len);
 5451              		.loc 1 1479 9 view .LVU1956
 5452 000e A9EB020A 		sub	r10, r9, r2
 5453 0012 1FFA8AFA 		uxth	r10, r10
 5454              	.LVL503:
1481:lwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max_cmp_start; i++) {
 5455              		.loc 1 1481 28 is_stmt 1 view .LVU1957
 5456              		.loc 1 1481 5 is_stmt 0 view .LVU1958
 5457 0016 9A45     		cmp	r10, r3
 5458 0018 35D3     		bcc	.L540
 5459 001a 02F1FF38 		add	r8, r2, #-1
 5460 001e 01F1FF3E 		add	lr, r1, #-1
 5461 0022 11FA88F8 		uxtah	r8, r1, r8
 5462              	.LVL504:
 5463              	.L538:
 5464              	.LBB497:
1482:lwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 5465              		.loc 1 1482 7 is_stmt 1 view .LVU1959
 5466              	.LBB498:
 5467              	.LBI498:
1434:lwIP/src/core/pbuf.c **** {
 5468              		.loc 1 1434 1 view .LVU1960
 5469              	.LBB499:
1436:lwIP/src/core/pbuf.c ****   const struct pbuf *q = p;
 5470              		.loc 1 1436 3 view .LVU1961
1437:lwIP/src/core/pbuf.c ****   u16_t i;
 5471              		.loc 1 1437 3 view .LVU1962
1438:lwIP/src/core/pbuf.c **** 
 5472              		.loc 1 1438 3 view .LVU1963
1441:lwIP/src/core/pbuf.c ****     return 0xffff;
 5473              		.loc 1 1441 3 view .LVU1964
1441:lwIP/src/core/pbuf.c ****     return 0xffff;
 5474              		.loc 1 1441 6 is_stmt 0 view .LVU1965
 5475 0026 A145     		cmp	r9, r4
 5476 0028 27DB     		blt	.L529
1441:lwIP/src/core/pbuf.c ****     return 0xffff;
 5477              		.loc 1 1441 6 view .LVU1966
 5478 002a 0446     		mov	r4, r0
 5479 002c 1E46     		mov	r6, r3
 5480              	.L530:
 5481              	.LBB500:
 5482              	.LBB501:
1447:lwIP/src/core/pbuf.c ****     q = q->next;
 5483              		.loc 1 1447 5 is_stmt 1 view .LVU1967
 5484              	.LVL505:
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5485              		.loc 1 1446 27 is_stmt 0 view .LVU1968
 5486 002e 6189     		ldrh	r1, [r4, #10]
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
ARM GAS  /tmp/ccJoevLK.s 			page 153


 5487              		.loc 1 1446 22 view .LVU1969
 5488 0030 B142     		cmp	r1, r6
1447:lwIP/src/core/pbuf.c ****     q = q->next;
 5489              		.loc 1 1447 11 view .LVU1970
 5490 0032 A6EB0101 		sub	r1, r6, r1
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5491              		.loc 1 1446 22 view .LVU1971
 5492 0036 03D8     		bhi	.L533
1448:lwIP/src/core/pbuf.c ****   }
 5493              		.loc 1 1448 7 view .LVU1972
 5494 0038 2468     		ldr	r4, [r4]
 5495              	.LVL506:
1447:lwIP/src/core/pbuf.c ****     q = q->next;
 5496              		.loc 1 1447 11 view .LVU1973
 5497 003a 8EB2     		uxth	r6, r1
 5498              	.LVL507:
1448:lwIP/src/core/pbuf.c ****   }
 5499              		.loc 1 1448 5 is_stmt 1 view .LVU1974
1446:lwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 5500              		.loc 1 1446 9 view .LVU1975
 5501 003c 002C     		cmp	r4, #0
 5502 003e F6D1     		bne	.L530
 5503              	.L533:
 5504              	.LVL508:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5505              		.loc 1 1452 15 view .LVU1976
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5506              		.loc 1 1452 3 is_stmt 0 view .LVU1977
 5507 0040 C2B1     		cbz	r2, .L528
 5508 0042 A6EB0E06 		sub	r6, r6, lr
 5509              	.LVL509:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5510              		.loc 1 1452 3 view .LVU1978
 5511 0046 F446     		mov	ip, lr
 5512              	.LVL510:
 5513              	.L537:
 5514              	.LBB502:
1454:lwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t *)s2)[i];
 5515              		.loc 1 1454 5 is_stmt 1 view .LVU1979
 5516 0048 06EB0C05 		add	r5, r6, ip
 5517              	.LBB503:
 5518              	.LBB504:
 5519              	.LBB505:
 5520              	.LBB506:
 5521              	.LBB507:
 5522              	.LBB508:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5523              		.loc 1 1158 9 is_stmt 0 view .LVU1980
 5524 004c 2146     		mov	r1, r4
 5525 004e ADB2     		uxth	r5, r5
 5526              	.LVL511:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5527              		.loc 1 1158 9 view .LVU1981
 5528              	.LBE508:
 5529              	.LBE507:
 5530              	.LBE506:
 5531              	.LBE505:
ARM GAS  /tmp/ccJoevLK.s 			page 154


 5532              	.LBE504:
 5533              	.LBI503:
1371:lwIP/src/core/pbuf.c **** {
 5534              		.loc 1 1371 1 is_stmt 1 view .LVU1982
 5535              	.LBB513:
1373:lwIP/src/core/pbuf.c ****   if (ret >= 0) {
 5536              		.loc 1 1373 3 view .LVU1983
 5537              	.LBB512:
 5538              	.LBI505:
1389:lwIP/src/core/pbuf.c **** {
 5539              		.loc 1 1389 1 view .LVU1984
 5540              	.LBB511:
1391:lwIP/src/core/pbuf.c ****   const struct pbuf *q = pbuf_skip_const(p, offset, &q_idx);
 5541              		.loc 1 1391 3 view .LVU1985
1392:lwIP/src/core/pbuf.c **** 
 5542              		.loc 1 1392 3 view .LVU1986
 5543              	.LBB510:
 5544              	.LBI507:
1152:lwIP/src/core/pbuf.c **** {
 5545              		.loc 1 1152 1 view .LVU1987
 5546              	.LBB509:
1154:lwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
 5547              		.loc 1 1154 3 view .LVU1988
1155:lwIP/src/core/pbuf.c **** 
 5548              		.loc 1 1155 3 view .LVU1989
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5549              		.loc 1 1158 3 view .LVU1990
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5550              		.loc 1 1158 9 view .LVU1991
 5551 0050 1CB9     		cbnz	r4, .L534
 5552              	.LVL512:
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5553              		.loc 1 1158 9 is_stmt 0 view .LVU1992
 5554 0052 09E0     		b	.L535
 5555              	.LVL513:
 5556              	.L536:
1160:lwIP/src/core/pbuf.c ****   }
 5557              		.loc 1 1160 7 view .LVU1993
 5558 0054 0968     		ldr	r1, [r1]
 5559              	.LVL514:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5560              		.loc 1 1159 17 view .LVU1994
 5561 0056 BDB2     		uxth	r5, r7
 5562              	.LVL515:
1160:lwIP/src/core/pbuf.c ****   }
 5563              		.loc 1 1160 5 is_stmt 1 view .LVU1995
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5564              		.loc 1 1158 9 view .LVU1996
 5565 0058 31B1     		cbz	r1, .L535
 5566              	.L534:
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5567              		.loc 1 1159 5 view .LVU1997
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5568              		.loc 1 1158 27 is_stmt 0 view .LVU1998
 5569 005a 4F89     		ldrh	r7, [r1, #10]
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5570              		.loc 1 1158 22 view .LVU1999
ARM GAS  /tmp/ccJoevLK.s 			page 155


 5571 005c AF42     		cmp	r7, r5
1159:lwIP/src/core/pbuf.c ****     q = q->next;
 5572              		.loc 1 1159 17 view .LVU2000
 5573 005e A5EB0707 		sub	r7, r5, r7
1158:lwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 5574              		.loc 1 1158 22 view .LVU2001
 5575 0062 F7D9     		bls	.L536
1162:lwIP/src/core/pbuf.c ****     *out_offset = offset_left;
 5576              		.loc 1 1162 3 is_stmt 1 view .LVU2002
1163:lwIP/src/core/pbuf.c ****   }
 5577              		.loc 1 1163 5 view .LVU2003
 5578              	.LVL516:
1165:lwIP/src/core/pbuf.c **** }
 5579              		.loc 1 1165 3 view .LVU2004
1165:lwIP/src/core/pbuf.c **** }
 5580              		.loc 1 1165 3 is_stmt 0 view .LVU2005
 5581              	.LBE509:
 5582              	.LBE510:
1395:lwIP/src/core/pbuf.c ****     return ((u8_t *)q->payload)[q_idx];
 5583              		.loc 1 1395 3 is_stmt 1 view .LVU2006
1396:lwIP/src/core/pbuf.c ****   }
 5584              		.loc 1 1396 5 view .LVU2007
1396:lwIP/src/core/pbuf.c ****   }
 5585              		.loc 1 1396 32 is_stmt 0 view .LVU2008
 5586 0064 4968     		ldr	r1, [r1, #4]
 5587              	.LVL517:
1396:lwIP/src/core/pbuf.c ****   }
 5588              		.loc 1 1396 32 view .LVU2009
 5589 0066 495D     		ldrb	r1, [r1, r5]	@ zero_extendqisi2
 5590              	.LVL518:
1396:lwIP/src/core/pbuf.c ****   }
 5591              		.loc 1 1396 32 view .LVU2010
 5592              	.LBE511:
 5593              	.LBE512:
1374:lwIP/src/core/pbuf.c ****     return (u8_t)ret;
 5594              		.loc 1 1374 3 is_stmt 1 view .LVU2011
1375:lwIP/src/core/pbuf.c ****   }
 5595              		.loc 1 1375 5 view .LVU2012
 5596              	.L535:
1375:lwIP/src/core/pbuf.c ****   }
 5597              		.loc 1 1375 5 is_stmt 0 view .LVU2013
 5598              	.LBE513:
 5599              	.LBE503:
1455:lwIP/src/core/pbuf.c ****     if (a != b) {
 5600              		.loc 1 1455 5 is_stmt 1 view .LVU2014
1456:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5601              		.loc 1 1456 5 view .LVU2015
1456:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5602              		.loc 1 1456 8 is_stmt 0 view .LVU2016
 5603 0068 1CF8015F 		ldrb	r5, [ip, #1]!	@ zero_extendqisi2
 5604              	.LVL519:
1456:lwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 5605              		.loc 1 1456 8 view .LVU2017
 5606 006c 8D42     		cmp	r5, r1
 5607 006e 04D1     		bne	.L529
 5608              	.LBE502:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
ARM GAS  /tmp/ccJoevLK.s 			page 156


 5609              		.loc 1 1452 22 is_stmt 1 view .LVU2018
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5610              		.loc 1 1452 15 view .LVU2019
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5611              		.loc 1 1452 3 is_stmt 0 view .LVU2020
 5612 0070 E045     		cmp	r8, ip
 5613 0072 E9D1     		bne	.L537
 5614              	.LVL520:
 5615              	.L528:
1452:lwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 5616              		.loc 1 1452 3 view .LVU2021
 5617              	.LBE501:
 5618              	.LBE500:
 5619              	.LBE499:
 5620              	.LBE498:
 5621              	.LBE497:
1483:lwIP/src/core/pbuf.c ****       if (plus == 0) {
1484:lwIP/src/core/pbuf.c ****         return i;
1485:lwIP/src/core/pbuf.c ****       }
1486:lwIP/src/core/pbuf.c ****     }
1487:lwIP/src/core/pbuf.c ****   }
1488:lwIP/src/core/pbuf.c ****   return 0xFFFF;
1489:lwIP/src/core/pbuf.c **** }
 5622              		.loc 1 1489 1 view .LVU2022
 5623 0074 1846     		mov	r0, r3
 5624              	.LVL521:
 5625              		.loc 1 1489 1 view .LVU2023
 5626 0076 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5627              	.LVL522:
 5628              	.L529:
1481:lwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 5629              		.loc 1 1481 48 is_stmt 1 discriminator 2 view .LVU2024
1481:lwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 5630              		.loc 1 1481 49 is_stmt 0 discriminator 2 view .LVU2025
 5631 007a 0133     		adds	r3, r3, #1
 5632              	.LVL523:
1481:lwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 5633              		.loc 1 1481 49 discriminator 2 view .LVU2026
 5634 007c 9BB2     		uxth	r3, r3
 5635              	.LVL524:
1481:lwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 5636              		.loc 1 1481 28 is_stmt 1 discriminator 2 view .LVU2027
1481:lwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 5637              		.loc 1 1481 5 is_stmt 0 discriminator 2 view .LVU2028
 5638 007e 9A45     		cmp	r10, r3
 5639 0080 01D3     		bcc	.L540
 5640 0082 9C18     		adds	r4, r3, r2
 5641 0084 CFE7     		b	.L538
 5642              	.LVL525:
 5643              	.L540:
1488:lwIP/src/core/pbuf.c **** }
 5644              		.loc 1 1488 10 view .LVU2029
 5645 0086 4FF6FF73 		movw	r3, #65535
 5646              		.loc 1 1489 1 view .LVU2030
 5647 008a 1846     		mov	r0, r3
 5648              	.LVL526:
 5649              		.loc 1 1489 1 view .LVU2031
ARM GAS  /tmp/ccJoevLK.s 			page 157


 5650 008c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5651              		.loc 1 1489 1 view .LVU2032
 5652              		.cfi_endproc
 5653              	.LFE137:
 5655              		.section	.text.pbuf_strstr,"ax",%progbits
 5656              		.align	1
 5657              		.p2align 2,,3
 5658              		.global	pbuf_strstr
 5659              		.syntax unified
 5660              		.thumb
 5661              		.thumb_func
 5662              		.fpu fpv4-sp-d16
 5664              	pbuf_strstr:
 5665              	.LVL527:
 5666              	.LFB138:
1490:lwIP/src/core/pbuf.c **** 
1491:lwIP/src/core/pbuf.c **** /**
1492:lwIP/src/core/pbuf.c ****  * Find occurrence of substr with length substr_len in pbuf p, start at offset
1493:lwIP/src/core/pbuf.c ****  * start_offset
1494:lwIP/src/core/pbuf.c ****  * WARNING: in contrast to strstr(), this one does not stop at the first \0 in
1495:lwIP/src/core/pbuf.c ****  * the pbuf/source string!
1496:lwIP/src/core/pbuf.c ****  *
1497:lwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1498:lwIP/src/core/pbuf.c ****  *        return value 'not found'
1499:lwIP/src/core/pbuf.c ****  * @param substr string to search for in p, maximum length is 0xFFFE
1500:lwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1501:lwIP/src/core/pbuf.c ****  */
1502:lwIP/src/core/pbuf.c **** u16_t
1503:lwIP/src/core/pbuf.c **** pbuf_strstr(const struct pbuf *p, const char *substr)
1504:lwIP/src/core/pbuf.c **** {
 5667              		.loc 1 1504 1 is_stmt 1 view -0
 5668              		.cfi_startproc
 5669              		@ args = 0, pretend = 0, frame = 0
 5670              		@ frame_needed = 0, uses_anonymous_args = 0
1505:lwIP/src/core/pbuf.c ****   size_t substr_len;
 5671              		.loc 1 1505 3 view .LVU2034
1506:lwIP/src/core/pbuf.c ****   if ((substr == NULL) || (substr[0] == 0) || (p->tot_len == 0xFFFF)) {
 5672              		.loc 1 1506 3 view .LVU2035
 5673              		.loc 1 1506 6 is_stmt 0 view .LVU2036
 5674 0000 E9B1     		cbz	r1, .L550
1504:lwIP/src/core/pbuf.c ****   size_t substr_len;
 5675              		.loc 1 1504 1 discriminator 1 view .LVU2037
 5676 0002 70B5     		push	{r4, r5, r6, lr}
 5677              	.LCFI37:
 5678              		.cfi_def_cfa_offset 16
 5679              		.cfi_offset 4, -16
 5680              		.cfi_offset 5, -12
 5681              		.cfi_offset 6, -8
 5682              		.cfi_offset 14, -4
 5683              		.loc 1 1506 24 discriminator 1 view .LVU2038
 5684 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 5685 0006 0C46     		mov	r4, r1
 5686 0008 B3B1     		cbz	r3, .L551
 5687 000a 0546     		mov	r5, r0
 5688              		.loc 1 1506 44 discriminator 2 view .LVU2039
 5689 000c 4FF6FF76 		movw	r6, #65535
 5690              		.loc 1 1506 49 discriminator 2 view .LVU2040
ARM GAS  /tmp/ccJoevLK.s 			page 158


 5691 0010 0089     		ldrh	r0, [r0, #8]
 5692              	.LVL528:
 5693              		.loc 1 1506 44 discriminator 2 view .LVU2041
 5694 0012 B042     		cmp	r0, r6
 5695 0014 0FD0     		beq	.L549
1507:lwIP/src/core/pbuf.c ****     return 0xFFFF;
1508:lwIP/src/core/pbuf.c ****   }
1509:lwIP/src/core/pbuf.c ****   substr_len = strlen(substr);
 5696              		.loc 1 1509 3 is_stmt 1 view .LVU2042
 5697              		.loc 1 1509 16 is_stmt 0 view .LVU2043
 5698 0016 0846     		mov	r0, r1
 5699 0018 FFF7FEFF 		bl	strlen
 5700              	.LVL529:
1510:lwIP/src/core/pbuf.c ****   if (substr_len >= 0xFFFF) {
 5701              		.loc 1 1510 6 view .LVU2044
 5702 001c 4FF6FE73 		movw	r3, #65534
 5703              	.LVL530:
 5704              		.loc 1 1510 3 is_stmt 1 view .LVU2045
 5705              		.loc 1 1510 6 is_stmt 0 view .LVU2046
 5706 0020 9842     		cmp	r0, r3
 5707 0022 07D8     		bhi	.L552
1511:lwIP/src/core/pbuf.c ****     return 0xFFFF;
1512:lwIP/src/core/pbuf.c ****   }
1513:lwIP/src/core/pbuf.c ****   return pbuf_memfind(p, substr, (u16_t)substr_len, 0);
 5708              		.loc 1 1513 3 is_stmt 1 view .LVU2047
 5709              		.loc 1 1513 10 is_stmt 0 view .LVU2048
 5710 0024 82B2     		uxth	r2, r0
 5711 0026 2146     		mov	r1, r4
 5712 0028 2846     		mov	r0, r5
 5713              	.LVL531:
 5714              		.loc 1 1513 10 view .LVU2049
 5715 002a 0023     		movs	r3, #0
1514:lwIP/src/core/pbuf.c **** }
 5716              		.loc 1 1514 1 view .LVU2050
 5717 002c BDE87040 		pop	{r4, r5, r6, lr}
 5718              	.LCFI38:
 5719              		.cfi_remember_state
 5720              		.cfi_restore 14
 5721              		.cfi_restore 6
 5722              		.cfi_restore 5
 5723              		.cfi_restore 4
 5724              		.cfi_def_cfa_offset 0
 5725              	.LVL532:
1513:lwIP/src/core/pbuf.c **** }
 5726              		.loc 1 1513 10 view .LVU2051
 5727 0030 FFF7FEBF 		b	pbuf_memfind
 5728              	.LVL533:
 5729              	.L552:
 5730              	.LCFI39:
 5731              		.cfi_restore_state
1507:lwIP/src/core/pbuf.c ****   }
 5732              		.loc 1 1507 12 view .LVU2052
 5733 0034 3046     		mov	r0, r6
 5734              	.LVL534:
 5735              	.L549:
 5736              		.loc 1 1514 1 view .LVU2053
 5737 0036 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccJoevLK.s 			page 159


 5738              	.LVL535:
 5739              	.L551:
1507:lwIP/src/core/pbuf.c ****   }
 5740              		.loc 1 1507 12 view .LVU2054
 5741 0038 4FF6FF70 		movw	r0, #65535
 5742              	.LVL536:
 5743              		.loc 1 1514 1 view .LVU2055
 5744 003c 70BD     		pop	{r4, r5, r6, pc}
 5745              	.LVL537:
 5746              	.L550:
 5747              	.LCFI40:
 5748              		.cfi_def_cfa_offset 0
 5749              		.cfi_restore 4
 5750              		.cfi_restore 5
 5751              		.cfi_restore 6
 5752              		.cfi_restore 14
1507:lwIP/src/core/pbuf.c ****   }
 5753              		.loc 1 1507 12 view .LVU2056
 5754 003e 4FF6FF70 		movw	r0, #65535
 5755              	.LVL538:
 5756              		.loc 1 1514 1 view .LVU2057
 5757 0042 7047     		bx	lr
 5758              		.cfi_endproc
 5759              	.LFE138:
 5761              		.text
 5762              	.Letext0:
 5763              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.0/include/stddef.h"
 5764              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
 5765              		.file 4 "/usr/arm-none-eabi/include/sys/lock.h"
 5766              		.file 5 "/usr/arm-none-eabi/include/sys/_types.h"
 5767              		.file 6 "/usr/arm-none-eabi/include/sys/reent.h"
 5768              		.file 7 "/usr/arm-none-eabi/include/stdlib.h"
 5769              		.file 8 "/usr/arm-none-eabi/include/sys/_stdint.h"
 5770              		.file 9 "lwIP/src/include/lwip/arch.h"
 5771              		.file 10 "/usr/arm-none-eabi/include/ctype.h"
 5772              		.file 11 "lwIP/src/include/lwip/err.h"
 5773              		.file 12 "lwIP/src/include/lwip/pbuf.h"
 5774              		.file 13 "lwIP/src/include/lwip/mem.h"
 5775              		.file 14 "lwIP/src/include/lwip/memp.h"
 5776              		.file 15 "lwIP/src/include/lwip/priv/memp_priv.h"
 5777              		.file 16 "lwIP/src/include/lwip/ip4_addr.h"
 5778              		.file 17 "lwIP/src/include/lwip/ip_addr.h"
 5779              		.file 18 "lwIP/src/include/lwip/netif.h"
 5780              		.file 19 "/usr/arm-none-eabi/include/string.h"
 5781              		.file 20 "/usr/arm-none-eabi/include/stdio.h"
 5782              		.file 21 "<built-in>"
ARM GAS  /tmp/ccJoevLK.s 			page 160


DEFINED SYMBOLS
                            *ABS*:0000000000000000 pbuf.c
     /tmp/ccJoevLK.s:18     .rodata.pbuf_free.part.0.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:28     .text.pbuf_free.part.0:0000000000000000 $t
     /tmp/ccJoevLK.s:36     .text.pbuf_free.part.0:0000000000000000 pbuf_free.part.0
     /tmp/ccJoevLK.s:251    .text.pbuf_free.part.0:000000000000007c $d
     /tmp/ccJoevLK.s:258    .rodata.pbuf_alloc.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:262    .text.pbuf_alloc:0000000000000000 $t
     /tmp/ccJoevLK.s:270    .text.pbuf_alloc:0000000000000000 pbuf_alloc
     /tmp/ccJoevLK.s:715    .text.pbuf_alloc:0000000000000110 $d
     /tmp/ccJoevLK.s:722    .rodata.pbuf_alloc_reference.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:726    .text.pbuf_alloc_reference:0000000000000000 $t
     /tmp/ccJoevLK.s:734    .text.pbuf_alloc_reference:0000000000000000 pbuf_alloc_reference
     /tmp/ccJoevLK.s:849    .text.pbuf_alloc_reference:0000000000000034 $d
     /tmp/ccJoevLK.s:854    .text.pbuf_alloced_custom:0000000000000000 $t
     /tmp/ccJoevLK.s:862    .text.pbuf_alloced_custom:0000000000000000 pbuf_alloced_custom
     /tmp/ccJoevLK.s:978    .rodata.pbuf_realloc.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:988    .text.pbuf_realloc:0000000000000000 $t
     /tmp/ccJoevLK.s:996    .text.pbuf_realloc:0000000000000000 pbuf_realloc
     /tmp/ccJoevLK.s:1186   .text.pbuf_realloc:0000000000000080 $d
     /tmp/ccJoevLK.s:1193   .rodata.pbuf_add_header.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:1197   .text.pbuf_add_header:0000000000000000 $t
     /tmp/ccJoevLK.s:1205   .text.pbuf_add_header:0000000000000000 pbuf_add_header
     /tmp/ccJoevLK.s:1364   .text.pbuf_add_header:000000000000004c $d
     /tmp/ccJoevLK.s:1371   .text.pbuf_add_header_force:0000000000000000 $t
     /tmp/ccJoevLK.s:1379   .text.pbuf_add_header_force:0000000000000000 pbuf_add_header_force
     /tmp/ccJoevLK.s:1539   .text.pbuf_add_header_force:0000000000000050 $d
     /tmp/ccJoevLK.s:1546   .rodata.pbuf_remove_header.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:1550   .text.pbuf_remove_header:0000000000000000 $t
     /tmp/ccJoevLK.s:1558   .text.pbuf_remove_header:0000000000000000 pbuf_remove_header
     /tmp/ccJoevLK.s:1691   .text.pbuf_remove_header:0000000000000040 $d
     /tmp/ccJoevLK.s:1697   .text.pbuf_header:0000000000000000 $t
     /tmp/ccJoevLK.s:1705   .text.pbuf_header:0000000000000000 pbuf_header
     /tmp/ccJoevLK.s:2012   .text.pbuf_header:000000000000007c $d
     /tmp/ccJoevLK.s:2026   .text.pbuf_header_force:0000000000000000 $t
     /tmp/ccJoevLK.s:2034   .text.pbuf_header_force:0000000000000000 pbuf_header_force
     /tmp/ccJoevLK.s:2333   .text.pbuf_header_force:000000000000007c $d
     /tmp/ccJoevLK.s:2347   .text.pbuf_free_header:0000000000000000 $t
     /tmp/ccJoevLK.s:2355   .text.pbuf_free_header:0000000000000000 pbuf_free_header
     /tmp/ccJoevLK.s:2528   .text.pbuf_free:0000000000000000 $t
     /tmp/ccJoevLK.s:2536   .text.pbuf_free:0000000000000000 pbuf_free
     /tmp/ccJoevLK.s:2577   .text.pbuf_free:0000000000000010 $d
     /tmp/ccJoevLK.s:2582   .text.pbuf_clen:0000000000000000 $t
     /tmp/ccJoevLK.s:2590   .text.pbuf_clen:0000000000000000 pbuf_clen
     /tmp/ccJoevLK.s:2631   .rodata.pbuf_ref.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:2635   .text.pbuf_ref:0000000000000000 $t
     /tmp/ccJoevLK.s:2643   .text.pbuf_ref:0000000000000000 pbuf_ref
     /tmp/ccJoevLK.s:2701   .text.pbuf_ref:000000000000001c $d
     /tmp/ccJoevLK.s:2706   .rodata.pbuf_cat.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:2714   .text.pbuf_cat:0000000000000000 $t
     /tmp/ccJoevLK.s:2722   .text.pbuf_cat:0000000000000000 pbuf_cat
     /tmp/ccJoevLK.s:2835   .text.pbuf_cat:000000000000003c $d
     /tmp/ccJoevLK.s:2841   .text.pbuf_chain:0000000000000000 $t
     /tmp/ccJoevLK.s:2849   .text.pbuf_chain:0000000000000000 pbuf_chain
     /tmp/ccJoevLK.s:3016   .text.pbuf_chain:0000000000000050 $d
     /tmp/ccJoevLK.s:3025   .rodata.pbuf_dechain.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:3032   .text.pbuf_dechain:0000000000000000 $t
ARM GAS  /tmp/ccJoevLK.s 			page 161


     /tmp/ccJoevLK.s:3040   .text.pbuf_dechain:0000000000000000 pbuf_dechain
     /tmp/ccJoevLK.s:3183   .text.pbuf_dechain:000000000000004c $d
     /tmp/ccJoevLK.s:3189   .rodata.pbuf_copy.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:3205   .text.pbuf_copy:0000000000000000 $t
     /tmp/ccJoevLK.s:3213   .text.pbuf_copy:0000000000000000 pbuf_copy
     /tmp/ccJoevLK.s:3518   .text.pbuf_copy:00000000000000e0 $d
     /tmp/ccJoevLK.s:3529   .rodata.pbuf_copy_partial.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:3536   .text.pbuf_copy_partial:0000000000000000 $t
     /tmp/ccJoevLK.s:3544   .text.pbuf_copy_partial:0000000000000000 pbuf_copy_partial
     /tmp/ccJoevLK.s:3715   .text.pbuf_copy_partial:000000000000006c $d
     /tmp/ccJoevLK.s:3723   .rodata.pbuf_get_contiguous.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:3730   .text.pbuf_get_contiguous:0000000000000000 $t
     /tmp/ccJoevLK.s:3738   .text.pbuf_get_contiguous:0000000000000000 pbuf_get_contiguous
     /tmp/ccJoevLK.s:4002   .text.pbuf_get_contiguous:00000000000000b4 $d
     /tmp/ccJoevLK.s:4008   .text.pbuf_skip:0000000000000000 $t
     /tmp/ccJoevLK.s:4016   .text.pbuf_skip:0000000000000000 pbuf_skip
     /tmp/ccJoevLK.s:4070   .rodata.pbuf_take.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:4086   .text.pbuf_take:0000000000000000 $t
     /tmp/ccJoevLK.s:4094   .text.pbuf_take:0000000000000000 pbuf_take
     /tmp/ccJoevLK.s:4271   .text.pbuf_take:0000000000000070 $d
     /tmp/ccJoevLK.s:4280   .text.pbuf_take_at:0000000000000000 $t
     /tmp/ccJoevLK.s:4288   .text.pbuf_take_at:0000000000000000 pbuf_take_at
     /tmp/ccJoevLK.s:4604   .text.pbuf_take_at:00000000000000bc $d
     /tmp/ccJoevLK.s:4615   .rodata.pbuf_coalesce.str1.4:0000000000000000 $d
     /tmp/ccJoevLK.s:4619   .text.pbuf_coalesce:0000000000000000 $t
     /tmp/ccJoevLK.s:4627   .text.pbuf_coalesce:0000000000000000 pbuf_coalesce
     /tmp/ccJoevLK.s:4844   .text.pbuf_coalesce:0000000000000070 $d
     /tmp/ccJoevLK.s:4852   .text.pbuf_clone:0000000000000000 $t
     /tmp/ccJoevLK.s:4860   .text.pbuf_clone:0000000000000000 pbuf_clone
     /tmp/ccJoevLK.s:4925   .text.pbuf_clone:0000000000000024 $d
     /tmp/ccJoevLK.s:4930   .text.pbuf_get_at:0000000000000000 $t
     /tmp/ccJoevLK.s:4938   .text.pbuf_get_at:0000000000000000 pbuf_get_at
     /tmp/ccJoevLK.s:5013   .text.pbuf_try_get_at:0000000000000000 $t
     /tmp/ccJoevLK.s:5021   .text.pbuf_try_get_at:0000000000000000 pbuf_try_get_at
     /tmp/ccJoevLK.s:5086   .text.pbuf_put_at:0000000000000000 $t
     /tmp/ccJoevLK.s:5094   .text.pbuf_put_at:0000000000000000 pbuf_put_at
     /tmp/ccJoevLK.s:5168   .text.pbuf_memcmp:0000000000000000 $t
     /tmp/ccJoevLK.s:5176   .text.pbuf_memcmp:0000000000000000 pbuf_memcmp
     /tmp/ccJoevLK.s:5413   .text.pbuf_memfind:0000000000000000 $t
     /tmp/ccJoevLK.s:5421   .text.pbuf_memfind:0000000000000000 pbuf_memfind
     /tmp/ccJoevLK.s:5656   .text.pbuf_strstr:0000000000000000 $t
     /tmp/ccJoevLK.s:5664   .text.pbuf_strstr:0000000000000000 pbuf_strstr

UNDEFINED SYMBOLS
mem_free
memp_free
printf
mem_malloc
memp_malloc
mem_trim
memcpy
strlen
